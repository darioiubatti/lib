var Sv=e=>{throw TypeError(e)};var wh=(e,t,n)=>t.has(e)||Sv("Cannot "+n);var de=(e,t,n)=>(wh(e,t,"read from private field"),n?n.call(e):t.get(e)),yt=(e,t,n)=>t.has(e)?Sv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),nt=(e,t,n,o)=>(wh(e,t,"write to private field"),o?o.call(e,n):t.set(e,n),n),_t=(e,t,n)=>(wh(e,t,"access private method"),n);function mE(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(o,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function bp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jh={exports:{}},Xa={},Nh={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function pE(){if(Cv)return ot;Cv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=g&&O[g]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function S(O,Q,xe){this.props=O,this.context=Q,this.refs=N,this.updater=xe||j}S.prototype.isReactComponent={},S.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=S.prototype;function P(O,Q,xe){this.props=O,this.context=Q,this.refs=N,this.updater=xe||j}var k=P.prototype=new T;k.constructor=P,C(k,S.prototype),k.isPureReactComponent=!0;var E=Array.isArray,I=Object.prototype.hasOwnProperty,L={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function _(O,Q,xe){var he,je={},_e=null,le=null;if(Q!=null)for(he in Q.ref!==void 0&&(le=Q.ref),Q.key!==void 0&&(_e=""+Q.key),Q)I.call(Q,he)&&!R.hasOwnProperty(he)&&(je[he]=Q[he]);var ve=arguments.length-2;if(ve===1)je.children=xe;else if(1<ve){for(var we=Array(ve),Ie=0;Ie<ve;Ie++)we[Ie]=arguments[Ie+2];je.children=we}if(O&&O.defaultProps)for(he in ve=O.defaultProps,ve)je[he]===void 0&&(je[he]=ve[he]);return{$$typeof:e,type:O,key:_e,ref:le,props:je,_owner:L.current}}function W(O,Q){return{$$typeof:e,type:O.type,key:Q,ref:O.ref,props:O.props,_owner:O._owner}}function $(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function M(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(xe){return Q[xe]})}var D=/\/+/g;function B(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):Q.toString(36)}function V(O,Q,xe,he,je){var _e=typeof O;(_e==="undefined"||_e==="boolean")&&(O=null);var le=!1;if(O===null)le=!0;else switch(_e){case"string":case"number":le=!0;break;case"object":switch(O.$$typeof){case e:case t:le=!0}}if(le)return le=O,je=je(le),O=he===""?"."+B(le,0):he,E(je)?(xe="",O!=null&&(xe=O.replace(D,"$&/")+"/"),V(je,Q,xe,"",function(Ie){return Ie})):je!=null&&($(je)&&(je=W(je,xe+(!je.key||le&&le.key===je.key?"":(""+je.key).replace(D,"$&/")+"/")+O)),Q.push(je)),1;if(le=0,he=he===""?".":he+":",E(O))for(var ve=0;ve<O.length;ve++){_e=O[ve];var we=he+B(_e,ve);le+=V(_e,Q,xe,we,je)}else if(we=v(O),typeof we=="function")for(O=we.call(O),ve=0;!(_e=O.next()).done;)_e=_e.value,we=he+B(_e,ve++),le+=V(_e,Q,xe,we,je);else if(_e==="object")throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return le}function Y(O,Q,xe){if(O==null)return O;var he=[],je=0;return V(O,he,"","",function(_e){return Q.call(xe,_e,je++)}),he}function ne(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(xe){(O._status===0||O._status===-1)&&(O._status=1,O._result=xe)},function(xe){(O._status===0||O._status===-1)&&(O._status=2,O._result=xe)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var G={current:null},w={transition:null},F={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:w,ReactCurrentOwner:L};function q(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:Y,forEach:function(O,Q,xe){Y(O,function(){Q.apply(this,arguments)},xe)},count:function(O){var Q=0;return Y(O,function(){Q++}),Q},toArray:function(O){return Y(O,function(Q){return Q})||[]},only:function(O){if(!$(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ot.Component=S,ot.Fragment=n,ot.Profiler=a,ot.PureComponent=P,ot.StrictMode=o,ot.Suspense=f,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,ot.act=q,ot.cloneElement=function(O,Q,xe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var he=C({},O.props),je=O.key,_e=O.ref,le=O._owner;if(Q!=null){if(Q.ref!==void 0&&(_e=Q.ref,le=L.current),Q.key!==void 0&&(je=""+Q.key),O.type&&O.type.defaultProps)var ve=O.type.defaultProps;for(we in Q)I.call(Q,we)&&!R.hasOwnProperty(we)&&(he[we]=Q[we]===void 0&&ve!==void 0?ve[we]:Q[we])}var we=arguments.length-2;if(we===1)he.children=xe;else if(1<we){ve=Array(we);for(var Ie=0;Ie<we;Ie++)ve[Ie]=arguments[Ie+2];he.children=ve}return{$$typeof:e,type:O.type,key:je,ref:_e,props:he,_owner:le}},ot.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},ot.createElement=_,ot.createFactory=function(O){var Q=_.bind(null,O);return Q.type=O,Q},ot.createRef=function(){return{current:null}},ot.forwardRef=function(O){return{$$typeof:d,render:O}},ot.isValidElement=$,ot.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:ne}},ot.memo=function(O,Q){return{$$typeof:p,type:O,compare:Q===void 0?null:Q}},ot.startTransition=function(O){var Q=w.transition;w.transition={};try{O()}finally{w.transition=Q}},ot.unstable_act=q,ot.useCallback=function(O,Q){return G.current.useCallback(O,Q)},ot.useContext=function(O){return G.current.useContext(O)},ot.useDebugValue=function(){},ot.useDeferredValue=function(O){return G.current.useDeferredValue(O)},ot.useEffect=function(O,Q){return G.current.useEffect(O,Q)},ot.useId=function(){return G.current.useId()},ot.useImperativeHandle=function(O,Q,xe){return G.current.useImperativeHandle(O,Q,xe)},ot.useInsertionEffect=function(O,Q){return G.current.useInsertionEffect(O,Q)},ot.useLayoutEffect=function(O,Q){return G.current.useLayoutEffect(O,Q)},ot.useMemo=function(O,Q){return G.current.useMemo(O,Q)},ot.useReducer=function(O,Q,xe){return G.current.useReducer(O,Q,xe)},ot.useRef=function(O){return G.current.useRef(O)},ot.useState=function(O){return G.current.useState(O)},ot.useSyncExternalStore=function(O,Q,xe){return G.current.useSyncExternalStore(O,Q,xe)},ot.useTransition=function(){return G.current.useTransition()},ot.version="18.3.1",ot}var kv;function wp(){return kv||(kv=1,Nh.exports=pE()),Nh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function gE(){if(_v)return Xa;_v=1;var e=wp(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,p){var m,g={},v=null,j=null;p!==void 0&&(v=""+p),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(j=f.ref);for(m in f)o.call(f,m)&&!l.hasOwnProperty(m)&&(g[m]=f[m]);if(d&&d.defaultProps)for(m in f=d.defaultProps,f)g[m]===void 0&&(g[m]=f[m]);return{$$typeof:t,type:d,key:v,ref:j,props:g,_owner:a.current}}return Xa.Fragment=n,Xa.jsx=c,Xa.jsxs=c,Xa}var Ev;function xE(){return Ev||(Ev=1,jh.exports=gE()),jh.exports}var s=xE(),x=wp();const Kn=bp(x),jp=mE({__proto__:null,default:Kn},[x]);var nu={},Sh={exports:{}},kn={},Ch={exports:{}},kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function yE(){return Tv||(Tv=1,(function(e){function t(w,F){var q=w.length;w.push(F);e:for(;0<q;){var O=q-1>>>1,Q=w[O];if(0<a(Q,F))w[O]=F,w[q]=Q,q=O;else break e}}function n(w){return w.length===0?null:w[0]}function o(w){if(w.length===0)return null;var F=w[0],q=w.pop();if(q!==F){w[0]=q;e:for(var O=0,Q=w.length,xe=Q>>>1;O<xe;){var he=2*(O+1)-1,je=w[he],_e=he+1,le=w[_e];if(0>a(je,q))_e<Q&&0>a(le,je)?(w[O]=le,w[_e]=q,O=_e):(w[O]=je,w[he]=q,O=he);else if(_e<Q&&0>a(le,q))w[O]=le,w[_e]=q,O=_e;else break e}}return F}function a(w,F){var q=w.sortIndex-F.sortIndex;return q!==0?q:w.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],p=[],m=1,g=null,v=3,j=!1,C=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(w){for(var F=n(p);F!==null;){if(F.callback===null)o(p);else if(F.startTime<=w)o(p),F.sortIndex=F.expirationTime,t(f,F);else break;F=n(p)}}function E(w){if(N=!1,k(w),!C)if(n(f)!==null)C=!0,ne(I);else{var F=n(p);F!==null&&G(E,F.startTime-w)}}function I(w,F){C=!1,N&&(N=!1,T(_),_=-1),j=!0;var q=v;try{for(k(F),g=n(f);g!==null&&(!(g.expirationTime>F)||w&&!M());){var O=g.callback;if(typeof O=="function"){g.callback=null,v=g.priorityLevel;var Q=O(g.expirationTime<=F);F=e.unstable_now(),typeof Q=="function"?g.callback=Q:g===n(f)&&o(f),k(F)}else o(f);g=n(f)}if(g!==null)var xe=!0;else{var he=n(p);he!==null&&G(E,he.startTime-F),xe=!1}return xe}finally{g=null,v=q,j=!1}}var L=!1,R=null,_=-1,W=5,$=-1;function M(){return!(e.unstable_now()-$<W)}function D(){if(R!==null){var w=e.unstable_now();$=w;var F=!0;try{F=R(!0,w)}finally{F?B():(L=!1,R=null)}}else L=!1}var B;if(typeof P=="function")B=function(){P(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=D,B=function(){Y.postMessage(null)}}else B=function(){S(D,0)};function ne(w){R=w,L||(L=!0,B())}function G(w,F){_=S(function(){w(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(w){w.callback=null},e.unstable_continueExecution=function(){C||j||(C=!0,ne(I))},e.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<w?Math.floor(1e3/w):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(w){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var q=v;v=F;try{return w()}finally{v=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(w,F){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var q=v;v=w;try{return F()}finally{v=q}},e.unstable_scheduleCallback=function(w,F,q){var O=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?O+q:O):q=O,w){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=q+Q,w={id:m++,callback:F,priorityLevel:w,startTime:q,expirationTime:Q,sortIndex:-1},q>O?(w.sortIndex=q,t(p,w),n(f)===null&&w===n(p)&&(N?(T(_),_=-1):N=!0,G(E,q-O))):(w.sortIndex=Q,t(f,w),C||j||(C=!0,ne(I))),w},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(w){var F=v;return function(){var q=v;v=F;try{return w.apply(this,arguments)}finally{v=q}}}})(kh)),kh}var Pv;function vE(){return Pv||(Pv=1,Ch.exports=yE()),Ch.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function bE(){if(Rv)return kn;Rv=1;var e=wp(),t=vE();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(a[r]=i,r=0;r<i.length;r++)o.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(r){return f.call(g,r)?!0:f.call(m,r)?!1:p.test(r)?g[r]=!0:(m[r]=!0,!1)}function j(r,i,u,h){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,i,u,h){if(i===null||typeof i>"u"||j(r,i,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(r,i,u,h,y,b,A){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=r,this.type=i,this.sanitizeURL=b,this.removeEmptyString=A}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new N(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];S[i]=new N(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new N(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new N(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new N(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new N(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new N(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new N(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new N(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function P(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(T,P);S[i]=new N(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(T,P);S[i]=new N(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(T,P);S[i]=new N(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new N(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new N(r,1,!1,r.toLowerCase(),null,!0,!0)});function k(r,i,u,h){var y=S.hasOwnProperty(i)?S[i]:null;(y!==null?y.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,u,y,h)&&(u=null),h||y===null?v(i)&&(u===null?r.removeAttribute(i):r.setAttribute(i,""+u)):y.mustUseProperty?r[y.propertyName]=u===null?y.type===3?!1:"":u:(i=y.attributeName,h=y.attributeNamespace,u===null?r.removeAttribute(i):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,h?r.setAttributeNS(h,i,u):r.setAttribute(i,u))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),L=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),M=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),w=Symbol.iterator;function F(r){return r===null||typeof r!="object"?null:(r=w&&r[w]||r["@@iterator"],typeof r=="function"?r:null)}var q=Object.assign,O;function Q(r){if(O===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+r}var xe=!1;function he(r,i){if(!r||xe)return"";xe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ee){var h=ee}Reflect.construct(r,[],i)}else{try{i.call()}catch(ee){h=ee}r.call(i.prototype)}else{try{throw Error()}catch(ee){h=ee}r()}}catch(ee){if(ee&&h&&typeof ee.stack=="string"){for(var y=ee.stack.split(`
`),b=h.stack.split(`
`),A=y.length-1,z=b.length-1;1<=A&&0<=z&&y[A]!==b[z];)z--;for(;1<=A&&0<=z;A--,z--)if(y[A]!==b[z]){if(A!==1||z!==1)do if(A--,z--,0>z||y[A]!==b[z]){var U=`
`+y[A].replace(" at new "," at ");return r.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",r.displayName)),U}while(1<=A&&0<=z);break}}}finally{xe=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?Q(r):""}function je(r){switch(r.tag){case 5:return Q(r.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return r=he(r.type,!1),r;case 11:return r=he(r.type.render,!1),r;case 1:return r=he(r.type,!0),r;default:return""}}function _e(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case L:return"Portal";case W:return"Profiler";case _:return"StrictMode";case B:return"Suspense";case V:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case $:return(r._context.displayName||"Context")+".Provider";case D:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Y:return i=r.displayName||null,i!==null?i:_e(r.type)||"Memo";case ne:i=r._payload,r=r._init;try{return _e(r(i))}catch{}}return null}function le(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(i);case 8:return i===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ve(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function we(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ie(r){var i=we(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return y.call(this)},set:function(A){h=""+A,b.call(this,A)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(A){h=""+A},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ce(r){r._valueTracker||(r._valueTracker=Ie(r))}function Ee(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var u=i.getValue(),h="";return r&&(h=we(r)?r.checked?"true":"false":r.value),r=h,r!==u?(i.setValue(r),!0):!1}function re(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function se(r,i){var u=i.checked;return q({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function Pe(r,i){var u=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;u=ve(i.value!=null?i.value:u),r._wrapperState={initialChecked:h,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function me(r,i){i=i.checked,i!=null&&k(r,"checked",i,!1)}function Be(r,i){me(r,i);var u=ve(i.value),h=i.type;if(u!=null)h==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Se(r,i.type,u):i.hasOwnProperty("defaultValue")&&Se(r,i.type,ve(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function ie(r,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,u||i===r.value||(r.value=i),r.defaultValue=i}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function Se(r,i,u){(i!=="number"||re(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var it=Array.isArray;function Xe(r,i,u,h){if(r=r.options,i){i={};for(var y=0;y<u.length;y++)i["$"+u[y]]=!0;for(u=0;u<r.length;u++)y=i.hasOwnProperty("$"+r[u].value),r[u].selected!==y&&(r[u].selected=y),y&&h&&(r[u].defaultSelected=!0)}else{for(u=""+ve(u),i=null,y=0;y<r.length;y++){if(r[y].value===u){r[y].selected=!0,h&&(r[y].defaultSelected=!0);return}i!==null||r[y].disabled||(i=r[y])}i!==null&&(i.selected=!0)}}function xt(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function tn(r,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(n(92));if(it(u)){if(1<u.length)throw Error(n(93));u=u[0]}i=u}i==null&&(i=""),u=i}r._wrapperState={initialValue:ve(u)}}function lt(r,i){var u=ve(i.value),h=ve(i.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),i.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),h!=null&&(r.defaultValue=""+h)}function Rt(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function bn(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mr(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?bn(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Zo,Hl=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,h,y){MSApp.execUnsafeLocalFunction(function(){return r(i,u,h,y)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Zo=Zo||document.createElement("div"),Zo.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Zo.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function lo(r,i){if(i){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=i;return}}r.textContent=i}var co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kl=["Webkit","ms","Moz","O"];Object.keys(co).forEach(function(r){Kl.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),co[i]=co[r]})});function Gl(r,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||co.hasOwnProperty(r)&&co[r]?(""+i).trim():i+"px"}function $s(r,i){r=r.style;for(var u in i)if(i.hasOwnProperty(u)){var h=u.indexOf("--")===0,y=Gl(u,i[u],h);u==="float"&&(u="cssFloat"),h?r.setProperty(u,y):r[u]=y}}var pr=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ei(r,i){if(i){if(pr[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function pa(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ti=null;function H(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ze=null,Ne=null,Ae=null;function rt(r){if(r=Oa(r)){if(typeof ze!="function")throw Error(n(280));var i=r.stateNode;i&&(i=xc(i),ze(r.stateNode,r.type,i))}}function Ut(r){Ne?Ae?Ae.push(r):Ae=[r]:Ne=r}function Ze(){if(Ne){var r=Ne,i=Ae;if(Ae=Ne=null,rt(r),i)for(r=0;r<i.length;r++)rt(i[r])}}function ft(r,i){return r(i)}function Ot(){}var vs=!1;function gr(r,i,u){if(vs)return r(i,u);vs=!0;try{return ft(r,i,u)}finally{vs=!1,(Ne!==null||Ae!==null)&&(Ot(),Ze())}}function uo(r,i){var u=r.stateNode;if(u===null)return null;var h=xc(u);if(h===null)return null;u=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,i,typeof u));return u}var ni=!1;if(d)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){ni=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{ni=!1}function b2(r,i,u,h,y,b,A,z,U){var ee=Array.prototype.slice.call(arguments,3);try{i.apply(u,ee)}catch(ge){this.onError(ge)}}var xa=!1,Ql=null,Yl=!1,Ld=null,w2={onError:function(r){xa=!0,Ql=r}};function j2(r,i,u,h,y,b,A,z,U){xa=!1,Ql=null,b2.apply(w2,arguments)}function N2(r,i,u,h,y,b,A,z,U){if(j2.apply(this,arguments),xa){if(xa){var ee=Ql;xa=!1,Ql=null}else throw Error(n(198));Yl||(Yl=!0,Ld=ee)}}function fo(r){var i=r,u=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(u=i.return),r=i.return;while(r)}return i.tag===3?u:null}function Kg(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Gg(r){if(fo(r)!==r)throw Error(n(188))}function S2(r){var i=r.alternate;if(!i){if(i=fo(r),i===null)throw Error(n(188));return i!==r?null:r}for(var u=r,h=i;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return Gg(y),r;if(b===h)return Gg(y),i;b=b.sibling}throw Error(n(188))}if(u.return!==h.return)u=y,h=b;else{for(var A=!1,z=y.child;z;){if(z===u){A=!0,u=y,h=b;break}if(z===h){A=!0,h=y,u=b;break}z=z.sibling}if(!A){for(z=b.child;z;){if(z===u){A=!0,u=b,h=y;break}if(z===h){A=!0,h=b,u=y;break}z=z.sibling}if(!A)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:i}function Qg(r){return r=S2(r),r!==null?Yg(r):null}function Yg(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Yg(r);if(i!==null)return i;r=r.sibling}return null}var Xg=t.unstable_scheduleCallback,Jg=t.unstable_cancelCallback,C2=t.unstable_shouldYield,k2=t.unstable_requestPaint,Lt=t.unstable_now,_2=t.unstable_getCurrentPriorityLevel,$d=t.unstable_ImmediatePriority,Zg=t.unstable_UserBlockingPriority,Xl=t.unstable_NormalPriority,E2=t.unstable_LowPriority,ex=t.unstable_IdlePriority,Jl=null,bs=null;function T2(r){if(bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(Jl,r,void 0,(r.current.flags&128)===128)}catch{}}var es=Math.clz32?Math.clz32:A2,P2=Math.log,R2=Math.LN2;function A2(r){return r>>>=0,r===0?32:31-(P2(r)/R2|0)|0}var Zl=64,ec=4194304;function ya(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function tc(r,i){var u=r.pendingLanes;if(u===0)return 0;var h=0,y=r.suspendedLanes,b=r.pingedLanes,A=u&268435455;if(A!==0){var z=A&~y;z!==0?h=ya(z):(b&=A,b!==0&&(h=ya(b)))}else A=u&~y,A!==0?h=ya(A):b!==0&&(h=ya(b));if(h===0)return 0;if(i!==0&&i!==h&&(i&y)===0&&(y=h&-h,b=i&-i,y>=b||y===16&&(b&4194240)!==0))return i;if((h&4)!==0&&(h|=u&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)u=31-es(i),y=1<<u,h|=r[u],i&=~y;return h}function M2(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F2(r,i){for(var u=r.suspendedLanes,h=r.pingedLanes,y=r.expirationTimes,b=r.pendingLanes;0<b;){var A=31-es(b),z=1<<A,U=y[A];U===-1?((z&u)===0||(z&h)!==0)&&(y[A]=M2(z,i)):U<=i&&(r.expiredLanes|=z),b&=~z}}function Vd(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function tx(){var r=Zl;return Zl<<=1,(Zl&4194240)===0&&(Zl=64),r}function Bd(r){for(var i=[],u=0;31>u;u++)i.push(r);return i}function va(r,i,u){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-es(i),r[i]=u}function D2(r,i){var u=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<u;){var y=31-es(u),b=1<<y;i[y]=0,h[y]=-1,r[y]=-1,u&=~b}}function Ud(r,i){var u=r.entangledLanes|=i;for(r=r.entanglements;u;){var h=31-es(u),y=1<<h;y&i|r[h]&i&&(r[h]|=i),u&=~y}}var jt=0;function nx(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var sx,Wd,rx,ox,ix,qd=!1,nc=[],xr=null,yr=null,vr=null,ba=new Map,wa=new Map,br=[],O2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ax(r,i){switch(r){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":ba.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wa.delete(i.pointerId)}}function ja(r,i,u,h,y,b){return r===null||r.nativeEvent!==b?(r={blockedOn:i,domEventName:u,eventSystemFlags:h,nativeEvent:b,targetContainers:[y]},i!==null&&(i=Oa(i),i!==null&&Wd(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),r)}function I2(r,i,u,h,y){switch(i){case"focusin":return xr=ja(xr,r,i,u,h,y),!0;case"dragenter":return yr=ja(yr,r,i,u,h,y),!0;case"mouseover":return vr=ja(vr,r,i,u,h,y),!0;case"pointerover":var b=y.pointerId;return ba.set(b,ja(ba.get(b)||null,r,i,u,h,y)),!0;case"gotpointercapture":return b=y.pointerId,wa.set(b,ja(wa.get(b)||null,r,i,u,h,y)),!0}return!1}function lx(r){var i=ho(r.target);if(i!==null){var u=fo(i);if(u!==null){if(i=u.tag,i===13){if(i=Kg(u),i!==null){r.blockedOn=i,ix(r.priority,function(){rx(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function sc(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var u=Kd(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var h=new u.constructor(u.type,u);ti=h,u.target.dispatchEvent(h),ti=null}else return i=Oa(u),i!==null&&Wd(i),r.blockedOn=u,!1;i.shift()}return!0}function cx(r,i,u){sc(r)&&u.delete(i)}function z2(){qd=!1,xr!==null&&sc(xr)&&(xr=null),yr!==null&&sc(yr)&&(yr=null),vr!==null&&sc(vr)&&(vr=null),ba.forEach(cx),wa.forEach(cx)}function Na(r,i){r.blockedOn===i&&(r.blockedOn=null,qd||(qd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,z2)))}function Sa(r){function i(y){return Na(y,r)}if(0<nc.length){Na(nc[0],r);for(var u=1;u<nc.length;u++){var h=nc[u];h.blockedOn===r&&(h.blockedOn=null)}}for(xr!==null&&Na(xr,r),yr!==null&&Na(yr,r),vr!==null&&Na(vr,r),ba.forEach(i),wa.forEach(i),u=0;u<br.length;u++)h=br[u],h.blockedOn===r&&(h.blockedOn=null);for(;0<br.length&&(u=br[0],u.blockedOn===null);)lx(u),u.blockedOn===null&&br.shift()}var si=E.ReactCurrentBatchConfig,rc=!0;function L2(r,i,u,h){var y=jt,b=si.transition;si.transition=null;try{jt=1,Hd(r,i,u,h)}finally{jt=y,si.transition=b}}function $2(r,i,u,h){var y=jt,b=si.transition;si.transition=null;try{jt=4,Hd(r,i,u,h)}finally{jt=y,si.transition=b}}function Hd(r,i,u,h){if(rc){var y=Kd(r,i,u,h);if(y===null)df(r,i,h,oc,u),ax(r,h);else if(I2(y,r,i,u,h))h.stopPropagation();else if(ax(r,h),i&4&&-1<O2.indexOf(r)){for(;y!==null;){var b=Oa(y);if(b!==null&&sx(b),b=Kd(r,i,u,h),b===null&&df(r,i,h,oc,u),b===y)break;y=b}y!==null&&h.stopPropagation()}else df(r,i,h,null,u)}}var oc=null;function Kd(r,i,u,h){if(oc=null,r=H(h),r=ho(r),r!==null)if(i=fo(r),i===null)r=null;else if(u=i.tag,u===13){if(r=Kg(i),r!==null)return r;r=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return oc=r,null}function ux(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_2()){case $d:return 1;case Zg:return 4;case Xl:case E2:return 16;case ex:return 536870912;default:return 16}default:return 16}}var wr=null,Gd=null,ic=null;function dx(){if(ic)return ic;var r,i=Gd,u=i.length,h,y="value"in wr?wr.value:wr.textContent,b=y.length;for(r=0;r<u&&i[r]===y[r];r++);var A=u-r;for(h=1;h<=A&&i[u-h]===y[b-h];h++);return ic=y.slice(r,1<h?1-h:void 0)}function ac(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function lc(){return!0}function fx(){return!1}function Mn(r){function i(u,h,y,b,A){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var z in r)r.hasOwnProperty(z)&&(u=r[z],this[z]=u?u(b):b[z]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?lc:fx,this.isPropagationStopped=fx,this}return q(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),i}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qd=Mn(ri),Ca=q({},ri,{view:0,detail:0}),V2=Mn(Ca),Yd,Xd,ka,cc=q({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ka&&(ka&&r.type==="mousemove"?(Yd=r.screenX-ka.screenX,Xd=r.screenY-ka.screenY):Xd=Yd=0,ka=r),Yd)},movementY:function(r){return"movementY"in r?r.movementY:Xd}}),hx=Mn(cc),B2=q({},cc,{dataTransfer:0}),U2=Mn(B2),W2=q({},Ca,{relatedTarget:0}),Jd=Mn(W2),q2=q({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),H2=Mn(q2),K2=q({},ri,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),G2=Mn(K2),Q2=q({},ri,{data:0}),mx=Mn(Q2),Y2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z2(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=J2[r])?!!i[r]:!1}function Zd(){return Z2}var e_=q({},Ca,{key:function(r){if(r.key){var i=Y2[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ac(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?X2[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zd,charCode:function(r){return r.type==="keypress"?ac(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ac(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),t_=Mn(e_),n_=q({},cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),px=Mn(n_),s_=q({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zd}),r_=Mn(s_),o_=q({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),i_=Mn(o_),a_=q({},cc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),l_=Mn(a_),c_=[9,13,27,32],ef=d&&"CompositionEvent"in window,_a=null;d&&"documentMode"in document&&(_a=document.documentMode);var u_=d&&"TextEvent"in window&&!_a,gx=d&&(!ef||_a&&8<_a&&11>=_a),xx=" ",yx=!1;function vx(r,i){switch(r){case"keyup":return c_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bx(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var oi=!1;function d_(r,i){switch(r){case"compositionend":return bx(i);case"keypress":return i.which!==32?null:(yx=!0,xx);case"textInput":return r=i.data,r===xx&&yx?null:r;default:return null}}function f_(r,i){if(oi)return r==="compositionend"||!ef&&vx(r,i)?(r=dx(),ic=Gd=wr=null,oi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return gx&&i.locale!=="ko"?null:i.data;default:return null}}var h_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wx(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!h_[r.type]:i==="textarea"}function jx(r,i,u,h){Ut(h),i=mc(i,"onChange"),0<i.length&&(u=new Qd("onChange","change",null,u,h),r.push({event:u,listeners:i}))}var Ea=null,Ta=null;function m_(r){$x(r,0)}function uc(r){var i=ui(r);if(Ee(i))return r}function p_(r,i){if(r==="change")return i}var Nx=!1;if(d){var tf;if(d){var nf="oninput"in document;if(!nf){var Sx=document.createElement("div");Sx.setAttribute("oninput","return;"),nf=typeof Sx.oninput=="function"}tf=nf}else tf=!1;Nx=tf&&(!document.documentMode||9<document.documentMode)}function Cx(){Ea&&(Ea.detachEvent("onpropertychange",kx),Ta=Ea=null)}function kx(r){if(r.propertyName==="value"&&uc(Ta)){var i=[];jx(i,Ta,r,H(r)),gr(m_,i)}}function g_(r,i,u){r==="focusin"?(Cx(),Ea=i,Ta=u,Ea.attachEvent("onpropertychange",kx)):r==="focusout"&&Cx()}function x_(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return uc(Ta)}function y_(r,i){if(r==="click")return uc(i)}function v_(r,i){if(r==="input"||r==="change")return uc(i)}function b_(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var ts=typeof Object.is=="function"?Object.is:b_;function Pa(r,i){if(ts(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var u=Object.keys(r),h=Object.keys(i);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!f.call(i,y)||!ts(r[y],i[y]))return!1}return!0}function _x(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ex(r,i){var u=_x(r);r=0;for(var h;u;){if(u.nodeType===3){if(h=r+u.textContent.length,r<=i&&h>=i)return{node:u,offset:i-r};r=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=_x(u)}}function Tx(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Tx(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Px(){for(var r=window,i=re();i instanceof r.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)r=i.contentWindow;else break;i=re(r.document)}return i}function sf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function w_(r){var i=Px(),u=r.focusedElem,h=r.selectionRange;if(i!==u&&u&&u.ownerDocument&&Tx(u.ownerDocument.documentElement,u)){if(h!==null&&sf(u)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(r,u.value.length);else if(r=(i=u.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var y=u.textContent.length,b=Math.min(h.start,y);h=h.end===void 0?b:Math.min(h.end,y),!r.extend&&b>h&&(y=h,h=b,b=y),y=Ex(u,b);var A=Ex(u,h);y&&A&&(r.rangeCount!==1||r.anchorNode!==y.node||r.anchorOffset!==y.offset||r.focusNode!==A.node||r.focusOffset!==A.offset)&&(i=i.createRange(),i.setStart(y.node,y.offset),r.removeAllRanges(),b>h?(r.addRange(i),r.extend(A.node,A.offset)):(i.setEnd(A.node,A.offset),r.addRange(i)))}}for(i=[],r=u;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)r=i[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var j_=d&&"documentMode"in document&&11>=document.documentMode,ii=null,rf=null,Ra=null,of=!1;function Rx(r,i,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;of||ii==null||ii!==re(h)||(h=ii,"selectionStart"in h&&sf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ra&&Pa(Ra,h)||(Ra=h,h=mc(rf,"onSelect"),0<h.length&&(i=new Qd("onSelect","select",null,i,u),r.push({event:i,listeners:h}),i.target=ii)))}function dc(r,i){var u={};return u[r.toLowerCase()]=i.toLowerCase(),u["Webkit"+r]="webkit"+i,u["Moz"+r]="moz"+i,u}var ai={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},af={},Ax={};d&&(Ax=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function fc(r){if(af[r])return af[r];if(!ai[r])return r;var i=ai[r],u;for(u in i)if(i.hasOwnProperty(u)&&u in Ax)return af[r]=i[u];return r}var Mx=fc("animationend"),Fx=fc("animationiteration"),Dx=fc("animationstart"),Ox=fc("transitionend"),Ix=new Map,zx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(r,i){Ix.set(r,i),l(i,[r])}for(var lf=0;lf<zx.length;lf++){var cf=zx[lf],N_=cf.toLowerCase(),S_=cf[0].toUpperCase()+cf.slice(1);jr(N_,"on"+S_)}jr(Mx,"onAnimationEnd"),jr(Fx,"onAnimationIteration"),jr(Dx,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Ox,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function Lx(r,i,u){var h=r.type||"unknown-event";r.currentTarget=u,N2(h,i,void 0,r),r.currentTarget=null}function $x(r,i){i=(i&4)!==0;for(var u=0;u<r.length;u++){var h=r[u],y=h.event;h=h.listeners;e:{var b=void 0;if(i)for(var A=h.length-1;0<=A;A--){var z=h[A],U=z.instance,ee=z.currentTarget;if(z=z.listener,U!==b&&y.isPropagationStopped())break e;Lx(y,z,ee),b=U}else for(A=0;A<h.length;A++){if(z=h[A],U=z.instance,ee=z.currentTarget,z=z.listener,U!==b&&y.isPropagationStopped())break e;Lx(y,z,ee),b=U}}}if(Yl)throw r=Ld,Yl=!1,Ld=null,r}function Ct(r,i){var u=i[xf];u===void 0&&(u=i[xf]=new Set);var h=r+"__bubble";u.has(h)||(Vx(i,r,2,!1),u.add(h))}function uf(r,i,u){var h=0;i&&(h|=4),Vx(u,r,h,i)}var hc="_reactListening"+Math.random().toString(36).slice(2);function Ma(r){if(!r[hc]){r[hc]=!0,o.forEach(function(u){u!=="selectionchange"&&(C_.has(u)||uf(u,!1,r),uf(u,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[hc]||(i[hc]=!0,uf("selectionchange",!1,i))}}function Vx(r,i,u,h){switch(ux(i)){case 1:var y=L2;break;case 4:y=$2;break;default:y=Hd}u=y.bind(null,i,u,r),y=void 0,!ni||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),h?y!==void 0?r.addEventListener(i,u,{capture:!0,passive:y}):r.addEventListener(i,u,!0):y!==void 0?r.addEventListener(i,u,{passive:y}):r.addEventListener(i,u,!1)}function df(r,i,u,h,y){var b=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var z=h.stateNode.containerInfo;if(z===y||z.nodeType===8&&z.parentNode===y)break;if(A===4)for(A=h.return;A!==null;){var U=A.tag;if((U===3||U===4)&&(U=A.stateNode.containerInfo,U===y||U.nodeType===8&&U.parentNode===y))return;A=A.return}for(;z!==null;){if(A=ho(z),A===null)return;if(U=A.tag,U===5||U===6){h=b=A;continue e}z=z.parentNode}}h=h.return}gr(function(){var ee=b,ge=H(u),ye=[];e:{var pe=Ix.get(r);if(pe!==void 0){var Re=Qd,Fe=r;switch(r){case"keypress":if(ac(u)===0)break e;case"keydown":case"keyup":Re=t_;break;case"focusin":Fe="focus",Re=Jd;break;case"focusout":Fe="blur",Re=Jd;break;case"beforeblur":case"afterblur":Re=Jd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=U2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=r_;break;case Mx:case Fx:case Dx:Re=H2;break;case Ox:Re=i_;break;case"scroll":Re=V2;break;case"wheel":Re=l_;break;case"copy":case"cut":case"paste":Re=G2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=px}var Le=(i&4)!==0,$t=!Le&&r==="scroll",X=Le?pe!==null?pe+"Capture":null:pe;Le=[];for(var K=ee,J;K!==null;){J=K;var be=J.stateNode;if(J.tag===5&&be!==null&&(J=be,X!==null&&(be=uo(K,X),be!=null&&Le.push(Fa(K,be,J)))),$t)break;K=K.return}0<Le.length&&(pe=new Re(pe,Fe,null,u,ge),ye.push({event:pe,listeners:Le}))}}if((i&7)===0){e:{if(pe=r==="mouseover"||r==="pointerover",Re=r==="mouseout"||r==="pointerout",pe&&u!==ti&&(Fe=u.relatedTarget||u.fromElement)&&(ho(Fe)||Fe[Vs]))break e;if((Re||pe)&&(pe=ge.window===ge?ge:(pe=ge.ownerDocument)?pe.defaultView||pe.parentWindow:window,Re?(Fe=u.relatedTarget||u.toElement,Re=ee,Fe=Fe?ho(Fe):null,Fe!==null&&($t=fo(Fe),Fe!==$t||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(Re=null,Fe=ee),Re!==Fe)){if(Le=hx,be="onMouseLeave",X="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(Le=px,be="onPointerLeave",X="onPointerEnter",K="pointer"),$t=Re==null?pe:ui(Re),J=Fe==null?pe:ui(Fe),pe=new Le(be,K+"leave",Re,u,ge),pe.target=$t,pe.relatedTarget=J,be=null,ho(ge)===ee&&(Le=new Le(X,K+"enter",Fe,u,ge),Le.target=J,Le.relatedTarget=$t,be=Le),$t=be,Re&&Fe)t:{for(Le=Re,X=Fe,K=0,J=Le;J;J=li(J))K++;for(J=0,be=X;be;be=li(be))J++;for(;0<K-J;)Le=li(Le),K--;for(;0<J-K;)X=li(X),J--;for(;K--;){if(Le===X||X!==null&&Le===X.alternate)break t;Le=li(Le),X=li(X)}Le=null}else Le=null;Re!==null&&Bx(ye,pe,Re,Le,!1),Fe!==null&&$t!==null&&Bx(ye,$t,Fe,Le,!0)}}e:{if(pe=ee?ui(ee):window,Re=pe.nodeName&&pe.nodeName.toLowerCase(),Re==="select"||Re==="input"&&pe.type==="file")var Ve=p_;else if(wx(pe))if(Nx)Ve=v_;else{Ve=x_;var qe=g_}else(Re=pe.nodeName)&&Re.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Ve=y_);if(Ve&&(Ve=Ve(r,ee))){jx(ye,Ve,u,ge);break e}qe&&qe(r,pe,ee),r==="focusout"&&(qe=pe._wrapperState)&&qe.controlled&&pe.type==="number"&&Se(pe,"number",pe.value)}switch(qe=ee?ui(ee):window,r){case"focusin":(wx(qe)||qe.contentEditable==="true")&&(ii=qe,rf=ee,Ra=null);break;case"focusout":Ra=rf=ii=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,Rx(ye,u,ge);break;case"selectionchange":if(j_)break;case"keydown":case"keyup":Rx(ye,u,ge)}var He;if(ef)e:{switch(r){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else oi?vx(r,u)&&(Qe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Qe="onCompositionStart");Qe&&(gx&&u.locale!=="ko"&&(oi||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&oi&&(He=dx()):(wr=ge,Gd="value"in wr?wr.value:wr.textContent,oi=!0)),qe=mc(ee,Qe),0<qe.length&&(Qe=new mx(Qe,r,null,u,ge),ye.push({event:Qe,listeners:qe}),He?Qe.data=He:(He=bx(u),He!==null&&(Qe.data=He)))),(He=u_?d_(r,u):f_(r,u))&&(ee=mc(ee,"onBeforeInput"),0<ee.length&&(ge=new mx("onBeforeInput","beforeinput",null,u,ge),ye.push({event:ge,listeners:ee}),ge.data=He))}$x(ye,i)})}function Fa(r,i,u){return{instance:r,listener:i,currentTarget:u}}function mc(r,i){for(var u=i+"Capture",h=[];r!==null;){var y=r,b=y.stateNode;y.tag===5&&b!==null&&(y=b,b=uo(r,u),b!=null&&h.unshift(Fa(r,b,y)),b=uo(r,i),b!=null&&h.push(Fa(r,b,y))),r=r.return}return h}function li(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Bx(r,i,u,h,y){for(var b=i._reactName,A=[];u!==null&&u!==h;){var z=u,U=z.alternate,ee=z.stateNode;if(U!==null&&U===h)break;z.tag===5&&ee!==null&&(z=ee,y?(U=uo(u,b),U!=null&&A.unshift(Fa(u,U,z))):y||(U=uo(u,b),U!=null&&A.push(Fa(u,U,z)))),u=u.return}A.length!==0&&r.push({event:i,listeners:A})}var k_=/\r\n?/g,__=/\u0000|\uFFFD/g;function Ux(r){return(typeof r=="string"?r:""+r).replace(k_,`
`).replace(__,"")}function pc(r,i,u){if(i=Ux(i),Ux(r)!==i&&u)throw Error(n(425))}function gc(){}var ff=null,hf=null;function mf(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pf=typeof setTimeout=="function"?setTimeout:void 0,E_=typeof clearTimeout=="function"?clearTimeout:void 0,Wx=typeof Promise=="function"?Promise:void 0,T_=typeof queueMicrotask=="function"?queueMicrotask:typeof Wx<"u"?function(r){return Wx.resolve(null).then(r).catch(P_)}:pf;function P_(r){setTimeout(function(){throw r})}function gf(r,i){var u=i,h=0;do{var y=u.nextSibling;if(r.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(h===0){r.removeChild(y),Sa(i);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=y}while(u);Sa(i)}function Nr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function qx(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return r;i--}else u==="/$"&&i++}r=r.previousSibling}return null}var ci=Math.random().toString(36).slice(2),ws="__reactFiber$"+ci,Da="__reactProps$"+ci,Vs="__reactContainer$"+ci,xf="__reactEvents$"+ci,R_="__reactListeners$"+ci,A_="__reactHandles$"+ci;function ho(r){var i=r[ws];if(i)return i;for(var u=r.parentNode;u;){if(i=u[Vs]||u[ws]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(r=qx(r);r!==null;){if(u=r[ws])return u;r=qx(r)}return i}r=u,u=r.parentNode}return null}function Oa(r){return r=r[ws]||r[Vs],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ui(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function xc(r){return r[Da]||null}var yf=[],di=-1;function Sr(r){return{current:r}}function kt(r){0>di||(r.current=yf[di],yf[di]=null,di--)}function St(r,i){di++,yf[di]=r.current,r.current=i}var Cr={},cn=Sr(Cr),wn=Sr(!1),mo=Cr;function fi(r,i){var u=r.type.contextTypes;if(!u)return Cr;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var y={},b;for(b in u)y[b]=i[b];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=y),y}function jn(r){return r=r.childContextTypes,r!=null}function yc(){kt(wn),kt(cn)}function Hx(r,i,u){if(cn.current!==Cr)throw Error(n(168));St(cn,i),St(wn,u)}function Kx(r,i,u){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var y in h)if(!(y in i))throw Error(n(108,le(r)||"Unknown",y));return q({},u,h)}function vc(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Cr,mo=cn.current,St(cn,r),St(wn,wn.current),!0}function Gx(r,i,u){var h=r.stateNode;if(!h)throw Error(n(169));u?(r=Kx(r,i,mo),h.__reactInternalMemoizedMergedChildContext=r,kt(wn),kt(cn),St(cn,r)):kt(wn),St(wn,u)}var Bs=null,bc=!1,vf=!1;function Qx(r){Bs===null?Bs=[r]:Bs.push(r)}function M_(r){bc=!0,Qx(r)}function kr(){if(!vf&&Bs!==null){vf=!0;var r=0,i=jt;try{var u=Bs;for(jt=1;r<u.length;r++){var h=u[r];do h=h(!0);while(h!==null)}Bs=null,bc=!1}catch(y){throw Bs!==null&&(Bs=Bs.slice(r+1)),Xg($d,kr),y}finally{jt=i,vf=!1}}return null}var hi=[],mi=0,wc=null,jc=0,Ln=[],$n=0,po=null,Us=1,Ws="";function go(r,i){hi[mi++]=jc,hi[mi++]=wc,wc=r,jc=i}function Yx(r,i,u){Ln[$n++]=Us,Ln[$n++]=Ws,Ln[$n++]=po,po=r;var h=Us;r=Ws;var y=32-es(h)-1;h&=~(1<<y),u+=1;var b=32-es(i)+y;if(30<b){var A=y-y%5;b=(h&(1<<A)-1).toString(32),h>>=A,y-=A,Us=1<<32-es(i)+y|u<<y|h,Ws=b+r}else Us=1<<b|u<<y|h,Ws=r}function bf(r){r.return!==null&&(go(r,1),Yx(r,1,0))}function wf(r){for(;r===wc;)wc=hi[--mi],hi[mi]=null,jc=hi[--mi],hi[mi]=null;for(;r===po;)po=Ln[--$n],Ln[$n]=null,Ws=Ln[--$n],Ln[$n]=null,Us=Ln[--$n],Ln[$n]=null}var Fn=null,Dn=null,Tt=!1,ns=null;function Xx(r,i){var u=Wn(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=r,i=r.deletions,i===null?(r.deletions=[u],r.flags|=16):i.push(u)}function Jx(r,i){switch(r.tag){case 5:var u=r.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Fn=r,Dn=Nr(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Fn=r,Dn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=po!==null?{id:Us,overflow:Ws}:null,r.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Wn(18,null,null,0),u.stateNode=i,u.return=r,r.child=u,Fn=r,Dn=null,!0):!1;default:return!1}}function jf(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Nf(r){if(Tt){var i=Dn;if(i){var u=i;if(!Jx(r,i)){if(jf(r))throw Error(n(418));i=Nr(u.nextSibling);var h=Fn;i&&Jx(r,i)?Xx(h,u):(r.flags=r.flags&-4097|2,Tt=!1,Fn=r)}}else{if(jf(r))throw Error(n(418));r.flags=r.flags&-4097|2,Tt=!1,Fn=r}}}function Zx(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Fn=r}function Nc(r){if(r!==Fn)return!1;if(!Tt)return Zx(r),Tt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!mf(r.type,r.memoizedProps)),i&&(i=Dn)){if(jf(r))throw ey(),Error(n(418));for(;i;)Xx(r,i),i=Nr(i.nextSibling)}if(Zx(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(i===0){Dn=Nr(r.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}r=r.nextSibling}Dn=null}}else Dn=Fn?Nr(r.stateNode.nextSibling):null;return!0}function ey(){for(var r=Dn;r;)r=Nr(r.nextSibling)}function pi(){Dn=Fn=null,Tt=!1}function Sf(r){ns===null?ns=[r]:ns.push(r)}var F_=E.ReactCurrentBatchConfig;function Ia(r,i,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var h=u.stateNode}if(!h)throw Error(n(147,r));var y=h,b=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===b?i.ref:(i=function(A){var z=y.refs;A===null?delete z[b]:z[b]=A},i._stringRef=b,i)}if(typeof r!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,r))}return r}function Sc(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function ty(r){var i=r._init;return i(r._payload)}function ny(r){function i(X,K){if(r){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function u(X,K){if(!r)return null;for(;K!==null;)i(X,K),K=K.sibling;return null}function h(X,K){for(X=new Map;K!==null;)K.key!==null?X.set(K.key,K):X.set(K.index,K),K=K.sibling;return X}function y(X,K){return X=Fr(X,K),X.index=0,X.sibling=null,X}function b(X,K,J){return X.index=J,r?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=2,K):J):(X.flags|=2,K)):(X.flags|=1048576,K)}function A(X){return r&&X.alternate===null&&(X.flags|=2),X}function z(X,K,J,be){return K===null||K.tag!==6?(K=ph(J,X.mode,be),K.return=X,K):(K=y(K,J),K.return=X,K)}function U(X,K,J,be){var Ve=J.type;return Ve===R?ge(X,K,J.props.children,be,J.key):K!==null&&(K.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===ne&&ty(Ve)===K.type)?(be=y(K,J.props),be.ref=Ia(X,K,J),be.return=X,be):(be=Gc(J.type,J.key,J.props,null,X.mode,be),be.ref=Ia(X,K,J),be.return=X,be)}function ee(X,K,J,be){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=gh(J,X.mode,be),K.return=X,K):(K=y(K,J.children||[]),K.return=X,K)}function ge(X,K,J,be,Ve){return K===null||K.tag!==7?(K=So(J,X.mode,be,Ve),K.return=X,K):(K=y(K,J),K.return=X,K)}function ye(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number")return K=ph(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case I:return J=Gc(K.type,K.key,K.props,null,X.mode,J),J.ref=Ia(X,null,K),J.return=X,J;case L:return K=gh(K,X.mode,J),K.return=X,K;case ne:var be=K._init;return ye(X,be(K._payload),J)}if(it(K)||F(K))return K=So(K,X.mode,J,null),K.return=X,K;Sc(X,K)}return null}function pe(X,K,J,be){var Ve=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Ve!==null?null:z(X,K,""+J,be);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return J.key===Ve?U(X,K,J,be):null;case L:return J.key===Ve?ee(X,K,J,be):null;case ne:return Ve=J._init,pe(X,K,Ve(J._payload),be)}if(it(J)||F(J))return Ve!==null?null:ge(X,K,J,be,null);Sc(X,J)}return null}function Re(X,K,J,be,Ve){if(typeof be=="string"&&be!==""||typeof be=="number")return X=X.get(J)||null,z(K,X,""+be,Ve);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case I:return X=X.get(be.key===null?J:be.key)||null,U(K,X,be,Ve);case L:return X=X.get(be.key===null?J:be.key)||null,ee(K,X,be,Ve);case ne:var qe=be._init;return Re(X,K,J,qe(be._payload),Ve)}if(it(be)||F(be))return X=X.get(J)||null,ge(K,X,be,Ve,null);Sc(K,be)}return null}function Fe(X,K,J,be){for(var Ve=null,qe=null,He=K,Qe=K=0,Jt=null;He!==null&&Qe<J.length;Qe++){He.index>Qe?(Jt=He,He=null):Jt=He.sibling;var dt=pe(X,He,J[Qe],be);if(dt===null){He===null&&(He=Jt);break}r&&He&&dt.alternate===null&&i(X,He),K=b(dt,K,Qe),qe===null?Ve=dt:qe.sibling=dt,qe=dt,He=Jt}if(Qe===J.length)return u(X,He),Tt&&go(X,Qe),Ve;if(He===null){for(;Qe<J.length;Qe++)He=ye(X,J[Qe],be),He!==null&&(K=b(He,K,Qe),qe===null?Ve=He:qe.sibling=He,qe=He);return Tt&&go(X,Qe),Ve}for(He=h(X,He);Qe<J.length;Qe++)Jt=Re(He,X,Qe,J[Qe],be),Jt!==null&&(r&&Jt.alternate!==null&&He.delete(Jt.key===null?Qe:Jt.key),K=b(Jt,K,Qe),qe===null?Ve=Jt:qe.sibling=Jt,qe=Jt);return r&&He.forEach(function(Dr){return i(X,Dr)}),Tt&&go(X,Qe),Ve}function Le(X,K,J,be){var Ve=F(J);if(typeof Ve!="function")throw Error(n(150));if(J=Ve.call(J),J==null)throw Error(n(151));for(var qe=Ve=null,He=K,Qe=K=0,Jt=null,dt=J.next();He!==null&&!dt.done;Qe++,dt=J.next()){He.index>Qe?(Jt=He,He=null):Jt=He.sibling;var Dr=pe(X,He,dt.value,be);if(Dr===null){He===null&&(He=Jt);break}r&&He&&Dr.alternate===null&&i(X,He),K=b(Dr,K,Qe),qe===null?Ve=Dr:qe.sibling=Dr,qe=Dr,He=Jt}if(dt.done)return u(X,He),Tt&&go(X,Qe),Ve;if(He===null){for(;!dt.done;Qe++,dt=J.next())dt=ye(X,dt.value,be),dt!==null&&(K=b(dt,K,Qe),qe===null?Ve=dt:qe.sibling=dt,qe=dt);return Tt&&go(X,Qe),Ve}for(He=h(X,He);!dt.done;Qe++,dt=J.next())dt=Re(He,X,Qe,dt.value,be),dt!==null&&(r&&dt.alternate!==null&&He.delete(dt.key===null?Qe:dt.key),K=b(dt,K,Qe),qe===null?Ve=dt:qe.sibling=dt,qe=dt);return r&&He.forEach(function(hE){return i(X,hE)}),Tt&&go(X,Qe),Ve}function $t(X,K,J,be){if(typeof J=="object"&&J!==null&&J.type===R&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case I:e:{for(var Ve=J.key,qe=K;qe!==null;){if(qe.key===Ve){if(Ve=J.type,Ve===R){if(qe.tag===7){u(X,qe.sibling),K=y(qe,J.props.children),K.return=X,X=K;break e}}else if(qe.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===ne&&ty(Ve)===qe.type){u(X,qe.sibling),K=y(qe,J.props),K.ref=Ia(X,qe,J),K.return=X,X=K;break e}u(X,qe);break}else i(X,qe);qe=qe.sibling}J.type===R?(K=So(J.props.children,X.mode,be,J.key),K.return=X,X=K):(be=Gc(J.type,J.key,J.props,null,X.mode,be),be.ref=Ia(X,K,J),be.return=X,X=be)}return A(X);case L:e:{for(qe=J.key;K!==null;){if(K.key===qe)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){u(X,K.sibling),K=y(K,J.children||[]),K.return=X,X=K;break e}else{u(X,K);break}else i(X,K);K=K.sibling}K=gh(J,X.mode,be),K.return=X,X=K}return A(X);case ne:return qe=J._init,$t(X,K,qe(J._payload),be)}if(it(J))return Fe(X,K,J,be);if(F(J))return Le(X,K,J,be);Sc(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,K!==null&&K.tag===6?(u(X,K.sibling),K=y(K,J),K.return=X,X=K):(u(X,K),K=ph(J,X.mode,be),K.return=X,X=K),A(X)):u(X,K)}return $t}var gi=ny(!0),sy=ny(!1),Cc=Sr(null),kc=null,xi=null,Cf=null;function kf(){Cf=xi=kc=null}function _f(r){var i=Cc.current;kt(Cc),r._currentValue=i}function Ef(r,i,u){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===u)break;r=r.return}}function yi(r,i){kc=r,Cf=xi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Nn=!0),r.firstContext=null)}function Vn(r){var i=r._currentValue;if(Cf!==r)if(r={context:r,memoizedValue:i,next:null},xi===null){if(kc===null)throw Error(n(308));xi=r,kc.dependencies={lanes:0,firstContext:r}}else xi=xi.next=r;return i}var xo=null;function Tf(r){xo===null?xo=[r]:xo.push(r)}function ry(r,i,u,h){var y=i.interleaved;return y===null?(u.next=u,Tf(i)):(u.next=y.next,y.next=u),i.interleaved=u,qs(r,h)}function qs(r,i){r.lanes|=i;var u=r.alternate;for(u!==null&&(u.lanes|=i),u=r,r=r.return;r!==null;)r.childLanes|=i,u=r.alternate,u!==null&&(u.childLanes|=i),u=r,r=r.return;return u.tag===3?u.stateNode:null}var _r=!1;function Pf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oy(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Hs(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Er(r,i,u){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(ct&2)!==0){var y=h.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),h.pending=i,qs(r,u)}return y=h.interleaved,y===null?(i.next=i,Tf(h)):(i.next=y.next,y.next=i),h.interleaved=i,qs(r,u)}function _c(r,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,u|=h,i.lanes=u,Ud(r,u)}}function iy(r,i){var u=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var A={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};b===null?y=b=A:b=b.next=A,u=u.next}while(u!==null);b===null?y=b=i:b=b.next=i}else y=b=i;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:h.shared,effects:h.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=i:r.next=i,u.lastBaseUpdate=i}function Ec(r,i,u,h){var y=r.updateQueue;_r=!1;var b=y.firstBaseUpdate,A=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var U=z,ee=U.next;U.next=null,A===null?b=ee:A.next=ee,A=U;var ge=r.alternate;ge!==null&&(ge=ge.updateQueue,z=ge.lastBaseUpdate,z!==A&&(z===null?ge.firstBaseUpdate=ee:z.next=ee,ge.lastBaseUpdate=U))}if(b!==null){var ye=y.baseState;A=0,ge=ee=U=null,z=b;do{var pe=z.lane,Re=z.eventTime;if((h&pe)===pe){ge!==null&&(ge=ge.next={eventTime:Re,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Fe=r,Le=z;switch(pe=i,Re=u,Le.tag){case 1:if(Fe=Le.payload,typeof Fe=="function"){ye=Fe.call(Re,ye,pe);break e}ye=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Le.payload,pe=typeof Fe=="function"?Fe.call(Re,ye,pe):Fe,pe==null)break e;ye=q({},ye,pe);break e;case 2:_r=!0}}z.callback!==null&&z.lane!==0&&(r.flags|=64,pe=y.effects,pe===null?y.effects=[z]:pe.push(z))}else Re={eventTime:Re,lane:pe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ge===null?(ee=ge=Re,U=ye):ge=ge.next=Re,A|=pe;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;pe=z,z=pe.next,pe.next=null,y.lastBaseUpdate=pe,y.shared.pending=null}}while(!0);if(ge===null&&(U=ye),y.baseState=U,y.firstBaseUpdate=ee,y.lastBaseUpdate=ge,i=y.shared.interleaved,i!==null){y=i;do A|=y.lane,y=y.next;while(y!==i)}else b===null&&(y.shared.lanes=0);bo|=A,r.lanes=A,r.memoizedState=ye}}function ay(r,i,u){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],y=h.callback;if(y!==null){if(h.callback=null,h=u,typeof y!="function")throw Error(n(191,y));y.call(h)}}}var za={},js=Sr(za),La=Sr(za),$a=Sr(za);function yo(r){if(r===za)throw Error(n(174));return r}function Rf(r,i){switch(St($a,i),St(La,r),St(js,za),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:mr(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=mr(i,r)}kt(js),St(js,i)}function vi(){kt(js),kt(La),kt($a)}function ly(r){yo($a.current);var i=yo(js.current),u=mr(i,r.type);i!==u&&(St(La,r),St(js,u))}function Af(r){La.current===r&&(kt(js),kt(La))}var At=Sr(0);function Tc(r){for(var i=r;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Mf=[];function Ff(){for(var r=0;r<Mf.length;r++)Mf[r]._workInProgressVersionPrimary=null;Mf.length=0}var Pc=E.ReactCurrentDispatcher,Df=E.ReactCurrentBatchConfig,vo=0,Mt=null,Kt=null,Yt=null,Rc=!1,Va=!1,Ba=0,D_=0;function un(){throw Error(n(321))}function Of(r,i){if(i===null)return!1;for(var u=0;u<i.length&&u<r.length;u++)if(!ts(r[u],i[u]))return!1;return!0}function If(r,i,u,h,y,b){if(vo=b,Mt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Pc.current=r===null||r.memoizedState===null?L_:$_,r=u(h,y),Va){b=0;do{if(Va=!1,Ba=0,25<=b)throw Error(n(301));b+=1,Yt=Kt=null,i.updateQueue=null,Pc.current=V_,r=u(h,y)}while(Va)}if(Pc.current=Fc,i=Kt!==null&&Kt.next!==null,vo=0,Yt=Kt=Mt=null,Rc=!1,i)throw Error(n(300));return r}function zf(){var r=Ba!==0;return Ba=0,r}function Ns(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Mt.memoizedState=Yt=r:Yt=Yt.next=r,Yt}function Bn(){if(Kt===null){var r=Mt.alternate;r=r!==null?r.memoizedState:null}else r=Kt.next;var i=Yt===null?Mt.memoizedState:Yt.next;if(i!==null)Yt=i,Kt=r;else{if(r===null)throw Error(n(310));Kt=r,r={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Yt===null?Mt.memoizedState=Yt=r:Yt=Yt.next=r}return Yt}function Ua(r,i){return typeof i=="function"?i(r):i}function Lf(r){var i=Bn(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var h=Kt,y=h.baseQueue,b=u.pending;if(b!==null){if(y!==null){var A=y.next;y.next=b.next,b.next=A}h.baseQueue=y=b,u.pending=null}if(y!==null){b=y.next,h=h.baseState;var z=A=null,U=null,ee=b;do{var ge=ee.lane;if((vo&ge)===ge)U!==null&&(U=U.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),h=ee.hasEagerState?ee.eagerState:r(h,ee.action);else{var ye={lane:ge,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};U===null?(z=U=ye,A=h):U=U.next=ye,Mt.lanes|=ge,bo|=ge}ee=ee.next}while(ee!==null&&ee!==b);U===null?A=h:U.next=z,ts(h,i.memoizedState)||(Nn=!0),i.memoizedState=h,i.baseState=A,i.baseQueue=U,u.lastRenderedState=h}if(r=u.interleaved,r!==null){y=r;do b=y.lane,Mt.lanes|=b,bo|=b,y=y.next;while(y!==r)}else y===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function $f(r){var i=Bn(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var h=u.dispatch,y=u.pending,b=i.memoizedState;if(y!==null){u.pending=null;var A=y=y.next;do b=r(b,A.action),A=A.next;while(A!==y);ts(b,i.memoizedState)||(Nn=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),u.lastRenderedState=b}return[b,h]}function cy(){}function uy(r,i){var u=Mt,h=Bn(),y=i(),b=!ts(h.memoizedState,y);if(b&&(h.memoizedState=y,Nn=!0),h=h.queue,Vf(hy.bind(null,u,h,r),[r]),h.getSnapshot!==i||b||Yt!==null&&Yt.memoizedState.tag&1){if(u.flags|=2048,Wa(9,fy.bind(null,u,h,y,i),void 0,null),Xt===null)throw Error(n(349));(vo&30)!==0||dy(u,i,y)}return y}function dy(r,i,u){r.flags|=16384,r={getSnapshot:i,value:u},i=Mt.updateQueue,i===null?(i={lastEffect:null,stores:null},Mt.updateQueue=i,i.stores=[r]):(u=i.stores,u===null?i.stores=[r]:u.push(r))}function fy(r,i,u,h){i.value=u,i.getSnapshot=h,my(i)&&py(r)}function hy(r,i,u){return u(function(){my(i)&&py(r)})}function my(r){var i=r.getSnapshot;r=r.value;try{var u=i();return!ts(r,u)}catch{return!0}}function py(r){var i=qs(r,1);i!==null&&is(i,r,1,-1)}function gy(r){var i=Ns();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:r},i.queue=r,r=r.dispatch=z_.bind(null,Mt,r),[i.memoizedState,r]}function Wa(r,i,u,h){return r={tag:r,create:i,destroy:u,deps:h,next:null},i=Mt.updateQueue,i===null?(i={lastEffect:null,stores:null},Mt.updateQueue=i,i.lastEffect=r.next=r):(u=i.lastEffect,u===null?i.lastEffect=r.next=r:(h=u.next,u.next=r,r.next=h,i.lastEffect=r)),r}function xy(){return Bn().memoizedState}function Ac(r,i,u,h){var y=Ns();Mt.flags|=r,y.memoizedState=Wa(1|i,u,void 0,h===void 0?null:h)}function Mc(r,i,u,h){var y=Bn();h=h===void 0?null:h;var b=void 0;if(Kt!==null){var A=Kt.memoizedState;if(b=A.destroy,h!==null&&Of(h,A.deps)){y.memoizedState=Wa(i,u,b,h);return}}Mt.flags|=r,y.memoizedState=Wa(1|i,u,b,h)}function yy(r,i){return Ac(8390656,8,r,i)}function Vf(r,i){return Mc(2048,8,r,i)}function vy(r,i){return Mc(4,2,r,i)}function by(r,i){return Mc(4,4,r,i)}function wy(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function jy(r,i,u){return u=u!=null?u.concat([r]):null,Mc(4,4,wy.bind(null,i,r),u)}function Bf(){}function Ny(r,i){var u=Bn();i=i===void 0?null:i;var h=u.memoizedState;return h!==null&&i!==null&&Of(i,h[1])?h[0]:(u.memoizedState=[r,i],r)}function Sy(r,i){var u=Bn();i=i===void 0?null:i;var h=u.memoizedState;return h!==null&&i!==null&&Of(i,h[1])?h[0]:(r=r(),u.memoizedState=[r,i],r)}function Cy(r,i,u){return(vo&21)===0?(r.baseState&&(r.baseState=!1,Nn=!0),r.memoizedState=u):(ts(u,i)||(u=tx(),Mt.lanes|=u,bo|=u,r.baseState=!0),i)}function O_(r,i){var u=jt;jt=u!==0&&4>u?u:4,r(!0);var h=Df.transition;Df.transition={};try{r(!1),i()}finally{jt=u,Df.transition=h}}function ky(){return Bn().memoizedState}function I_(r,i,u){var h=Ar(r);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},_y(r))Ey(i,u);else if(u=ry(r,i,u,h),u!==null){var y=xn();is(u,r,h,y),Ty(u,i,h)}}function z_(r,i,u){var h=Ar(r),y={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(_y(r))Ey(i,y);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var A=i.lastRenderedState,z=b(A,u);if(y.hasEagerState=!0,y.eagerState=z,ts(z,A)){var U=i.interleaved;U===null?(y.next=y,Tf(i)):(y.next=U.next,U.next=y),i.interleaved=y;return}}catch{}finally{}u=ry(r,i,y,h),u!==null&&(y=xn(),is(u,r,h,y),Ty(u,i,h))}}function _y(r){var i=r.alternate;return r===Mt||i!==null&&i===Mt}function Ey(r,i){Va=Rc=!0;var u=r.pending;u===null?i.next=i:(i.next=u.next,u.next=i),r.pending=i}function Ty(r,i,u){if((u&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,u|=h,i.lanes=u,Ud(r,u)}}var Fc={readContext:Vn,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},L_={readContext:Vn,useCallback:function(r,i){return Ns().memoizedState=[r,i===void 0?null:i],r},useContext:Vn,useEffect:yy,useImperativeHandle:function(r,i,u){return u=u!=null?u.concat([r]):null,Ac(4194308,4,wy.bind(null,i,r),u)},useLayoutEffect:function(r,i){return Ac(4194308,4,r,i)},useInsertionEffect:function(r,i){return Ac(4,2,r,i)},useMemo:function(r,i){var u=Ns();return i=i===void 0?null:i,r=r(),u.memoizedState=[r,i],r},useReducer:function(r,i,u){var h=Ns();return i=u!==void 0?u(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=I_.bind(null,Mt,r),[h.memoizedState,r]},useRef:function(r){var i=Ns();return r={current:r},i.memoizedState=r},useState:gy,useDebugValue:Bf,useDeferredValue:function(r){return Ns().memoizedState=r},useTransition:function(){var r=gy(!1),i=r[0];return r=O_.bind(null,r[1]),Ns().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,u){var h=Mt,y=Ns();if(Tt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=i(),Xt===null)throw Error(n(349));(vo&30)!==0||dy(h,i,u)}y.memoizedState=u;var b={value:u,getSnapshot:i};return y.queue=b,yy(hy.bind(null,h,b,r),[r]),h.flags|=2048,Wa(9,fy.bind(null,h,b,u,i),void 0,null),u},useId:function(){var r=Ns(),i=Xt.identifierPrefix;if(Tt){var u=Ws,h=Us;u=(h&~(1<<32-es(h)-1)).toString(32)+u,i=":"+i+"R"+u,u=Ba++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=D_++,i=":"+i+"r"+u.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},$_={readContext:Vn,useCallback:Ny,useContext:Vn,useEffect:Vf,useImperativeHandle:jy,useInsertionEffect:vy,useLayoutEffect:by,useMemo:Sy,useReducer:Lf,useRef:xy,useState:function(){return Lf(Ua)},useDebugValue:Bf,useDeferredValue:function(r){var i=Bn();return Cy(i,Kt.memoizedState,r)},useTransition:function(){var r=Lf(Ua)[0],i=Bn().memoizedState;return[r,i]},useMutableSource:cy,useSyncExternalStore:uy,useId:ky,unstable_isNewReconciler:!1},V_={readContext:Vn,useCallback:Ny,useContext:Vn,useEffect:Vf,useImperativeHandle:jy,useInsertionEffect:vy,useLayoutEffect:by,useMemo:Sy,useReducer:$f,useRef:xy,useState:function(){return $f(Ua)},useDebugValue:Bf,useDeferredValue:function(r){var i=Bn();return Kt===null?i.memoizedState=r:Cy(i,Kt.memoizedState,r)},useTransition:function(){var r=$f(Ua)[0],i=Bn().memoizedState;return[r,i]},useMutableSource:cy,useSyncExternalStore:uy,useId:ky,unstable_isNewReconciler:!1};function ss(r,i){if(r&&r.defaultProps){i=q({},i),r=r.defaultProps;for(var u in r)i[u]===void 0&&(i[u]=r[u]);return i}return i}function Uf(r,i,u,h){i=r.memoizedState,u=u(h,i),u=u==null?i:q({},i,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Dc={isMounted:function(r){return(r=r._reactInternals)?fo(r)===r:!1},enqueueSetState:function(r,i,u){r=r._reactInternals;var h=xn(),y=Ar(r),b=Hs(h,y);b.payload=i,u!=null&&(b.callback=u),i=Er(r,b,y),i!==null&&(is(i,r,y,h),_c(i,r,y))},enqueueReplaceState:function(r,i,u){r=r._reactInternals;var h=xn(),y=Ar(r),b=Hs(h,y);b.tag=1,b.payload=i,u!=null&&(b.callback=u),i=Er(r,b,y),i!==null&&(is(i,r,y,h),_c(i,r,y))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var u=xn(),h=Ar(r),y=Hs(u,h);y.tag=2,i!=null&&(y.callback=i),i=Er(r,y,h),i!==null&&(is(i,r,h,u),_c(i,r,h))}};function Py(r,i,u,h,y,b,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,b,A):i.prototype&&i.prototype.isPureReactComponent?!Pa(u,h)||!Pa(y,b):!0}function Ry(r,i,u){var h=!1,y=Cr,b=i.contextType;return typeof b=="object"&&b!==null?b=Vn(b):(y=jn(i)?mo:cn.current,h=i.contextTypes,b=(h=h!=null)?fi(r,y):Cr),i=new i(u,b),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Dc,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=y,r.__reactInternalMemoizedMaskedChildContext=b),i}function Ay(r,i,u,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,h),i.state!==r&&Dc.enqueueReplaceState(i,i.state,null)}function Wf(r,i,u,h){var y=r.stateNode;y.props=u,y.state=r.memoizedState,y.refs={},Pf(r);var b=i.contextType;typeof b=="object"&&b!==null?y.context=Vn(b):(b=jn(i)?mo:cn.current,y.context=fi(r,b)),y.state=r.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(Uf(r,i,b,u),y.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(i=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),i!==y.state&&Dc.enqueueReplaceState(y,y.state,null),Ec(r,u,y,h),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308)}function bi(r,i){try{var u="",h=i;do u+=je(h),h=h.return;while(h);var y=u}catch(b){y=`
Error generating stack: `+b.message+`
`+b.stack}return{value:r,source:i,stack:y,digest:null}}function qf(r,i,u){return{value:r,source:null,stack:u??null,digest:i??null}}function Hf(r,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var B_=typeof WeakMap=="function"?WeakMap:Map;function My(r,i,u){u=Hs(-1,u),u.tag=3,u.payload={element:null};var h=i.value;return u.callback=function(){Bc||(Bc=!0,ah=h),Hf(r,i)},u}function Fy(r,i,u){u=Hs(-1,u),u.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var y=i.value;u.payload=function(){return h(y)},u.callback=function(){Hf(r,i)}}var b=r.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(u.callback=function(){Hf(r,i),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var A=i.stack;this.componentDidCatch(i.value,{componentStack:A!==null?A:""})}),u}function Dy(r,i,u){var h=r.pingCache;if(h===null){h=r.pingCache=new B_;var y=new Set;h.set(i,y)}else y=h.get(i),y===void 0&&(y=new Set,h.set(i,y));y.has(u)||(y.add(u),r=nE.bind(null,r,i,u),i.then(r,r))}function Oy(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Iy(r,i,u,h,y){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=Hs(-1,1),i.tag=2,Er(u,i,1))),u.lanes|=1),r):(r.flags|=65536,r.lanes=y,r)}var U_=E.ReactCurrentOwner,Nn=!1;function gn(r,i,u,h){i.child=r===null?sy(i,null,u,h):gi(i,r.child,u,h)}function zy(r,i,u,h,y){u=u.render;var b=i.ref;return yi(i,y),h=If(r,i,u,h,b,y),u=zf(),r!==null&&!Nn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~y,Ks(r,i,y)):(Tt&&u&&bf(i),i.flags|=1,gn(r,i,h,y),i.child)}function Ly(r,i,u,h,y){if(r===null){var b=u.type;return typeof b=="function"&&!mh(b)&&b.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=b,$y(r,i,b,h,y)):(r=Gc(u.type,null,h,i,i.mode,y),r.ref=i.ref,r.return=i,i.child=r)}if(b=r.child,(r.lanes&y)===0){var A=b.memoizedProps;if(u=u.compare,u=u!==null?u:Pa,u(A,h)&&r.ref===i.ref)return Ks(r,i,y)}return i.flags|=1,r=Fr(b,h),r.ref=i.ref,r.return=i,i.child=r}function $y(r,i,u,h,y){if(r!==null){var b=r.memoizedProps;if(Pa(b,h)&&r.ref===i.ref)if(Nn=!1,i.pendingProps=h=b,(r.lanes&y)!==0)(r.flags&131072)!==0&&(Nn=!0);else return i.lanes=r.lanes,Ks(r,i,y)}return Kf(r,i,u,h,y)}function Vy(r,i,u){var h=i.pendingProps,y=h.children,b=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(ji,On),On|=u;else{if((u&1073741824)===0)return r=b!==null?b.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,St(ji,On),On|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=b!==null?b.baseLanes:u,St(ji,On),On|=h}else b!==null?(h=b.baseLanes|u,i.memoizedState=null):h=u,St(ji,On),On|=h;return gn(r,i,y,u),i.child}function By(r,i){var u=i.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Kf(r,i,u,h,y){var b=jn(u)?mo:cn.current;return b=fi(i,b),yi(i,y),u=If(r,i,u,h,b,y),h=zf(),r!==null&&!Nn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~y,Ks(r,i,y)):(Tt&&h&&bf(i),i.flags|=1,gn(r,i,u,y),i.child)}function Uy(r,i,u,h,y){if(jn(u)){var b=!0;vc(i)}else b=!1;if(yi(i,y),i.stateNode===null)Ic(r,i),Ry(i,u,h),Wf(i,u,h,y),h=!0;else if(r===null){var A=i.stateNode,z=i.memoizedProps;A.props=z;var U=A.context,ee=u.contextType;typeof ee=="object"&&ee!==null?ee=Vn(ee):(ee=jn(u)?mo:cn.current,ee=fi(i,ee));var ge=u.getDerivedStateFromProps,ye=typeof ge=="function"||typeof A.getSnapshotBeforeUpdate=="function";ye||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(z!==h||U!==ee)&&Ay(i,A,h,ee),_r=!1;var pe=i.memoizedState;A.state=pe,Ec(i,h,A,y),U=i.memoizedState,z!==h||pe!==U||wn.current||_r?(typeof ge=="function"&&(Uf(i,u,ge,h),U=i.memoizedState),(z=_r||Py(i,u,z,h,pe,U,ee))?(ye||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(i.flags|=4194308)):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=U),A.props=h,A.state=U,A.context=ee,h=z):(typeof A.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{A=i.stateNode,oy(r,i),z=i.memoizedProps,ee=i.type===i.elementType?z:ss(i.type,z),A.props=ee,ye=i.pendingProps,pe=A.context,U=u.contextType,typeof U=="object"&&U!==null?U=Vn(U):(U=jn(u)?mo:cn.current,U=fi(i,U));var Re=u.getDerivedStateFromProps;(ge=typeof Re=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(z!==ye||pe!==U)&&Ay(i,A,h,U),_r=!1,pe=i.memoizedState,A.state=pe,Ec(i,h,A,y);var Fe=i.memoizedState;z!==ye||pe!==Fe||wn.current||_r?(typeof Re=="function"&&(Uf(i,u,Re,h),Fe=i.memoizedState),(ee=_r||Py(i,u,ee,h,pe,Fe,U)||!1)?(ge||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(h,Fe,U),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(h,Fe,U)),typeof A.componentDidUpdate=="function"&&(i.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof A.componentDidUpdate!="function"||z===r.memoizedProps&&pe===r.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||z===r.memoizedProps&&pe===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Fe),A.props=h,A.state=Fe,A.context=U,h=ee):(typeof A.componentDidUpdate!="function"||z===r.memoizedProps&&pe===r.memoizedState||(i.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||z===r.memoizedProps&&pe===r.memoizedState||(i.flags|=1024),h=!1)}return Gf(r,i,u,h,b,y)}function Gf(r,i,u,h,y,b){By(r,i);var A=(i.flags&128)!==0;if(!h&&!A)return y&&Gx(i,u,!1),Ks(r,i,b);h=i.stateNode,U_.current=i;var z=A&&typeof u.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&A?(i.child=gi(i,r.child,null,b),i.child=gi(i,null,z,b)):gn(r,i,z,b),i.memoizedState=h.state,y&&Gx(i,u,!0),i.child}function Wy(r){var i=r.stateNode;i.pendingContext?Hx(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Hx(r,i.context,!1),Rf(r,i.containerInfo)}function qy(r,i,u,h,y){return pi(),Sf(y),i.flags|=256,gn(r,i,u,h),i.child}var Qf={dehydrated:null,treeContext:null,retryLane:0};function Yf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Hy(r,i,u){var h=i.pendingProps,y=At.current,b=!1,A=(i.flags&128)!==0,z;if((z=A)||(z=r!==null&&r.memoizedState===null?!1:(y&2)!==0),z?(b=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(y|=1),St(At,y&1),r===null)return Nf(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(A=h.children,r=h.fallback,b?(h=i.mode,b=i.child,A={mode:"hidden",children:A},(h&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=A):b=Qc(A,h,0,null),r=So(r,h,u,null),b.return=i,r.return=i,b.sibling=r,i.child=b,i.child.memoizedState=Yf(u),i.memoizedState=Qf,r):Xf(i,A));if(y=r.memoizedState,y!==null&&(z=y.dehydrated,z!==null))return W_(r,i,A,h,z,y,u);if(b){b=h.fallback,A=i.mode,y=r.child,z=y.sibling;var U={mode:"hidden",children:h.children};return(A&1)===0&&i.child!==y?(h=i.child,h.childLanes=0,h.pendingProps=U,i.deletions=null):(h=Fr(y,U),h.subtreeFlags=y.subtreeFlags&14680064),z!==null?b=Fr(z,b):(b=So(b,A,u,null),b.flags|=2),b.return=i,h.return=i,h.sibling=b,i.child=h,h=b,b=i.child,A=r.child.memoizedState,A=A===null?Yf(u):{baseLanes:A.baseLanes|u,cachePool:null,transitions:A.transitions},b.memoizedState=A,b.childLanes=r.childLanes&~u,i.memoizedState=Qf,h}return b=r.child,r=b.sibling,h=Fr(b,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=u),h.return=i,h.sibling=null,r!==null&&(u=i.deletions,u===null?(i.deletions=[r],i.flags|=16):u.push(r)),i.child=h,i.memoizedState=null,h}function Xf(r,i){return i=Qc({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Oc(r,i,u,h){return h!==null&&Sf(h),gi(i,r.child,null,u),r=Xf(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function W_(r,i,u,h,y,b,A){if(u)return i.flags&256?(i.flags&=-257,h=qf(Error(n(422))),Oc(r,i,A,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(b=h.fallback,y=i.mode,h=Qc({mode:"visible",children:h.children},y,0,null),b=So(b,y,A,null),b.flags|=2,h.return=i,b.return=i,h.sibling=b,i.child=h,(i.mode&1)!==0&&gi(i,r.child,null,A),i.child.memoizedState=Yf(A),i.memoizedState=Qf,b);if((i.mode&1)===0)return Oc(r,i,A,null);if(y.data==="$!"){if(h=y.nextSibling&&y.nextSibling.dataset,h)var z=h.dgst;return h=z,b=Error(n(419)),h=qf(b,h,void 0),Oc(r,i,A,h)}if(z=(A&r.childLanes)!==0,Nn||z){if(h=Xt,h!==null){switch(A&-A){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(h.suspendedLanes|A))!==0?0:y,y!==0&&y!==b.retryLane&&(b.retryLane=y,qs(r,y),is(h,r,y,-1))}return hh(),h=qf(Error(n(421))),Oc(r,i,A,h)}return y.data==="$?"?(i.flags|=128,i.child=r.child,i=sE.bind(null,r),y._reactRetry=i,null):(r=b.treeContext,Dn=Nr(y.nextSibling),Fn=i,Tt=!0,ns=null,r!==null&&(Ln[$n++]=Us,Ln[$n++]=Ws,Ln[$n++]=po,Us=r.id,Ws=r.overflow,po=i),i=Xf(i,h.children),i.flags|=4096,i)}function Ky(r,i,u){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),Ef(r.return,i,u)}function Jf(r,i,u,h,y){var b=r.memoizedState;b===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=h,b.tail=u,b.tailMode=y)}function Gy(r,i,u){var h=i.pendingProps,y=h.revealOrder,b=h.tail;if(gn(r,i,h.children,u),h=At.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ky(r,u,i);else if(r.tag===19)Ky(r,u,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(St(At,h),(i.mode&1)===0)i.memoizedState=null;else switch(y){case"forwards":for(u=i.child,y=null;u!==null;)r=u.alternate,r!==null&&Tc(r)===null&&(y=u),u=u.sibling;u=y,u===null?(y=i.child,i.child=null):(y=u.sibling,u.sibling=null),Jf(i,!1,y,u,b);break;case"backwards":for(u=null,y=i.child,i.child=null;y!==null;){if(r=y.alternate,r!==null&&Tc(r)===null){i.child=y;break}r=y.sibling,y.sibling=u,u=y,y=r}Jf(i,!0,u,null,b);break;case"together":Jf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ic(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Ks(r,i,u){if(r!==null&&(i.dependencies=r.dependencies),bo|=i.lanes,(u&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,u=Fr(r,r.pendingProps),i.child=u,u.return=i;r.sibling!==null;)r=r.sibling,u=u.sibling=Fr(r,r.pendingProps),u.return=i;u.sibling=null}return i.child}function q_(r,i,u){switch(i.tag){case 3:Wy(i),pi();break;case 5:ly(i);break;case 1:jn(i.type)&&vc(i);break;case 4:Rf(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,y=i.memoizedProps.value;St(Cc,h._currentValue),h._currentValue=y;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(St(At,At.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?Hy(r,i,u):(St(At,At.current&1),r=Ks(r,i,u),r!==null?r.sibling:null);St(At,At.current&1);break;case 19:if(h=(u&i.childLanes)!==0,(r.flags&128)!==0){if(h)return Gy(r,i,u);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),St(At,At.current),h)break;return null;case 22:case 23:return i.lanes=0,Vy(r,i,u)}return Ks(r,i,u)}var Qy,Zf,Yy,Xy;Qy=function(r,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Zf=function(){},Yy=function(r,i,u,h){var y=r.memoizedProps;if(y!==h){r=i.stateNode,yo(js.current);var b=null;switch(u){case"input":y=se(r,y),h=se(r,h),b=[];break;case"select":y=q({},y,{value:void 0}),h=q({},h,{value:void 0}),b=[];break;case"textarea":y=xt(r,y),h=xt(r,h),b=[];break;default:typeof y.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=gc)}ei(u,h);var A;u=null;for(ee in y)if(!h.hasOwnProperty(ee)&&y.hasOwnProperty(ee)&&y[ee]!=null)if(ee==="style"){var z=y[ee];for(A in z)z.hasOwnProperty(A)&&(u||(u={}),u[A]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(a.hasOwnProperty(ee)?b||(b=[]):(b=b||[]).push(ee,null));for(ee in h){var U=h[ee];if(z=y!=null?y[ee]:void 0,h.hasOwnProperty(ee)&&U!==z&&(U!=null||z!=null))if(ee==="style")if(z){for(A in z)!z.hasOwnProperty(A)||U&&U.hasOwnProperty(A)||(u||(u={}),u[A]="");for(A in U)U.hasOwnProperty(A)&&z[A]!==U[A]&&(u||(u={}),u[A]=U[A])}else u||(b||(b=[]),b.push(ee,u)),u=U;else ee==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,z=z?z.__html:void 0,U!=null&&z!==U&&(b=b||[]).push(ee,U)):ee==="children"?typeof U!="string"&&typeof U!="number"||(b=b||[]).push(ee,""+U):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(a.hasOwnProperty(ee)?(U!=null&&ee==="onScroll"&&Ct("scroll",r),b||z===U||(b=[])):(b=b||[]).push(ee,U))}u&&(b=b||[]).push("style",u);var ee=b;(i.updateQueue=ee)&&(i.flags|=4)}},Xy=function(r,i,u,h){u!==h&&(i.flags|=4)};function qa(r,i){if(!Tt)switch(r.tailMode){case"hidden":i=r.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function dn(r){var i=r.alternate!==null&&r.alternate.child===r.child,u=0,h=0;if(i)for(var y=r.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&14680064,h|=y.flags&14680064,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=h,r.childLanes=u,i}function H_(r,i,u){var h=i.pendingProps;switch(wf(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(i),null;case 1:return jn(i.type)&&yc(),dn(i),null;case 3:return h=i.stateNode,vi(),kt(wn),kt(cn),Ff(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Nc(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ns!==null&&(uh(ns),ns=null))),Zf(r,i),dn(i),null;case 5:Af(i);var y=yo($a.current);if(u=i.type,r!==null&&i.stateNode!=null)Yy(r,i,u,h,y),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(n(166));return dn(i),null}if(r=yo(js.current),Nc(i)){h=i.stateNode,u=i.type;var b=i.memoizedProps;switch(h[ws]=i,h[Da]=b,r=(i.mode&1)!==0,u){case"dialog":Ct("cancel",h),Ct("close",h);break;case"iframe":case"object":case"embed":Ct("load",h);break;case"video":case"audio":for(y=0;y<Aa.length;y++)Ct(Aa[y],h);break;case"source":Ct("error",h);break;case"img":case"image":case"link":Ct("error",h),Ct("load",h);break;case"details":Ct("toggle",h);break;case"input":Pe(h,b),Ct("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!b.multiple},Ct("invalid",h);break;case"textarea":tn(h,b),Ct("invalid",h)}ei(u,b),y=null;for(var A in b)if(b.hasOwnProperty(A)){var z=b[A];A==="children"?typeof z=="string"?h.textContent!==z&&(b.suppressHydrationWarning!==!0&&pc(h.textContent,z,r),y=["children",z]):typeof z=="number"&&h.textContent!==""+z&&(b.suppressHydrationWarning!==!0&&pc(h.textContent,z,r),y=["children",""+z]):a.hasOwnProperty(A)&&z!=null&&A==="onScroll"&&Ct("scroll",h)}switch(u){case"input":ce(h),ie(h,b,!0);break;case"textarea":ce(h),Rt(h);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(h.onclick=gc)}h=y,i.updateQueue=h,h!==null&&(i.flags|=4)}else{A=y.nodeType===9?y:y.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=bn(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=A.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=A.createElement(u,{is:h.is}):(r=A.createElement(u),u==="select"&&(A=r,h.multiple?A.multiple=!0:h.size&&(A.size=h.size))):r=A.createElementNS(r,u),r[ws]=i,r[Da]=h,Qy(r,i,!1,!1),i.stateNode=r;e:{switch(A=pa(u,h),u){case"dialog":Ct("cancel",r),Ct("close",r),y=h;break;case"iframe":case"object":case"embed":Ct("load",r),y=h;break;case"video":case"audio":for(y=0;y<Aa.length;y++)Ct(Aa[y],r);y=h;break;case"source":Ct("error",r),y=h;break;case"img":case"image":case"link":Ct("error",r),Ct("load",r),y=h;break;case"details":Ct("toggle",r),y=h;break;case"input":Pe(r,h),y=se(r,h),Ct("invalid",r);break;case"option":y=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},y=q({},h,{value:void 0}),Ct("invalid",r);break;case"textarea":tn(r,h),y=xt(r,h),Ct("invalid",r);break;default:y=h}ei(u,y),z=y;for(b in z)if(z.hasOwnProperty(b)){var U=z[b];b==="style"?$s(r,U):b==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Hl(r,U)):b==="children"?typeof U=="string"?(u!=="textarea"||U!=="")&&lo(r,U):typeof U=="number"&&lo(r,""+U):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?U!=null&&b==="onScroll"&&Ct("scroll",r):U!=null&&k(r,b,U,A))}switch(u){case"input":ce(r),ie(r,h,!1);break;case"textarea":ce(r),Rt(r);break;case"option":h.value!=null&&r.setAttribute("value",""+ve(h.value));break;case"select":r.multiple=!!h.multiple,b=h.value,b!=null?Xe(r,!!h.multiple,b,!1):h.defaultValue!=null&&Xe(r,!!h.multiple,h.defaultValue,!0);break;default:typeof y.onClick=="function"&&(r.onclick=gc)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return dn(i),null;case 6:if(r&&i.stateNode!=null)Xy(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(n(166));if(u=yo($a.current),yo(js.current),Nc(i)){if(h=i.stateNode,u=i.memoizedProps,h[ws]=i,(b=h.nodeValue!==u)&&(r=Fn,r!==null))switch(r.tag){case 3:pc(h.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&pc(h.nodeValue,u,(r.mode&1)!==0)}b&&(i.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[ws]=i,i.stateNode=h}return dn(i),null;case 13:if(kt(At),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Tt&&Dn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ey(),pi(),i.flags|=98560,b=!1;else if(b=Nc(i),h!==null&&h.dehydrated!==null){if(r===null){if(!b)throw Error(n(318));if(b=i.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[ws]=i}else pi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dn(i),b=!1}else ns!==null&&(uh(ns),ns=null),b=!0;if(!b)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(At.current&1)!==0?Gt===0&&(Gt=3):hh())),i.updateQueue!==null&&(i.flags|=4),dn(i),null);case 4:return vi(),Zf(r,i),r===null&&Ma(i.stateNode.containerInfo),dn(i),null;case 10:return _f(i.type._context),dn(i),null;case 17:return jn(i.type)&&yc(),dn(i),null;case 19:if(kt(At),b=i.memoizedState,b===null)return dn(i),null;if(h=(i.flags&128)!==0,A=b.rendering,A===null)if(h)qa(b,!1);else{if(Gt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(A=Tc(r),A!==null){for(i.flags|=128,qa(b,!1),h=A.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=u,u=i.child;u!==null;)b=u,r=h,b.flags&=14680066,A=b.alternate,A===null?(b.childLanes=0,b.lanes=r,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=A.childLanes,b.lanes=A.lanes,b.child=A.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=A.memoizedProps,b.memoizedState=A.memoizedState,b.updateQueue=A.updateQueue,b.type=A.type,r=A.dependencies,b.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return St(At,At.current&1|2),i.child}r=r.sibling}b.tail!==null&&Lt()>Ni&&(i.flags|=128,h=!0,qa(b,!1),i.lanes=4194304)}else{if(!h)if(r=Tc(A),r!==null){if(i.flags|=128,h=!0,u=r.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),qa(b,!0),b.tail===null&&b.tailMode==="hidden"&&!A.alternate&&!Tt)return dn(i),null}else 2*Lt()-b.renderingStartTime>Ni&&u!==1073741824&&(i.flags|=128,h=!0,qa(b,!1),i.lanes=4194304);b.isBackwards?(A.sibling=i.child,i.child=A):(u=b.last,u!==null?u.sibling=A:i.child=A,b.last=A)}return b.tail!==null?(i=b.tail,b.rendering=i,b.tail=i.sibling,b.renderingStartTime=Lt(),i.sibling=null,u=At.current,St(At,h?u&1|2:u&1),i):(dn(i),null);case 22:case 23:return fh(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(On&1073741824)!==0&&(dn(i),i.subtreeFlags&6&&(i.flags|=8192)):dn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function K_(r,i){switch(wf(i),i.tag){case 1:return jn(i.type)&&yc(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return vi(),kt(wn),kt(cn),Ff(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Af(i),null;case 13:if(kt(At),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));pi()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return kt(At),null;case 4:return vi(),null;case 10:return _f(i.type._context),null;case 22:case 23:return fh(),null;case 24:return null;default:return null}}var zc=!1,fn=!1,G_=typeof WeakSet=="function"?WeakSet:Set,Me=null;function wi(r,i){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){It(r,i,h)}else u.current=null}function eh(r,i,u){try{u()}catch(h){It(r,i,h)}}var Jy=!1;function Q_(r,i){if(ff=rc,r=Px(),sf(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var A=0,z=-1,U=-1,ee=0,ge=0,ye=r,pe=null;t:for(;;){for(var Re;ye!==u||y!==0&&ye.nodeType!==3||(z=A+y),ye!==b||h!==0&&ye.nodeType!==3||(U=A+h),ye.nodeType===3&&(A+=ye.nodeValue.length),(Re=ye.firstChild)!==null;)pe=ye,ye=Re;for(;;){if(ye===r)break t;if(pe===u&&++ee===y&&(z=A),pe===b&&++ge===h&&(U=A),(Re=ye.nextSibling)!==null)break;ye=pe,pe=ye.parentNode}ye=Re}u=z===-1||U===-1?null:{start:z,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(hf={focusedElem:r,selectionRange:u},rc=!1,Me=i;Me!==null;)if(i=Me,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Me=r;else for(;Me!==null;){i=Me;try{var Fe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var Le=Fe.memoizedProps,$t=Fe.memoizedState,X=i.stateNode,K=X.getSnapshotBeforeUpdate(i.elementType===i.type?Le:ss(i.type,Le),$t);X.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var J=i.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(be){It(i,i.return,be)}if(r=i.sibling,r!==null){r.return=i.return,Me=r;break}Me=i.return}return Fe=Jy,Jy=!1,Fe}function Ha(r,i,u){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&r)===r){var b=y.destroy;y.destroy=void 0,b!==void 0&&eh(i,u,b)}y=y.next}while(y!==h)}}function Lc(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&r)===r){var h=u.create;u.destroy=h()}u=u.next}while(u!==i)}}function th(r){var i=r.ref;if(i!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof i=="function"?i(r):i.current=r}}function Zy(r){var i=r.alternate;i!==null&&(r.alternate=null,Zy(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[ws],delete i[Da],delete i[xf],delete i[R_],delete i[A_])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ev(r){return r.tag===5||r.tag===3||r.tag===4}function tv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ev(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function nh(r,i,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(r,i):u.insertBefore(r,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(r,u)):(i=u,i.appendChild(r)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=gc));else if(h!==4&&(r=r.child,r!==null))for(nh(r,i,u),r=r.sibling;r!==null;)nh(r,i,u),r=r.sibling}function sh(r,i,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?u.insertBefore(r,i):u.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(sh(r,i,u),r=r.sibling;r!==null;)sh(r,i,u),r=r.sibling}var nn=null,rs=!1;function Tr(r,i,u){for(u=u.child;u!==null;)nv(r,i,u),u=u.sibling}function nv(r,i,u){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(Jl,u)}catch{}switch(u.tag){case 5:fn||wi(u,i);case 6:var h=nn,y=rs;nn=null,Tr(r,i,u),nn=h,rs=y,nn!==null&&(rs?(r=nn,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):nn.removeChild(u.stateNode));break;case 18:nn!==null&&(rs?(r=nn,u=u.stateNode,r.nodeType===8?gf(r.parentNode,u):r.nodeType===1&&gf(r,u),Sa(r)):gf(nn,u.stateNode));break;case 4:h=nn,y=rs,nn=u.stateNode.containerInfo,rs=!0,Tr(r,i,u),nn=h,rs=y;break;case 0:case 11:case 14:case 15:if(!fn&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){y=h=h.next;do{var b=y,A=b.destroy;b=b.tag,A!==void 0&&((b&2)!==0||(b&4)!==0)&&eh(u,i,A),y=y.next}while(y!==h)}Tr(r,i,u);break;case 1:if(!fn&&(wi(u,i),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(z){It(u,i,z)}Tr(r,i,u);break;case 21:Tr(r,i,u);break;case 22:u.mode&1?(fn=(h=fn)||u.memoizedState!==null,Tr(r,i,u),fn=h):Tr(r,i,u);break;default:Tr(r,i,u)}}function sv(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new G_),i.forEach(function(h){var y=rE.bind(null,r,h);u.has(h)||(u.add(h),h.then(y,y))})}}function os(r,i){var u=i.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h];try{var b=r,A=i,z=A;e:for(;z!==null;){switch(z.tag){case 5:nn=z.stateNode,rs=!1;break e;case 3:nn=z.stateNode.containerInfo,rs=!0;break e;case 4:nn=z.stateNode.containerInfo,rs=!0;break e}z=z.return}if(nn===null)throw Error(n(160));nv(b,A,y),nn=null,rs=!1;var U=y.alternate;U!==null&&(U.return=null),y.return=null}catch(ee){It(y,i,ee)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)rv(i,r),i=i.sibling}function rv(r,i){var u=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(os(i,r),Ss(r),h&4){try{Ha(3,r,r.return),Lc(3,r)}catch(Le){It(r,r.return,Le)}try{Ha(5,r,r.return)}catch(Le){It(r,r.return,Le)}}break;case 1:os(i,r),Ss(r),h&512&&u!==null&&wi(u,u.return);break;case 5:if(os(i,r),Ss(r),h&512&&u!==null&&wi(u,u.return),r.flags&32){var y=r.stateNode;try{lo(y,"")}catch(Le){It(r,r.return,Le)}}if(h&4&&(y=r.stateNode,y!=null)){var b=r.memoizedProps,A=u!==null?u.memoizedProps:b,z=r.type,U=r.updateQueue;if(r.updateQueue=null,U!==null)try{z==="input"&&b.type==="radio"&&b.name!=null&&me(y,b),pa(z,A);var ee=pa(z,b);for(A=0;A<U.length;A+=2){var ge=U[A],ye=U[A+1];ge==="style"?$s(y,ye):ge==="dangerouslySetInnerHTML"?Hl(y,ye):ge==="children"?lo(y,ye):k(y,ge,ye,ee)}switch(z){case"input":Be(y,b);break;case"textarea":lt(y,b);break;case"select":var pe=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!b.multiple;var Re=b.value;Re!=null?Xe(y,!!b.multiple,Re,!1):pe!==!!b.multiple&&(b.defaultValue!=null?Xe(y,!!b.multiple,b.defaultValue,!0):Xe(y,!!b.multiple,b.multiple?[]:"",!1))}y[Da]=b}catch(Le){It(r,r.return,Le)}}break;case 6:if(os(i,r),Ss(r),h&4){if(r.stateNode===null)throw Error(n(162));y=r.stateNode,b=r.memoizedProps;try{y.nodeValue=b}catch(Le){It(r,r.return,Le)}}break;case 3:if(os(i,r),Ss(r),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Sa(i.containerInfo)}catch(Le){It(r,r.return,Le)}break;case 4:os(i,r),Ss(r);break;case 13:os(i,r),Ss(r),y=r.child,y.flags&8192&&(b=y.memoizedState!==null,y.stateNode.isHidden=b,!b||y.alternate!==null&&y.alternate.memoizedState!==null||(ih=Lt())),h&4&&sv(r);break;case 22:if(ge=u!==null&&u.memoizedState!==null,r.mode&1?(fn=(ee=fn)||ge,os(i,r),fn=ee):os(i,r),Ss(r),h&8192){if(ee=r.memoizedState!==null,(r.stateNode.isHidden=ee)&&!ge&&(r.mode&1)!==0)for(Me=r,ge=r.child;ge!==null;){for(ye=Me=ge;Me!==null;){switch(pe=Me,Re=pe.child,pe.tag){case 0:case 11:case 14:case 15:Ha(4,pe,pe.return);break;case 1:wi(pe,pe.return);var Fe=pe.stateNode;if(typeof Fe.componentWillUnmount=="function"){h=pe,u=pe.return;try{i=h,Fe.props=i.memoizedProps,Fe.state=i.memoizedState,Fe.componentWillUnmount()}catch(Le){It(h,u,Le)}}break;case 5:wi(pe,pe.return);break;case 22:if(pe.memoizedState!==null){av(ye);continue}}Re!==null?(Re.return=pe,Me=Re):av(ye)}ge=ge.sibling}e:for(ge=null,ye=r;;){if(ye.tag===5){if(ge===null){ge=ye;try{y=ye.stateNode,ee?(b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(z=ye.stateNode,U=ye.memoizedProps.style,A=U!=null&&U.hasOwnProperty("display")?U.display:null,z.style.display=Gl("display",A))}catch(Le){It(r,r.return,Le)}}}else if(ye.tag===6){if(ge===null)try{ye.stateNode.nodeValue=ee?"":ye.memoizedProps}catch(Le){It(r,r.return,Le)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===r)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===r)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===r)break e;ge===ye&&(ge=null),ye=ye.return}ge===ye&&(ge=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:os(i,r),Ss(r),h&4&&sv(r);break;case 21:break;default:os(i,r),Ss(r)}}function Ss(r){var i=r.flags;if(i&2){try{e:{for(var u=r.return;u!==null;){if(ev(u)){var h=u;break e}u=u.return}throw Error(n(160))}switch(h.tag){case 5:var y=h.stateNode;h.flags&32&&(lo(y,""),h.flags&=-33);var b=tv(r);sh(r,b,y);break;case 3:case 4:var A=h.stateNode.containerInfo,z=tv(r);nh(r,z,A);break;default:throw Error(n(161))}}catch(U){It(r,r.return,U)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Y_(r,i,u){Me=r,ov(r)}function ov(r,i,u){for(var h=(r.mode&1)!==0;Me!==null;){var y=Me,b=y.child;if(y.tag===22&&h){var A=y.memoizedState!==null||zc;if(!A){var z=y.alternate,U=z!==null&&z.memoizedState!==null||fn;z=zc;var ee=fn;if(zc=A,(fn=U)&&!ee)for(Me=y;Me!==null;)A=Me,U=A.child,A.tag===22&&A.memoizedState!==null?lv(y):U!==null?(U.return=A,Me=U):lv(y);for(;b!==null;)Me=b,ov(b),b=b.sibling;Me=y,zc=z,fn=ee}iv(r)}else(y.subtreeFlags&8772)!==0&&b!==null?(b.return=y,Me=b):iv(r)}}function iv(r){for(;Me!==null;){var i=Me;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:fn||Lc(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!fn)if(u===null)h.componentDidMount();else{var y=i.elementType===i.type?u.memoizedProps:ss(i.type,u.memoizedProps);h.componentDidUpdate(y,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var b=i.updateQueue;b!==null&&ay(i,b,h);break;case 3:var A=i.updateQueue;if(A!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}ay(i,A,u)}break;case 5:var z=i.stateNode;if(u===null&&i.flags&4){u=z;var U=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&u.focus();break;case"img":U.src&&(u.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ee=i.alternate;if(ee!==null){var ge=ee.memoizedState;if(ge!==null){var ye=ge.dehydrated;ye!==null&&Sa(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}fn||i.flags&512&&th(i)}catch(pe){It(i,i.return,pe)}}if(i===r){Me=null;break}if(u=i.sibling,u!==null){u.return=i.return,Me=u;break}Me=i.return}}function av(r){for(;Me!==null;){var i=Me;if(i===r){Me=null;break}var u=i.sibling;if(u!==null){u.return=i.return,Me=u;break}Me=i.return}}function lv(r){for(;Me!==null;){var i=Me;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{Lc(4,i)}catch(U){It(i,u,U)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var y=i.return;try{h.componentDidMount()}catch(U){It(i,y,U)}}var b=i.return;try{th(i)}catch(U){It(i,b,U)}break;case 5:var A=i.return;try{th(i)}catch(U){It(i,A,U)}}}catch(U){It(i,i.return,U)}if(i===r){Me=null;break}var z=i.sibling;if(z!==null){z.return=i.return,Me=z;break}Me=i.return}}var X_=Math.ceil,$c=E.ReactCurrentDispatcher,rh=E.ReactCurrentOwner,Un=E.ReactCurrentBatchConfig,ct=0,Xt=null,Wt=null,sn=0,On=0,ji=Sr(0),Gt=0,Ka=null,bo=0,Vc=0,oh=0,Ga=null,Sn=null,ih=0,Ni=1/0,Gs=null,Bc=!1,ah=null,Pr=null,Uc=!1,Rr=null,Wc=0,Qa=0,lh=null,qc=-1,Hc=0;function xn(){return(ct&6)!==0?Lt():qc!==-1?qc:qc=Lt()}function Ar(r){return(r.mode&1)===0?1:(ct&2)!==0&&sn!==0?sn&-sn:F_.transition!==null?(Hc===0&&(Hc=tx()),Hc):(r=jt,r!==0||(r=window.event,r=r===void 0?16:ux(r.type)),r)}function is(r,i,u,h){if(50<Qa)throw Qa=0,lh=null,Error(n(185));va(r,u,h),((ct&2)===0||r!==Xt)&&(r===Xt&&((ct&2)===0&&(Vc|=u),Gt===4&&Mr(r,sn)),Cn(r,h),u===1&&ct===0&&(i.mode&1)===0&&(Ni=Lt()+500,bc&&kr()))}function Cn(r,i){var u=r.callbackNode;F2(r,i);var h=tc(r,r===Xt?sn:0);if(h===0)u!==null&&Jg(u),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(u!=null&&Jg(u),i===1)r.tag===0?M_(uv.bind(null,r)):Qx(uv.bind(null,r)),T_(function(){(ct&6)===0&&kr()}),u=null;else{switch(nx(h)){case 1:u=$d;break;case 4:u=Zg;break;case 16:u=Xl;break;case 536870912:u=ex;break;default:u=Xl}u=yv(u,cv.bind(null,r))}r.callbackPriority=i,r.callbackNode=u}}function cv(r,i){if(qc=-1,Hc=0,(ct&6)!==0)throw Error(n(327));var u=r.callbackNode;if(Si()&&r.callbackNode!==u)return null;var h=tc(r,r===Xt?sn:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=Kc(r,h);else{i=h;var y=ct;ct|=2;var b=fv();(Xt!==r||sn!==i)&&(Gs=null,Ni=Lt()+500,jo(r,i));do try{eE();break}catch(z){dv(r,z)}while(!0);kf(),$c.current=b,ct=y,Wt!==null?i=0:(Xt=null,sn=0,i=Gt)}if(i!==0){if(i===2&&(y=Vd(r),y!==0&&(h=y,i=ch(r,y))),i===1)throw u=Ka,jo(r,0),Mr(r,h),Cn(r,Lt()),u;if(i===6)Mr(r,h);else{if(y=r.current.alternate,(h&30)===0&&!J_(y)&&(i=Kc(r,h),i===2&&(b=Vd(r),b!==0&&(h=b,i=ch(r,b))),i===1))throw u=Ka,jo(r,0),Mr(r,h),Cn(r,Lt()),u;switch(r.finishedWork=y,r.finishedLanes=h,i){case 0:case 1:throw Error(n(345));case 2:No(r,Sn,Gs);break;case 3:if(Mr(r,h),(h&130023424)===h&&(i=ih+500-Lt(),10<i)){if(tc(r,0)!==0)break;if(y=r.suspendedLanes,(y&h)!==h){xn(),r.pingedLanes|=r.suspendedLanes&y;break}r.timeoutHandle=pf(No.bind(null,r,Sn,Gs),i);break}No(r,Sn,Gs);break;case 4:if(Mr(r,h),(h&4194240)===h)break;for(i=r.eventTimes,y=-1;0<h;){var A=31-es(h);b=1<<A,A=i[A],A>y&&(y=A),h&=~b}if(h=y,h=Lt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*X_(h/1960))-h,10<h){r.timeoutHandle=pf(No.bind(null,r,Sn,Gs),h);break}No(r,Sn,Gs);break;case 5:No(r,Sn,Gs);break;default:throw Error(n(329))}}}return Cn(r,Lt()),r.callbackNode===u?cv.bind(null,r):null}function ch(r,i){var u=Ga;return r.current.memoizedState.isDehydrated&&(jo(r,i).flags|=256),r=Kc(r,i),r!==2&&(i=Sn,Sn=u,i!==null&&uh(i)),r}function uh(r){Sn===null?Sn=r:Sn.push.apply(Sn,r)}function J_(r){for(var i=r;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var y=u[h],b=y.getSnapshot;y=y.value;try{if(!ts(b(),y))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mr(r,i){for(i&=~oh,i&=~Vc,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var u=31-es(i),h=1<<u;r[u]=-1,i&=~h}}function uv(r){if((ct&6)!==0)throw Error(n(327));Si();var i=tc(r,0);if((i&1)===0)return Cn(r,Lt()),null;var u=Kc(r,i);if(r.tag!==0&&u===2){var h=Vd(r);h!==0&&(i=h,u=ch(r,h))}if(u===1)throw u=Ka,jo(r,0),Mr(r,i),Cn(r,Lt()),u;if(u===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,No(r,Sn,Gs),Cn(r,Lt()),null}function dh(r,i){var u=ct;ct|=1;try{return r(i)}finally{ct=u,ct===0&&(Ni=Lt()+500,bc&&kr())}}function wo(r){Rr!==null&&Rr.tag===0&&(ct&6)===0&&Si();var i=ct;ct|=1;var u=Un.transition,h=jt;try{if(Un.transition=null,jt=1,r)return r()}finally{jt=h,Un.transition=u,ct=i,(ct&6)===0&&kr()}}function fh(){On=ji.current,kt(ji)}function jo(r,i){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,E_(u)),Wt!==null)for(u=Wt.return;u!==null;){var h=u;switch(wf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&yc();break;case 3:vi(),kt(wn),kt(cn),Ff();break;case 5:Af(h);break;case 4:vi();break;case 13:kt(At);break;case 19:kt(At);break;case 10:_f(h.type._context);break;case 22:case 23:fh()}u=u.return}if(Xt=r,Wt=r=Fr(r.current,null),sn=On=i,Gt=0,Ka=null,oh=Vc=bo=0,Sn=Ga=null,xo!==null){for(i=0;i<xo.length;i++)if(u=xo[i],h=u.interleaved,h!==null){u.interleaved=null;var y=h.next,b=u.pending;if(b!==null){var A=b.next;b.next=y,h.next=A}u.pending=h}xo=null}return r}function dv(r,i){do{var u=Wt;try{if(kf(),Pc.current=Fc,Rc){for(var h=Mt.memoizedState;h!==null;){var y=h.queue;y!==null&&(y.pending=null),h=h.next}Rc=!1}if(vo=0,Yt=Kt=Mt=null,Va=!1,Ba=0,rh.current=null,u===null||u.return===null){Gt=1,Ka=i,Wt=null;break}e:{var b=r,A=u.return,z=u,U=i;if(i=sn,z.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var ee=U,ge=z,ye=ge.tag;if((ge.mode&1)===0&&(ye===0||ye===11||ye===15)){var pe=ge.alternate;pe?(ge.updateQueue=pe.updateQueue,ge.memoizedState=pe.memoizedState,ge.lanes=pe.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Re=Oy(A);if(Re!==null){Re.flags&=-257,Iy(Re,A,z,b,i),Re.mode&1&&Dy(b,ee,i),i=Re,U=ee;var Fe=i.updateQueue;if(Fe===null){var Le=new Set;Le.add(U),i.updateQueue=Le}else Fe.add(U);break e}else{if((i&1)===0){Dy(b,ee,i),hh();break e}U=Error(n(426))}}else if(Tt&&z.mode&1){var $t=Oy(A);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),Iy($t,A,z,b,i),Sf(bi(U,z));break e}}b=U=bi(U,z),Gt!==4&&(Gt=2),Ga===null?Ga=[b]:Ga.push(b),b=A;do{switch(b.tag){case 3:b.flags|=65536,i&=-i,b.lanes|=i;var X=My(b,U,i);iy(b,X);break e;case 1:z=U;var K=b.type,J=b.stateNode;if((b.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Pr===null||!Pr.has(J)))){b.flags|=65536,i&=-i,b.lanes|=i;var be=Fy(b,z,i);iy(b,be);break e}}b=b.return}while(b!==null)}mv(u)}catch(Ve){i=Ve,Wt===u&&u!==null&&(Wt=u=u.return);continue}break}while(!0)}function fv(){var r=$c.current;return $c.current=Fc,r===null?Fc:r}function hh(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),Xt===null||(bo&268435455)===0&&(Vc&268435455)===0||Mr(Xt,sn)}function Kc(r,i){var u=ct;ct|=2;var h=fv();(Xt!==r||sn!==i)&&(Gs=null,jo(r,i));do try{Z_();break}catch(y){dv(r,y)}while(!0);if(kf(),ct=u,$c.current=h,Wt!==null)throw Error(n(261));return Xt=null,sn=0,Gt}function Z_(){for(;Wt!==null;)hv(Wt)}function eE(){for(;Wt!==null&&!C2();)hv(Wt)}function hv(r){var i=xv(r.alternate,r,On);r.memoizedProps=r.pendingProps,i===null?mv(r):Wt=i,rh.current=null}function mv(r){var i=r;do{var u=i.alternate;if(r=i.return,(i.flags&32768)===0){if(u=H_(u,i,On),u!==null){Wt=u;return}}else{if(u=K_(u,i),u!==null){u.flags&=32767,Wt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Gt=6,Wt=null;return}}if(i=i.sibling,i!==null){Wt=i;return}Wt=i=r}while(i!==null);Gt===0&&(Gt=5)}function No(r,i,u){var h=jt,y=Un.transition;try{Un.transition=null,jt=1,tE(r,i,u,h)}finally{Un.transition=y,jt=h}return null}function tE(r,i,u,h){do Si();while(Rr!==null);if((ct&6)!==0)throw Error(n(327));u=r.finishedWork;var y=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var b=u.lanes|u.childLanes;if(D2(r,b),r===Xt&&(Wt=Xt=null,sn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Uc||(Uc=!0,yv(Xl,function(){return Si(),null})),b=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||b){b=Un.transition,Un.transition=null;var A=jt;jt=1;var z=ct;ct|=4,rh.current=null,Q_(r,u),rv(u,r),w_(hf),rc=!!ff,hf=ff=null,r.current=u,Y_(u),k2(),ct=z,jt=A,Un.transition=b}else r.current=u;if(Uc&&(Uc=!1,Rr=r,Wc=y),b=r.pendingLanes,b===0&&(Pr=null),T2(u.stateNode),Cn(r,Lt()),i!==null)for(h=r.onRecoverableError,u=0;u<i.length;u++)y=i[u],h(y.value,{componentStack:y.stack,digest:y.digest});if(Bc)throw Bc=!1,r=ah,ah=null,r;return(Wc&1)!==0&&r.tag!==0&&Si(),b=r.pendingLanes,(b&1)!==0?r===lh?Qa++:(Qa=0,lh=r):Qa=0,kr(),null}function Si(){if(Rr!==null){var r=nx(Wc),i=Un.transition,u=jt;try{if(Un.transition=null,jt=16>r?16:r,Rr===null)var h=!1;else{if(r=Rr,Rr=null,Wc=0,(ct&6)!==0)throw Error(n(331));var y=ct;for(ct|=4,Me=r.current;Me!==null;){var b=Me,A=b.child;if((Me.flags&16)!==0){var z=b.deletions;if(z!==null){for(var U=0;U<z.length;U++){var ee=z[U];for(Me=ee;Me!==null;){var ge=Me;switch(ge.tag){case 0:case 11:case 15:Ha(8,ge,b)}var ye=ge.child;if(ye!==null)ye.return=ge,Me=ye;else for(;Me!==null;){ge=Me;var pe=ge.sibling,Re=ge.return;if(Zy(ge),ge===ee){Me=null;break}if(pe!==null){pe.return=Re,Me=pe;break}Me=Re}}}var Fe=b.alternate;if(Fe!==null){var Le=Fe.child;if(Le!==null){Fe.child=null;do{var $t=Le.sibling;Le.sibling=null,Le=$t}while(Le!==null)}}Me=b}}if((b.subtreeFlags&2064)!==0&&A!==null)A.return=b,Me=A;else e:for(;Me!==null;){if(b=Me,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Ha(9,b,b.return)}var X=b.sibling;if(X!==null){X.return=b.return,Me=X;break e}Me=b.return}}var K=r.current;for(Me=K;Me!==null;){A=Me;var J=A.child;if((A.subtreeFlags&2064)!==0&&J!==null)J.return=A,Me=J;else e:for(A=K;Me!==null;){if(z=Me,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Lc(9,z)}}catch(Ve){It(z,z.return,Ve)}if(z===A){Me=null;break e}var be=z.sibling;if(be!==null){be.return=z.return,Me=be;break e}Me=z.return}}if(ct=y,kr(),bs&&typeof bs.onPostCommitFiberRoot=="function")try{bs.onPostCommitFiberRoot(Jl,r)}catch{}h=!0}return h}finally{jt=u,Un.transition=i}}return!1}function pv(r,i,u){i=bi(u,i),i=My(r,i,1),r=Er(r,i,1),i=xn(),r!==null&&(va(r,1,i),Cn(r,i))}function It(r,i,u){if(r.tag===3)pv(r,r,u);else for(;i!==null;){if(i.tag===3){pv(i,r,u);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Pr===null||!Pr.has(h))){r=bi(u,r),r=Fy(i,r,1),i=Er(i,r,1),r=xn(),i!==null&&(va(i,1,r),Cn(i,r));break}}i=i.return}}function nE(r,i,u){var h=r.pingCache;h!==null&&h.delete(i),i=xn(),r.pingedLanes|=r.suspendedLanes&u,Xt===r&&(sn&u)===u&&(Gt===4||Gt===3&&(sn&130023424)===sn&&500>Lt()-ih?jo(r,0):oh|=u),Cn(r,i)}function gv(r,i){i===0&&((r.mode&1)===0?i=1:(i=ec,ec<<=1,(ec&130023424)===0&&(ec=4194304)));var u=xn();r=qs(r,i),r!==null&&(va(r,i,u),Cn(r,u))}function sE(r){var i=r.memoizedState,u=0;i!==null&&(u=i.retryLane),gv(r,u)}function rE(r,i){var u=0;switch(r.tag){case 13:var h=r.stateNode,y=r.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(i),gv(r,u)}var xv;xv=function(r,i,u){if(r!==null)if(r.memoizedProps!==i.pendingProps||wn.current)Nn=!0;else{if((r.lanes&u)===0&&(i.flags&128)===0)return Nn=!1,q_(r,i,u);Nn=(r.flags&131072)!==0}else Nn=!1,Tt&&(i.flags&1048576)!==0&&Yx(i,jc,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Ic(r,i),r=i.pendingProps;var y=fi(i,cn.current);yi(i,u),y=If(null,i,h,r,y,u);var b=zf();return i.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,jn(h)?(b=!0,vc(i)):b=!1,i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Pf(i),y.updater=Dc,i.stateNode=y,y._reactInternals=i,Wf(i,h,r,u),i=Gf(null,i,h,!0,b,u)):(i.tag=0,Tt&&b&&bf(i),gn(null,i,y,u),i=i.child),i;case 16:h=i.elementType;e:{switch(Ic(r,i),r=i.pendingProps,y=h._init,h=y(h._payload),i.type=h,y=i.tag=iE(h),r=ss(h,r),y){case 0:i=Kf(null,i,h,r,u);break e;case 1:i=Uy(null,i,h,r,u);break e;case 11:i=zy(null,i,h,r,u);break e;case 14:i=Ly(null,i,h,ss(h.type,r),u);break e}throw Error(n(306,h,""))}return i;case 0:return h=i.type,y=i.pendingProps,y=i.elementType===h?y:ss(h,y),Kf(r,i,h,y,u);case 1:return h=i.type,y=i.pendingProps,y=i.elementType===h?y:ss(h,y),Uy(r,i,h,y,u);case 3:e:{if(Wy(i),r===null)throw Error(n(387));h=i.pendingProps,b=i.memoizedState,y=b.element,oy(r,i),Ec(i,h,null,u);var A=i.memoizedState;if(h=A.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){y=bi(Error(n(423)),i),i=qy(r,i,h,u,y);break e}else if(h!==y){y=bi(Error(n(424)),i),i=qy(r,i,h,u,y);break e}else for(Dn=Nr(i.stateNode.containerInfo.firstChild),Fn=i,Tt=!0,ns=null,u=sy(i,null,h,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(pi(),h===y){i=Ks(r,i,u);break e}gn(r,i,h,u)}i=i.child}return i;case 5:return ly(i),r===null&&Nf(i),h=i.type,y=i.pendingProps,b=r!==null?r.memoizedProps:null,A=y.children,mf(h,y)?A=null:b!==null&&mf(h,b)&&(i.flags|=32),By(r,i),gn(r,i,A,u),i.child;case 6:return r===null&&Nf(i),null;case 13:return Hy(r,i,u);case 4:return Rf(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=gi(i,null,h,u):gn(r,i,h,u),i.child;case 11:return h=i.type,y=i.pendingProps,y=i.elementType===h?y:ss(h,y),zy(r,i,h,y,u);case 7:return gn(r,i,i.pendingProps,u),i.child;case 8:return gn(r,i,i.pendingProps.children,u),i.child;case 12:return gn(r,i,i.pendingProps.children,u),i.child;case 10:e:{if(h=i.type._context,y=i.pendingProps,b=i.memoizedProps,A=y.value,St(Cc,h._currentValue),h._currentValue=A,b!==null)if(ts(b.value,A)){if(b.children===y.children&&!wn.current){i=Ks(r,i,u);break e}}else for(b=i.child,b!==null&&(b.return=i);b!==null;){var z=b.dependencies;if(z!==null){A=b.child;for(var U=z.firstContext;U!==null;){if(U.context===h){if(b.tag===1){U=Hs(-1,u&-u),U.tag=2;var ee=b.updateQueue;if(ee!==null){ee=ee.shared;var ge=ee.pending;ge===null?U.next=U:(U.next=ge.next,ge.next=U),ee.pending=U}}b.lanes|=u,U=b.alternate,U!==null&&(U.lanes|=u),Ef(b.return,u,i),z.lanes|=u;break}U=U.next}}else if(b.tag===10)A=b.type===i.type?null:b.child;else if(b.tag===18){if(A=b.return,A===null)throw Error(n(341));A.lanes|=u,z=A.alternate,z!==null&&(z.lanes|=u),Ef(A,u,i),A=b.sibling}else A=b.child;if(A!==null)A.return=b;else for(A=b;A!==null;){if(A===i){A=null;break}if(b=A.sibling,b!==null){b.return=A.return,A=b;break}A=A.return}b=A}gn(r,i,y.children,u),i=i.child}return i;case 9:return y=i.type,h=i.pendingProps.children,yi(i,u),y=Vn(y),h=h(y),i.flags|=1,gn(r,i,h,u),i.child;case 14:return h=i.type,y=ss(h,i.pendingProps),y=ss(h.type,y),Ly(r,i,h,y,u);case 15:return $y(r,i,i.type,i.pendingProps,u);case 17:return h=i.type,y=i.pendingProps,y=i.elementType===h?y:ss(h,y),Ic(r,i),i.tag=1,jn(h)?(r=!0,vc(i)):r=!1,yi(i,u),Ry(i,h,y),Wf(i,h,y,u),Gf(null,i,h,!0,r,u);case 19:return Gy(r,i,u);case 22:return Vy(r,i,u)}throw Error(n(156,i.tag))};function yv(r,i){return Xg(r,i)}function oE(r,i,u,h){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(r,i,u,h){return new oE(r,i,u,h)}function mh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function iE(r){if(typeof r=="function")return mh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===D)return 11;if(r===Y)return 14}return 2}function Fr(r,i){var u=r.alternate;return u===null?(u=Wn(r.tag,i,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=i,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,i=r.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function Gc(r,i,u,h,y,b){var A=2;if(h=r,typeof r=="function")mh(r)&&(A=1);else if(typeof r=="string")A=5;else e:switch(r){case R:return So(u.children,y,b,i);case _:A=8,y|=8;break;case W:return r=Wn(12,u,i,y|2),r.elementType=W,r.lanes=b,r;case B:return r=Wn(13,u,i,y),r.elementType=B,r.lanes=b,r;case V:return r=Wn(19,u,i,y),r.elementType=V,r.lanes=b,r;case G:return Qc(u,y,b,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $:A=10;break e;case M:A=9;break e;case D:A=11;break e;case Y:A=14;break e;case ne:A=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Wn(A,u,i,y),i.elementType=r,i.type=h,i.lanes=b,i}function So(r,i,u,h){return r=Wn(7,r,h,i),r.lanes=u,r}function Qc(r,i,u,h){return r=Wn(22,r,h,i),r.elementType=G,r.lanes=u,r.stateNode={isHidden:!1},r}function ph(r,i,u){return r=Wn(6,r,null,i),r.lanes=u,r}function gh(r,i,u){return i=Wn(4,r.children!==null?r.children:[],r.key,i),i.lanes=u,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function aE(r,i,u,h,y){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bd(0),this.expirationTimes=Bd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bd(0),this.identifierPrefix=h,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function xh(r,i,u,h,y,b,A,z,U){return r=new aE(r,i,u,z,U),i===1?(i=1,b===!0&&(i|=8)):i=0,b=Wn(3,null,null,i),r.current=b,b.stateNode=r,b.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pf(b),r}function lE(r,i,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:h==null?null:""+h,children:r,containerInfo:i,implementation:u}}function vv(r){if(!r)return Cr;r=r._reactInternals;e:{if(fo(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(jn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var u=r.type;if(jn(u))return Kx(r,u,i)}return i}function bv(r,i,u,h,y,b,A,z,U){return r=xh(u,h,!0,r,y,b,A,z,U),r.context=vv(null),u=r.current,h=xn(),y=Ar(u),b=Hs(h,y),b.callback=i??null,Er(u,b,y),r.current.lanes=y,va(r,y,h),Cn(r,h),r}function Yc(r,i,u,h){var y=i.current,b=xn(),A=Ar(y);return u=vv(u),i.context===null?i.context=u:i.pendingContext=u,i=Hs(b,A),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=Er(y,i,A),r!==null&&(is(r,y,A,b),_c(r,y,A)),A}function Xc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function wv(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<i?u:i}}function yh(r,i){wv(r,i),(r=r.alternate)&&wv(r,i)}function cE(){return null}var jv=typeof reportError=="function"?reportError:function(r){console.error(r)};function vh(r){this._internalRoot=r}Jc.prototype.render=vh.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Yc(r,i,null,null)},Jc.prototype.unmount=vh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;wo(function(){Yc(null,r,null,null)}),i[Vs]=null}};function Jc(r){this._internalRoot=r}Jc.prototype.unstable_scheduleHydration=function(r){if(r){var i=ox();r={blockedOn:null,target:r,priority:i};for(var u=0;u<br.length&&i!==0&&i<br[u].priority;u++);br.splice(u,0,r),u===0&&lx(r)}};function bh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Zc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Nv(){}function uE(r,i,u,h,y){if(y){if(typeof h=="function"){var b=h;h=function(){var ee=Xc(A);b.call(ee)}}var A=bv(i,h,r,0,null,!1,!1,"",Nv);return r._reactRootContainer=A,r[Vs]=A.current,Ma(r.nodeType===8?r.parentNode:r),wo(),A}for(;y=r.lastChild;)r.removeChild(y);if(typeof h=="function"){var z=h;h=function(){var ee=Xc(U);z.call(ee)}}var U=xh(r,0,!1,null,null,!1,!1,"",Nv);return r._reactRootContainer=U,r[Vs]=U.current,Ma(r.nodeType===8?r.parentNode:r),wo(function(){Yc(i,U,u,h)}),U}function eu(r,i,u,h,y){var b=u._reactRootContainer;if(b){var A=b;if(typeof y=="function"){var z=y;y=function(){var U=Xc(A);z.call(U)}}Yc(i,A,r,y)}else A=uE(u,i,r,y,h);return Xc(A)}sx=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var u=ya(i.pendingLanes);u!==0&&(Ud(i,u|1),Cn(i,Lt()),(ct&6)===0&&(Ni=Lt()+500,kr()))}break;case 13:wo(function(){var h=qs(r,1);if(h!==null){var y=xn();is(h,r,1,y)}}),yh(r,1)}},Wd=function(r){if(r.tag===13){var i=qs(r,134217728);if(i!==null){var u=xn();is(i,r,134217728,u)}yh(r,134217728)}},rx=function(r){if(r.tag===13){var i=Ar(r),u=qs(r,i);if(u!==null){var h=xn();is(u,r,i,h)}yh(r,i)}},ox=function(){return jt},ix=function(r,i){var u=jt;try{return jt=r,i()}finally{jt=u}},ze=function(r,i,u){switch(i){case"input":if(Be(r,u),i=u.name,u.type==="radio"&&i!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var h=u[i];if(h!==r&&h.form===r.form){var y=xc(h);if(!y)throw Error(n(90));Ee(h),Be(h,y)}}}break;case"textarea":lt(r,u);break;case"select":i=u.value,i!=null&&Xe(r,!!u.multiple,i,!1)}},ft=dh,Ot=wo;var dE={usingClientEntryPoint:!1,Events:[Oa,ui,xc,Ut,Ze,dh]},Ya={findFiberByHostInstance:ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fE={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Qg(r),r===null?null:r.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||cE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Jl=tu.inject(fE),bs=tu}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dE,kn.createPortal=function(r,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bh(i))throw Error(n(200));return lE(r,i,null,u)},kn.createRoot=function(r,i){if(!bh(r))throw Error(n(299));var u=!1,h="",y=jv;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=xh(r,1,!1,null,null,u,!1,h,y),r[Vs]=i.current,Ma(r.nodeType===8?r.parentNode:r),new vh(i)},kn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Qg(i),r=r===null?null:r.stateNode,r},kn.flushSync=function(r){return wo(r)},kn.hydrate=function(r,i,u){if(!Zc(i))throw Error(n(200));return eu(null,r,i,!0,u)},kn.hydrateRoot=function(r,i,u){if(!bh(r))throw Error(n(405));var h=u!=null&&u.hydratedSources||null,y=!1,b="",A=jv;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),i=bv(i,null,r,1,u??null,y,!1,b,A),r[Vs]=i.current,Ma(r),h)for(r=0;r<h.length;r++)u=h[r],y=u._getVersion,y=y(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,y]:i.mutableSourceEagerHydrationData.push(u,y);return new Jc(i)},kn.render=function(r,i,u){if(!Zc(i))throw Error(n(200));return eu(null,r,i,!1,u)},kn.unmountComponentAtNode=function(r){if(!Zc(r))throw Error(n(40));return r._reactRootContainer?(wo(function(){eu(null,null,r,!1,function(){r._reactRootContainer=null,r[Vs]=null})}),!0):!1},kn.unstable_batchedUpdates=dh,kn.unstable_renderSubtreeIntoContainer=function(r,i,u,h){if(!Zc(u))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return eu(r,i,u,!1,h)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var Av;function Cw(){if(Av)return Sh.exports;Av=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Sh.exports=bE(),Sh.exports}var Mv;function wE(){if(Mv)return nu;Mv=1;var e=Cw();return nu.createRoot=e.createRoot,nu.hydrateRoot=e.hydrateRoot,nu}var jE=wE();const NE=bp(jE);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fv="popstate";function SE(e={}){function t(o,a){let{pathname:l,search:c,hash:d}=o.location;return lm("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){return typeof a=="string"?a:fl(a)}return kE(t,n,null,e)}function Dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CE(){return Math.random().toString(36).substring(2,10)}function Dv(e,t){return{usr:e.state,key:e.key,idx:t}}function lm(e,t,n=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ea(t):t,state:n,key:t&&t.key||o||CE()}}function fl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ea(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function kE(e,t,n,o={}){let{window:a=document.defaultView,v5Compat:l=!1}=o,c=a.history,d="POP",f=null,p=m();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function m(){return(c.state||{idx:null}).idx}function g(){d="POP";let S=m(),T=S==null?null:S-p;p=S,f&&f({action:d,location:N.location,delta:T})}function v(S,T){d="PUSH";let P=lm(N.location,S,T);p=m()+1;let k=Dv(P,p),E=N.createHref(P);try{c.pushState(k,"",E)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;a.location.assign(E)}l&&f&&f({action:d,location:N.location,delta:1})}function j(S,T){d="REPLACE";let P=lm(N.location,S,T);p=m();let k=Dv(P,p),E=N.createHref(P);c.replaceState(k,"",E),l&&f&&f({action:d,location:N.location,delta:0})}function C(S){return _E(S)}let N={get action(){return d},get location(){return e(a,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Fv,g),f=S,()=>{a.removeEventListener(Fv,g),f=null}},createHref(S){return t(a,S)},createURL:C,encodeLocation(S){let T=C(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:j,go(S){return c.go(S)}};return N}function _E(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:fl(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function kw(e,t,n="/"){return EE(e,t,n,!1)}function EE(e,t,n,o){let a=typeof t=="string"?ea(t):t,l=rr(a.pathname||"/",n);if(l==null)return null;let c=_w(e);TE(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let p=$E(l);d=zE(c[f],p,o)}return d}function _w(e,t=[],n=[],o="",a=!1){let l=(c,d,f=a,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(o)&&f)return;Dt(m.relativePath.startsWith(o),`Absolute route path "${m.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(o.length)}let g=tr([o,m.relativePath]),v=n.concat(m);c.children&&c.children.length>0&&(Dt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),_w(c.children,t,v,g,f)),!(c.path==null&&!c.index)&&t.push({path:g,score:OE(g,c.index),routesMeta:v})};return e.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,d);else for(let p of Ew(c.path))l(c,d,!0,p)}),t}function Ew(e){let t=e.split("/");if(t.length===0)return[];let[n,...o]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(o.length===0)return a?[l,""]:[l];let c=Ew(o.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function TE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:IE(t.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var PE=/^:[\w-]+$/,RE=3,AE=2,ME=1,FE=10,DE=-2,Ov=e=>e==="*";function OE(e,t){let n=e.split("/"),o=n.length;return n.some(Ov)&&(o+=DE),t&&(o+=AE),n.filter(a=>!Ov(a)).reduce((a,l)=>a+(PE.test(l)?RE:l===""?ME:FE),o)}function IE(e,t){return e.length===t.length&&e.slice(0,-1).every((o,a)=>o===t[a])?e[e.length-1]-t[t.length-1]:0}function zE(e,t,n=!1){let{routesMeta:o}=e,a={},l="/",c=[];for(let d=0;d<o.length;++d){let f=o[d],p=d===o.length-1,m=l==="/"?t:t.slice(l.length)||"/",g=Mu({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),v=f.route;if(!g&&p&&n&&!o[o.length-1].route.index&&(g=Mu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:tr([l,g.pathname]),pathnameBase:qE(tr([l,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(l=tr([l,g.pathnameBase]))}return c}function Mu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=LE(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:o.reduce((p,{paramName:m,isOptional:g},v)=>{if(m==="*"){let C=d[v]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const j=d[v];return g&&!j?p[m]=void 0:p[m]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function LE(e,t=!1,n=!0){hs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(o.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),o]}function $E(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function rr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&o!=="/"?null:e.slice(n)||"/"}var VE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BE=e=>VE.test(e);function UE(e,t="/"){let{pathname:n,search:o="",hash:a=""}=typeof e=="string"?ea(e):e,l;if(n)if(BE(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),hs(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=Iv(n.substring(1),"/"):l=Iv(n,t)}else l=t;return{pathname:l,search:HE(o),hash:KE(a)}}function Iv(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function _h(e,t,n,o){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Tw(e){let t=WE(e);return t.map((n,o)=>o===t.length-1?n.pathname:n.pathnameBase)}function Pw(e,t,n,o=!1){let a;typeof e=="string"?a=ea(e):(a={...e},Dt(!a.pathname||!a.pathname.includes("?"),_h("?","pathname","search",a)),Dt(!a.pathname||!a.pathname.includes("#"),_h("#","pathname","hash",a)),Dt(!a.search||!a.search.includes("#"),_h("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let g=t.length-1;if(!o&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}d=g>=0?t[g]:"/"}let f=UE(a,d),p=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var tr=e=>e.join("/").replace(/\/\/+/g,"/"),qE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),HE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function GE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Rw=["POST","PUT","PATCH","DELETE"];new Set(Rw);var QE=["GET",...Rw];new Set(QE);var ta=x.createContext(null);ta.displayName="DataRouter";var ed=x.createContext(null);ed.displayName="DataRouterState";x.createContext(!1);var Aw=x.createContext({isTransitioning:!1});Aw.displayName="ViewTransition";var YE=x.createContext(new Map);YE.displayName="Fetchers";var XE=x.createContext(null);XE.displayName="Await";var zs=x.createContext(null);zs.displayName="Navigation";var _l=x.createContext(null);_l.displayName="Location";var dr=x.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var Np=x.createContext(null);Np.displayName="RouteError";function JE(e,{relative:t}={}){Dt(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=x.useContext(zs),{hash:a,pathname:l,search:c}=Tl(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:tr([n,l])),o.createHref({pathname:d,search:c,hash:a})}function El(){return x.useContext(_l)!=null}function ro(){return Dt(El(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(_l).location}var Mw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fw(e){x.useContext(zs).static||x.useLayoutEffect(e)}function ZE(){let{isDataRoute:e}=x.useContext(dr);return e?fT():eT()}function eT(){Dt(El(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(ta),{basename:t,navigator:n}=x.useContext(zs),{matches:o}=x.useContext(dr),{pathname:a}=ro(),l=JSON.stringify(Tw(o)),c=x.useRef(!1);return Fw(()=>{c.current=!0}),x.useCallback((f,p={})=>{if(hs(c.current,Mw),!c.current)return;if(typeof f=="number"){n.go(f);return}let m=Pw(f,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:tr([t,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[t,n,l,a,e])}x.createContext(null);function Tl(e,{relative:t}={}){let{matches:n}=x.useContext(dr),{pathname:o}=ro(),a=JSON.stringify(Tw(n));return x.useMemo(()=>Pw(e,JSON.parse(a),o,t==="path"),[e,a,o,t])}function tT(e,t){return Dw(e,t)}function Dw(e,t,n,o,a){var P;Dt(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=x.useContext(zs),{matches:c}=x.useContext(dr),d=c[c.length-1],f=d?d.params:{},p=d?d.pathname:"/",m=d?d.pathnameBase:"/",g=d&&d.route;{let k=g&&g.path||"";Ow(p,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=ro(),j;if(t){let k=typeof t=="string"?ea(t):t;Dt(m==="/"||((P=k.pathname)==null?void 0:P.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),j=k}else j=v;let C=j.pathname||"/",N=C;if(m!=="/"){let k=m.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=kw(e,{pathname:N});hs(g||S!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),hs(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=iT(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:tr([m,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:tr([m,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),c,n,o,a);return t&&T?x.createElement(_l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},T):T}function nT(){let e=dT(),t=GE(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:a},n):null,c)}var sT=x.createElement(nT,null),rT=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(dr.Provider,{value:this.props.routeContext},x.createElement(Np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oT({routeContext:e,match:t,children:n}){let o=x.useContext(ta);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(dr.Provider,{value:e},n)}function iT(e,t=[],n=null,o=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n==null?void 0:n.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);Dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,f=-1;if(n)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:v,errors:j}=n,C=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!j||j[g.route.id]===void 0);if(g.route.lazy||C){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&o?(m,g)=>{var v,j;o(m,{location:n.location,params:((j=(v=n.matches)==null?void 0:v[0])==null?void 0:j.params)??{},errorInfo:g})}:void 0;return l.reduceRight((m,g,v)=>{let j,C=!1,N=null,S=null;n&&(j=c&&g.route.id?c[g.route.id]:void 0,N=g.route.errorElement||sT,d&&(f<0&&v===0?(Ow("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,S=null):f===v&&(C=!0,S=g.route.hydrateFallbackElement||null)));let T=t.concat(l.slice(0,v+1)),P=()=>{let k;return j?k=N:C?k=S:g.route.Component?k=x.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=m,x.createElement(oT,{match:g,routeContext:{outlet:m,matches:T,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?x.createElement(rT,{location:n.location,revalidation:n.revalidation,component:N,error:j,children:P(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:p}):P()},null)}function Sp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aT(e){let t=x.useContext(ta);return Dt(t,Sp(e)),t}function lT(e){let t=x.useContext(ed);return Dt(t,Sp(e)),t}function cT(e){let t=x.useContext(dr);return Dt(t,Sp(e)),t}function Cp(e){let t=cT(e),n=t.matches[t.matches.length-1];return Dt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function uT(){return Cp("useRouteId")}function dT(){var o;let e=x.useContext(Np),t=lT("useRouteError"),n=Cp("useRouteError");return e!==void 0?e:(o=t.errors)==null?void 0:o[n]}function fT(){let{router:e}=aT("useNavigate"),t=Cp("useNavigate"),n=x.useRef(!1);return Fw(()=>{n.current=!0}),x.useCallback(async(a,l={})=>{hs(n.current,Mw),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var zv={};function Ow(e,t,n){!t&&!zv[e]&&(zv[e]=!0,hs(!1,n))}x.memo(hT);function hT({routes:e,future:t,state:n,unstable_onError:o}){return Dw(e,void 0,n,o,t)}function Zt(e){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mT({basename:e="/",children:t=null,location:n,navigationType:o="POP",navigator:a,static:l=!1}){Dt(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=ea(n));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=n,j=x.useMemo(()=>{let C=rr(f,c);return C==null?null:{location:{pathname:C,search:p,hash:m,state:g,key:v},navigationType:o}},[c,f,p,m,g,v,o]);return hs(j!=null,`<Router basename="${c}"> is not able to match the URL "${f}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:x.createElement(zs.Provider,{value:d},x.createElement(_l.Provider,{children:t,value:j}))}function pT({children:e,location:t}){return tT(cm(e),t)}function cm(e,t=[]){let n=[];return x.Children.forEach(e,(o,a)=>{if(!x.isValidElement(o))return;let l=[...t,a];if(o.type===x.Fragment){n.push.apply(n,cm(o.props.children,l));return}Dt(o.type===Zt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let c={id:o.props.id||l.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(c.children=cm(o.props.children,l)),n.push(c)}),n}var yu="get",vu="application/x-www-form-urlencoded";function td(e){return e!=null&&typeof e.tagName=="string"}function gT(e){return td(e)&&e.tagName.toLowerCase()==="button"}function xT(e){return td(e)&&e.tagName.toLowerCase()==="form"}function yT(e){return td(e)&&e.tagName.toLowerCase()==="input"}function vT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bT(e,t){return e.button===0&&(!t||t==="_self")&&!vT(e)}var su=null;function wT(){if(su===null)try{new FormData(document.createElement("form"),0),su=!1}catch{su=!0}return su}var jT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eh(e){return e!=null&&!jT.has(e)?(hs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vu}"`),null):e}function NT(e,t){let n,o,a,l,c;if(xT(e)){let d=e.getAttribute("action");o=d?rr(d,t):null,n=e.getAttribute("method")||yu,a=Eh(e.getAttribute("enctype"))||vu,l=new FormData(e)}else if(gT(e)||yT(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(o=f?rr(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||yu,a=Eh(e.getAttribute("formenctype"))||Eh(d.getAttribute("enctype"))||vu,l=new FormData(d,e),!wT()){let{name:p,type:m,value:g}=e;if(m==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,g)}}else{if(td(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yu,o=null,a=vu,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:o,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ST(e,t,n){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return o.pathname==="/"?o.pathname=`_root.${n}`:t&&rr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${n}`,o}async function CT(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function _T(e,t,n){let o=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await CT(l,n);return c.links?c.links():[]}return[]}));return RT(o.flat(1).filter(kT).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Lv(e,t,n,o,a,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var m;return n[p].pathname!==f.pathname||((m=n[p].route.path)==null?void 0:m.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,p)=>c(f,p)||d(f,p)):l==="data"?t.filter((f,p)=>{var g;let m=o.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function ET(e,t,{includeHydrateFallback:n}={}){return TT(e.map(o=>{let a=t.routes[o.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function TT(e){return[...new Set(e)]}function PT(e){let t={},n=Object.keys(e).sort();for(let o of n)t[o]=e[o];return t}function RT(e,t){let n=new Set;return new Set(t),e.reduce((o,a)=>{let l=JSON.stringify(PT(a));return n.has(l)||(n.add(l),o.push({key:l,link:a})),o},[])}function Iw(){let e=x.useContext(ta);return kp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function AT(){let e=x.useContext(ed);return kp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var _p=x.createContext(void 0);_p.displayName="FrameworkContext";function zw(){let e=x.useContext(_p);return kp(e,"You must render this element inside a <HydratedRouter> element"),e}function MT(e,t){let n=x.useContext(_p),[o,a]=x.useState(!1),[l,c]=x.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:g}=t,v=x.useRef(null);x.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let N=T=>{T.forEach(P=>{c(P.isIntersecting)})},S=new IntersectionObserver(N,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[e]),x.useEffect(()=>{if(o){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[o]);let j=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,v,{}]:[l,v,{onFocus:Ja(d,j),onBlur:Ja(f,C),onMouseEnter:Ja(p,j),onMouseLeave:Ja(m,C),onTouchStart:Ja(g,j)}]:[!1,v,{}]}function Ja(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function FT({page:e,...t}){let{router:n}=Iw(),o=x.useMemo(()=>kw(n.routes,e,n.basename),[n.routes,e,n.basename]);return o?x.createElement(OT,{page:e,matches:o,...t}):null}function DT(e){let{manifest:t,routeModules:n}=zw(),[o,a]=x.useState([]);return x.useEffect(()=>{let l=!1;return _T(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),o}function OT({page:e,matches:t,...n}){let o=ro(),{manifest:a,routeModules:l}=zw(),{basename:c}=Iw(),{loaderData:d,matches:f}=AT(),p=x.useMemo(()=>Lv(e,t,f,a,o,"data"),[e,t,f,a,o]),m=x.useMemo(()=>Lv(e,t,f,a,o,"assets"),[e,t,f,a,o]),g=x.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let C=new Set,N=!1;if(t.forEach(T=>{var k;let P=a.routes[T.route.id];!P||!P.hasLoader||(!p.some(E=>E.route.id===T.route.id)&&T.route.id in d&&((k=l[T.route.id])!=null&&k.shouldRevalidate)||P.hasClientLoader?N=!0:C.add(T.route.id))}),C.size===0)return[];let S=ST(e,c,"data");return N&&C.size>0&&S.searchParams.set("_routes",t.filter(T=>C.has(T.route.id)).map(T=>T.route.id).join(",")),[S.pathname+S.search]},[c,d,o,a,p,t,e,l]),v=x.useMemo(()=>ET(m,a),[m,a]),j=DT(m);return x.createElement(x.Fragment,null,g.map(C=>x.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),v.map(C=>x.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),j.map(({key:C,link:N})=>x.createElement("link",{key:C,nonce:n.nonce,...N})))}function IT(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Lw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Lw&&(window.__reactRouterVersion="7.9.6")}catch{}function zT({basename:e,children:t,window:n}){let o=x.useRef();o.current==null&&(o.current=SE({window:n,v5Compat:!0}));let a=o.current,[l,c]=x.useState({action:a.action,location:a.location}),d=x.useCallback(f=>{x.startTransition(()=>c(f))},[c]);return x.useLayoutEffect(()=>a.listen(d),[a,d]),x.createElement(mT,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var $w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zs=x.forwardRef(function({onClick:t,discover:n="render",prefetch:o="none",relative:a,reloadDocument:l,replace:c,state:d,target:f,to:p,preventScrollReset:m,viewTransition:g,...v},j){let{basename:C}=x.useContext(zs),N=typeof p=="string"&&$w.test(p),S,T=!1;if(typeof p=="string"&&N&&(S=p,Lw))try{let W=new URL(window.location.href),$=p.startsWith("//")?new URL(W.protocol+p):new URL(p),M=rr($.pathname,C);$.origin===W.origin&&M!=null?p=M+$.search+$.hash:T=!0}catch{hs(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=JE(p,{relative:a}),[k,E,I]=MT(o,v),L=BT(p,{replace:c,state:d,target:f,preventScrollReset:m,relative:a,viewTransition:g});function R(W){t&&t(W),W.defaultPrevented||L(W)}let _=x.createElement("a",{...v,...I,href:S||P,onClick:T||l?t:R,ref:IT(j,E),target:f,"data-discover":!N&&n==="render"?"true":void 0});return k&&!N?x.createElement(x.Fragment,null,_,x.createElement(FT,{page:P})):_});Zs.displayName="Link";var LT=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:o="",end:a=!1,style:l,to:c,viewTransition:d,children:f,...p},m){let g=Tl(c,{relative:p.relative}),v=ro(),j=x.useContext(ed),{navigator:C,basename:N}=x.useContext(zs),S=j!=null&&KT(g)&&d===!0,T=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,P=v.pathname,k=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(P=P.toLowerCase(),k=k?k.toLowerCase():null,T=T.toLowerCase()),k&&N&&(k=rr(k,N)||k);const E=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let I=P===T||!a&&P.startsWith(T)&&P.charAt(E)==="/",L=k!=null&&(k===T||!a&&k.startsWith(T)&&k.charAt(T.length)==="/"),R={isActive:I,isPending:L,isTransitioning:S},_=I?t:void 0,W;typeof o=="function"?W=o(R):W=[o,I?"active":null,L?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(R):l;return x.createElement(Zs,{...p,"aria-current":_,className:W,ref:m,style:$,to:c,viewTransition:d},typeof f=="function"?f(R):f)});LT.displayName="NavLink";var $T=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:o,replace:a,state:l,method:c=yu,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,...v},j)=>{let C=qT(),N=HT(d,{relative:p}),S=c.toLowerCase()==="get"?"get":"post",T=typeof d=="string"&&$w.test(d),P=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let E=k.nativeEvent.submitter,I=(E==null?void 0:E.getAttribute("formmethod"))||c;C(E||k.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:a,state:l,relative:p,preventScrollReset:m,viewTransition:g})};return x.createElement("form",{ref:j,method:S,action:N,onSubmit:o?f:P,...v,"data-discover":!T&&e==="render"?"true":void 0})});$T.displayName="Form";function VT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vw(e){let t=x.useContext(ta);return Dt(t,VT(e)),t}function BT(e,{target:t,replace:n,state:o,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=ZE(),f=ro(),p=Tl(e,{relative:l});return x.useCallback(m=>{if(bT(m,t)){m.preventDefault();let g=n!==void 0?n:fl(f)===fl(p);d(e,{replace:g,state:o,preventScrollReset:a,relative:l,viewTransition:c})}},[f,d,p,n,o,t,e,a,l,c])}var UT=0,WT=()=>`__${String(++UT)}__`;function qT(){let{router:e}=Vw("useSubmit"),{basename:t}=x.useContext(zs),n=uT();return x.useCallback(async(o,a={})=>{let{action:l,method:c,encType:d,formData:f,body:p}=NT(o,t);if(a.navigate===!1){let m=a.fetcherKey||WT();await e.fetch(m,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function HT(e,{relative:t}={}){let{basename:n}=x.useContext(zs),o=x.useContext(dr);Dt(o,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),l={...Tl(e||".",{relative:t})},c=ro();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(m=>m==="")){d.delete("index"),f.filter(g=>g).forEach(g=>d.append("index",g));let m=d.toString();l.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:tr([n,l.pathname])),fl(l)}function KT(e,{relative:t}={}){let n=x.useContext(Aw);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Vw("useViewTransitionState"),a=Tl(e,{relative:t});if(!n.isTransitioning)return!1;let l=rr(n.currentLocation.pathname,o)||n.currentLocation.pathname,c=rr(n.nextLocation.pathname,o)||n.nextLocation.pathname;return Mu(a.pathname,c)!=null||Mu(a.pathname,l)!=null}var Pl=Cw();const GT=bp(Pl);function on(e){return"/"+e.toLowerCase().replace(/ /g,"-")}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bw=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:c,...d},f)=>x.createElement("svg",{ref:f,...YT,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:Bw("lucide",a),...d},[...c.map(([p,m])=>x.createElement(p,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(e,t)=>{const n=x.forwardRef(({className:o,...a},l)=>x.createElement(XT,{ref:l,iconNode:t,className:Bw(`lucide-${QT(e)}`,o),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],um=Ue("ArrowLeft",JT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],eP=Ue("ArrowRight",ZT);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Uw=Ue("Award",tP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],sP=Ue("Banknote",nP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]],dm=Ue("Barcode",rP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],iP=Ue("BookMarked",oP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Qr=Ue("BookOpen",aP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]],cP=Ue("BookmarkCheck",lP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],fm=Ue("Calculator",uP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hl=Ue("Calendar",dP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nd=Ue("Check",fP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ww=Ue("ChevronDown",hP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ep=Ue("ChevronLeft",mP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tp=Ue("ChevronRight",pP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xP=Ue("ChevronUp",gP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],An=Ue("CircleAlert",yP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ml=Ue("CircleCheckBig",vP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qw=Ue("CircleX",bP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hw=Ue("Circle",wP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],NP=Ue("Clock",jP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],CP=Ue("CreditCard",SP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],en=Ue("Download",kP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EP=Ue("EyeOff",_P);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],PP=Ue("FileText",TP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],AP=Ue("Globe",RP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Pp=Ue("Heart",MP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],na=Ue("Image",FP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],OP=Ue("LayoutDashboard",DP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Kw=Ue("Lightbulb",IP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gi=Ue("LoaderCircle",zP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$P=Ue("Lock",LP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Fu=Ue("Mail",VP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qo=Ue("MapPin",BP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],$v=Ue("MessageCircle",UP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M5 12h14",key:"1ays0h"}]],Gw=Ue("Minus",WP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],sd=Ue("Package",qP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],KP=Ue("PanelLeft",HP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QP=Ue("Pen",GP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Vv=Ue("Phone",YP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],an=Ue("Plus",XP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Xo=Ue("Save",JP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Xn=Ue("Search",ZP);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Du=Ue("ShoppingBag",eR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],hm=Ue("ShoppingCart",tR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],Rp=Ue("SlidersHorizontal",nR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Qw=Ue("Sparkles",sR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ap=Ue("SquarePen",rR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],or=Ue("Trash2",oR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Bv=Ue("TrendingDown",iR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Uv=Ue("TrendingUp",aR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Jn=Ue("Upload",lR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_o=Ue("User",cR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Yw=Ue("Users",uR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Xw=Ue("Wallet",dR);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zn=Ue("X",fR);function Wv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function sa(...e){return t=>{let n=!1;const o=e.map(a=>{const l=Wv(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<o.length;a++){const l=o[a];typeof l=="function"?l():Wv(e[a],null)}}}}function gt(...e){return x.useCallback(sa(...e),e)}var hR=Symbol.for("react.lazy"),Ou=jp[" use ".trim().toString()];function mR(e){return typeof e=="object"&&e!==null&&"then"in e}function Jw(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===hR&&"_payload"in e&&mR(e._payload)}function Mp(e){const t=pR(e),n=x.forwardRef((o,a)=>{let{children:l,...c}=o;Jw(l)&&typeof Ou=="function"&&(l=Ou(l._payload));const d=x.Children.toArray(l),f=d.find(xR);if(f){const p=f.props.children,m=d.map(g=>g===f?x.Children.count(p)>1?x.Children.only(null):x.isValidElement(p)?p.props.children:null:g);return s.jsx(t,{...c,ref:a,children:x.isValidElement(p)?x.cloneElement(p,void 0,m):null})}return s.jsx(t,{...c,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}var ra=Mp("Slot");function pR(e){const t=x.forwardRef((n,o)=>{let{children:a,...l}=n;if(Jw(a)&&typeof Ou=="function"&&(a=Ou(a._payload)),x.isValidElement(a)){const c=vR(a),d=yR(l,a.props);return a.type!==x.Fragment&&(d.ref=o?sa(o,c):c),x.cloneElement(a,d)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gR=Symbol("radix.slottable");function xR(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gR}function yR(e,t){const n={...t};for(const o in t){const a=e[o],l=t[o];/^on[A-Z]/.test(o)?a&&l?n[o]=(...d)=>{const f=l(...d);return a(...d),f}:a&&(n[o]=a):o==="style"?n[o]={...a,...l}:o==="className"&&(n[o]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function vR(e){var o,a;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Zw(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Zw(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function ej(){for(var e,t,n=0,o="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Zw(e))&&(o&&(o+=" "),o+=t);return o}const qv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Hv=ej,Jo=(e,t)=>n=>{var o;if((t==null?void 0:t.variants)==null)return Hv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:l}=t,c=Object.keys(a).map(p=>{const m=n==null?void 0:n[p],g=l==null?void 0:l[p];if(m===null)return null;const v=qv(m)||qv(g);return a[p][v]}),d=n&&Object.entries(n).reduce((p,m)=>{let[g,v]=m;return v===void 0||(p[g]=v),p},{}),f=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((p,m)=>{let{class:g,className:v,...j}=m;return Object.entries(j).every(C=>{let[N,S]=C;return Array.isArray(S)?S.includes({...l,...d}[N]):{...l,...d}[N]===S})?[...p,g,v]:p},[]);return Hv(e,c,f,n==null?void 0:n.class,n==null?void 0:n.className)},Th=768;function bR(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Th-1}px)`),o=()=>{t(window.innerWidth<Th)};return n.addEventListener("change",o),t(window.innerWidth<Th),()=>n.removeEventListener("change",o)},[]),!!e}const wR=(e,t)=>{const n=new Array(e.length+t.length);for(let o=0;o<e.length;o++)n[o]=e[o];for(let o=0;o<t.length;o++)n[e.length+o]=t[o];return n},jR=(e,t)=>({classGroupId:e,validator:t}),tj=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Iu="-",Kv=[],NR="arbitrary..",SR=e=>{const t=kR(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return CR(c);const d=c.split(Iu),f=d[0]===""&&d.length>1?1:0;return nj(d,f,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const f=o[c],p=n[c];return f?p?wR(p,f):f:p||Kv}return n[c]||Kv}}},nj=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const a=e[t],l=n.nextPart.get(a);if(l){const p=nj(e,t+1,l);if(p)return p}const c=n.validators;if(c===null)return;const d=t===0?e.join(Iu):e.slice(t).join(Iu),f=c.length;for(let p=0;p<f;p++){const m=c[p];if(m.validator(d))return m.classGroupId}},CR=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),o=t.slice(0,n);return o?NR+o:void 0})(),kR=e=>{const{theme:t,classGroups:n}=e;return _R(n,t)},_R=(e,t)=>{const n=tj();for(const o in e){const a=e[o];Fp(a,n,o,t)}return n},Fp=(e,t,n,o)=>{const a=e.length;for(let l=0;l<a;l++){const c=e[l];ER(c,t,n,o)}},ER=(e,t,n,o)=>{if(typeof e=="string"){TR(e,t,n);return}if(typeof e=="function"){PR(e,t,n,o);return}RR(e,t,n,o)},TR=(e,t,n)=>{const o=e===""?t:sj(t,e);o.classGroupId=n},PR=(e,t,n,o)=>{if(AR(e)){Fp(e(o),t,n,o);return}t.validators===null&&(t.validators=[]),t.validators.push(jR(n,e))},RR=(e,t,n,o)=>{const a=Object.entries(e),l=a.length;for(let c=0;c<l;c++){const[d,f]=a[c];Fp(f,sj(t,d),n,o)}},sj=(e,t)=>{let n=e;const o=t.split(Iu),a=o.length;for(let l=0;l<a;l++){const c=o[l];let d=n.nextPart.get(c);d||(d=tj(),n.nextPart.set(c,d)),n=d}return n},AR=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,MR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),o=Object.create(null);const a=(l,c)=>{n[l]=c,t++,t>e&&(t=0,o=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=o[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},mm="!",Gv=":",FR=[],Qv=(e,t,n,o,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:o,isExternal:a}),DR=e=>{const{prefix:t,experimentalParseClassName:n}=e;let o=a=>{const l=[];let c=0,d=0,f=0,p;const m=a.length;for(let N=0;N<m;N++){const S=a[N];if(c===0&&d===0){if(S===Gv){l.push(a.slice(f,N)),f=N+1;continue}if(S==="/"){p=N;continue}}S==="["?c++:S==="]"?c--:S==="("?d++:S===")"&&d--}const g=l.length===0?a:a.slice(f);let v=g,j=!1;g.endsWith(mm)?(v=g.slice(0,-1),j=!0):g.startsWith(mm)&&(v=g.slice(1),j=!0);const C=p&&p>f?p-f:void 0;return Qv(l,j,v,C)};if(t){const a=t+Gv,l=o;o=c=>c.startsWith(a)?l(c.slice(a.length)):Qv(FR,!1,c,void 0,!0)}if(n){const a=o;o=l=>n({className:l,parseClassName:a})}return o},OR=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,o)=>{t.set(n,1e6+o)}),n=>{const o=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],d=c[0]==="[",f=t.has(c);d||f?(a.length>0&&(a.sort(),o.push(...a),a=[]),o.push(c)):a.push(c)}return a.length>0&&(a.sort(),o.push(...a)),o}},IR=e=>({cache:MR(e.cacheSize),parseClassName:DR(e),sortModifiers:OR(e),...SR(e)}),zR=/\s+/,LR=(e,t)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:a,sortModifiers:l}=t,c=[],d=e.trim().split(zR);let f="";for(let p=d.length-1;p>=0;p-=1){const m=d[p],{isExternal:g,modifiers:v,hasImportantModifier:j,baseClassName:C,maybePostfixModifierPosition:N}=n(m);if(g){f=m+(f.length>0?" "+f:f);continue}let S=!!N,T=o(S?C.substring(0,N):C);if(!T){if(!S){f=m+(f.length>0?" "+f:f);continue}if(T=o(C),!T){f=m+(f.length>0?" "+f:f);continue}S=!1}const P=v.length===0?"":v.length===1?v[0]:l(v).join(":"),k=j?P+mm:P,E=k+T;if(c.indexOf(E)>-1)continue;c.push(E);const I=a(T,S);for(let L=0;L<I.length;++L){const R=I[L];c.push(k+R)}f=m+(f.length>0?" "+f:f)}return f},$R=(...e)=>{let t=0,n,o,a="";for(;t<e.length;)(n=e[t++])&&(o=rj(n))&&(a&&(a+=" "),a+=o);return a},rj=e=>{if(typeof e=="string")return e;let t,n="";for(let o=0;o<e.length;o++)e[o]&&(t=rj(e[o]))&&(n&&(n+=" "),n+=t);return n},VR=(e,...t)=>{let n,o,a,l;const c=f=>{const p=t.reduce((m,g)=>g(m),e());return n=IR(p),o=n.cache.get,a=n.cache.set,l=d,d(f)},d=f=>{const p=o(f);if(p)return p;const m=LR(f,n);return a(f,m),m};return l=c,(...f)=>l($R(...f))},BR=[],Qt=e=>{const t=n=>n[e]||BR;return t.isThemeGetter=!0,t},oj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ij=/^\((?:(\w[\w-]*):)?(.+)\)$/i,UR=/^\d+\/\d+$/,WR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,KR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ci=e=>UR.test(e),st=e=>!!e&&!Number.isNaN(Number(e)),Or=e=>!!e&&Number.isInteger(Number(e)),Ph=e=>e.endsWith("%")&&st(e.slice(0,-1)),Qs=e=>WR.test(e),QR=()=>!0,YR=e=>qR.test(e)&&!HR.test(e),aj=()=>!1,XR=e=>KR.test(e),JR=e=>GR.test(e),ZR=e=>!De(e)&&!Oe(e),eA=e=>oa(e,uj,aj),De=e=>oj.test(e),Co=e=>oa(e,dj,YR),Rh=e=>oa(e,oA,st),Yv=e=>oa(e,lj,aj),tA=e=>oa(e,cj,JR),ru=e=>oa(e,fj,XR),Oe=e=>ij.test(e),Za=e=>ia(e,dj),nA=e=>ia(e,iA),Xv=e=>ia(e,lj),sA=e=>ia(e,uj),rA=e=>ia(e,cj),ou=e=>ia(e,fj,!0),oa=(e,t,n)=>{const o=oj.exec(e);return o?o[1]?t(o[1]):n(o[2]):!1},ia=(e,t,n=!1)=>{const o=ij.exec(e);return o?o[1]?t(o[1]):n:!1},lj=e=>e==="position"||e==="percentage",cj=e=>e==="image"||e==="url",uj=e=>e==="length"||e==="size"||e==="bg-size",dj=e=>e==="length",oA=e=>e==="number",iA=e=>e==="family-name",fj=e=>e==="shadow",aA=()=>{const e=Qt("color"),t=Qt("font"),n=Qt("text"),o=Qt("font-weight"),a=Qt("tracking"),l=Qt("leading"),c=Qt("breakpoint"),d=Qt("container"),f=Qt("spacing"),p=Qt("radius"),m=Qt("shadow"),g=Qt("inset-shadow"),v=Qt("text-shadow"),j=Qt("drop-shadow"),C=Qt("blur"),N=Qt("perspective"),S=Qt("aspect"),T=Qt("ease"),P=Qt("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...E(),Oe,De],L=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],_=()=>[Oe,De,f],W=()=>[Ci,"full","auto",..._()],$=()=>[Or,"none","subgrid",Oe,De],M=()=>["auto",{span:["full",Or,Oe,De]},Or,Oe,De],D=()=>[Or,"auto",Oe,De],B=()=>["auto","min","max","fr",Oe,De],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],ne=()=>["auto",..._()],G=()=>[Ci,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],w=()=>[e,Oe,De],F=()=>[...E(),Xv,Yv,{position:[Oe,De]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",sA,eA,{size:[Oe,De]}],Q=()=>[Ph,Za,Co],xe=()=>["","none","full",p,Oe,De],he=()=>["",st,Za,Co],je=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[st,Ph,Xv,Yv],ve=()=>["","none",C,Oe,De],we=()=>["none",st,Oe,De],Ie=()=>["none",st,Oe,De],ce=()=>[st,Oe,De],Ee=()=>[Ci,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qs],breakpoint:[Qs],color:[QR],container:[Qs],"drop-shadow":[Qs],ease:["in","out","in-out"],font:[ZR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qs],shadow:[Qs],spacing:["px",st],text:[Qs],"text-shadow":[Qs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ci,De,Oe,S]}],container:["container"],columns:[{columns:[st,De,Oe,d]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:W()}],"inset-x":[{"inset-x":W()}],"inset-y":[{"inset-y":W()}],start:[{start:W()}],end:[{end:W()}],top:[{top:W()}],right:[{right:W()}],bottom:[{bottom:W()}],left:[{left:W()}],visibility:["visible","invisible","collapse"],z:[{z:[Or,"auto",Oe,De]}],basis:[{basis:[Ci,"full","auto",d,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[st,Ci,"auto","initial","none",De]}],grow:[{grow:["",st,Oe,De]}],shrink:[{shrink:["",st,Oe,De]}],order:[{order:[Or,"first","last","none",Oe,De]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:ne()}],mx:[{mx:ne()}],my:[{my:ne()}],ms:[{ms:ne()}],me:[{me:ne()}],mt:[{mt:ne()}],mr:[{mr:ne()}],mb:[{mb:ne()}],ml:[{ml:ne()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[d,"screen",...G()]}],"min-w":[{"min-w":[d,"screen","none",...G()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,Za,Co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Oe,Rh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ph,De]}],"font-family":[{font:[nA,De,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Oe,De]}],"line-clamp":[{"line-clamp":[st,"none",Oe,Rh]}],leading:[{leading:[l,..._()]}],"list-image":[{"list-image":["none",Oe,De]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Oe,De]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:w()}],"text-color":[{text:w()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...je(),"wavy"]}],"text-decoration-thickness":[{decoration:[st,"from-font","auto",Oe,Co]}],"text-decoration-color":[{decoration:w()}],"underline-offset":[{"underline-offset":[st,"auto",Oe,De]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe,De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe,De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Or,Oe,De],radial:["",Oe,De],conic:[Or,Oe,De]},rA,tA]}],"bg-color":[{bg:w()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:w()}],"gradient-via":[{via:w()}],"gradient-to":[{to:w()}],rounded:[{rounded:xe()}],"rounded-s":[{"rounded-s":xe()}],"rounded-e":[{"rounded-e":xe()}],"rounded-t":[{"rounded-t":xe()}],"rounded-r":[{"rounded-r":xe()}],"rounded-b":[{"rounded-b":xe()}],"rounded-l":[{"rounded-l":xe()}],"rounded-ss":[{"rounded-ss":xe()}],"rounded-se":[{"rounded-se":xe()}],"rounded-ee":[{"rounded-ee":xe()}],"rounded-es":[{"rounded-es":xe()}],"rounded-tl":[{"rounded-tl":xe()}],"rounded-tr":[{"rounded-tr":xe()}],"rounded-br":[{"rounded-br":xe()}],"rounded-bl":[{"rounded-bl":xe()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...je(),"hidden","none"]}],"divide-style":[{divide:[...je(),"hidden","none"]}],"border-color":[{border:w()}],"border-color-x":[{"border-x":w()}],"border-color-y":[{"border-y":w()}],"border-color-s":[{"border-s":w()}],"border-color-e":[{"border-e":w()}],"border-color-t":[{"border-t":w()}],"border-color-r":[{"border-r":w()}],"border-color-b":[{"border-b":w()}],"border-color-l":[{"border-l":w()}],"divide-color":[{divide:w()}],"outline-style":[{outline:[...je(),"none","hidden"]}],"outline-offset":[{"outline-offset":[st,Oe,De]}],"outline-w":[{outline:["",st,Za,Co]}],"outline-color":[{outline:w()}],shadow:[{shadow:["","none",m,ou,ru]}],"shadow-color":[{shadow:w()}],"inset-shadow":[{"inset-shadow":["none",g,ou,ru]}],"inset-shadow-color":[{"inset-shadow":w()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:w()}],"ring-offset-w":[{"ring-offset":[st,Co]}],"ring-offset-color":[{"ring-offset":w()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":w()}],"text-shadow":[{"text-shadow":["none",v,ou,ru]}],"text-shadow-color":[{"text-shadow":w()}],opacity:[{opacity:[st,Oe,De]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[st]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":w()}],"mask-image-linear-to-color":[{"mask-linear-to":w()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":w()}],"mask-image-t-to-color":[{"mask-t-to":w()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":w()}],"mask-image-r-to-color":[{"mask-r-to":w()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":w()}],"mask-image-b-to-color":[{"mask-b-to":w()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":w()}],"mask-image-l-to-color":[{"mask-l-to":w()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":w()}],"mask-image-x-to-color":[{"mask-x-to":w()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":w()}],"mask-image-y-to-color":[{"mask-y-to":w()}],"mask-image-radial":[{"mask-radial":[Oe,De]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":w()}],"mask-image-radial-to-color":[{"mask-radial-to":w()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[st]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":w()}],"mask-image-conic-to-color":[{"mask-conic-to":w()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Oe,De]}],filter:[{filter:["","none",Oe,De]}],blur:[{blur:ve()}],brightness:[{brightness:[st,Oe,De]}],contrast:[{contrast:[st,Oe,De]}],"drop-shadow":[{"drop-shadow":["","none",j,ou,ru]}],"drop-shadow-color":[{"drop-shadow":w()}],grayscale:[{grayscale:["",st,Oe,De]}],"hue-rotate":[{"hue-rotate":[st,Oe,De]}],invert:[{invert:["",st,Oe,De]}],saturate:[{saturate:[st,Oe,De]}],sepia:[{sepia:["",st,Oe,De]}],"backdrop-filter":[{"backdrop-filter":["","none",Oe,De]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[st,Oe,De]}],"backdrop-contrast":[{"backdrop-contrast":[st,Oe,De]}],"backdrop-grayscale":[{"backdrop-grayscale":["",st,Oe,De]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[st,Oe,De]}],"backdrop-invert":[{"backdrop-invert":["",st,Oe,De]}],"backdrop-opacity":[{"backdrop-opacity":[st,Oe,De]}],"backdrop-saturate":[{"backdrop-saturate":[st,Oe,De]}],"backdrop-sepia":[{"backdrop-sepia":["",st,Oe,De]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Oe,De]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[st,"initial",Oe,De]}],ease:[{ease:["linear","initial",T,Oe,De]}],delay:[{delay:[st,Oe,De]}],animate:[{animate:["none",P,Oe,De]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,Oe,De]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:Ie()}],"scale-x":[{"scale-x":Ie()}],"scale-y":[{"scale-y":Ie()}],"scale-z":[{"scale-z":Ie()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[Oe,De,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ee()}],"translate-x":[{"translate-x":Ee()}],"translate-y":[{"translate-y":Ee()}],"translate-z":[{"translate-z":Ee()}],"translate-none":["translate-none"],accent:[{accent:w()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:w()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe,De]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe,De]}],fill:[{fill:["none",...w()]}],"stroke-w":[{stroke:[st,Za,Co,Rh]}],stroke:[{stroke:["none",...w()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lA=VR(aA);function Ce(...e){return lA(ej(e))}const Dp=Jo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Z=x.forwardRef(({className:e,variant:t,size:n,asChild:o=!1,...a},l)=>{const c=o?ra:"button";return s.jsx(c,{className:Ce(Dp({variant:t,size:n,className:e})),ref:l,...a})});Z.displayName="Button";const fe=x.forwardRef(({className:e,type:t,...n},o)=>s.jsx("input",{type:t,className:Ce("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:o,...n}));fe.displayName="Input";var cA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],uA=cA.reduce((e,t)=>{const n=Mp(`Primitive.${t}`),o=x.forwardRef((a,l)=>{const{asChild:c,...d}=a,f=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(f,{...d,ref:l})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),dA="Separator",Jv="horizontal",fA=["horizontal","vertical"],hj=x.forwardRef((e,t)=>{const{decorative:n,orientation:o=Jv,...a}=e,l=hA(o)?o:Jv,d=n?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return s.jsx(uA.div,{"data-orientation":l,...d,...a,ref:t})});hj.displayName=dA;function hA(e){return fA.includes(e)}var mj=hj;const pj=x.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...o},a)=>s.jsx(mj,{ref:a,decorative:n,orientation:t,className:Ce("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...o}));pj.displayName=mj.displayName;function Ye(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function mA(e,t){const n=x.createContext(t),o=l=>{const{children:c,...d}=l,f=x.useMemo(()=>d,Object.values(d));return s.jsx(n.Provider,{value:f,children:c})};o.displayName=e+"Provider";function a(l){const c=x.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[o,a]}function gs(e,t=[]){let n=[];function o(l,c){const d=x.createContext(c),f=n.length;n=[...n,c];const p=g=>{var T;const{scope:v,children:j,...C}=g,N=((T=v==null?void 0:v[e])==null?void 0:T[f])||d,S=x.useMemo(()=>C,Object.values(C));return s.jsx(N.Provider,{value:S,children:j})};p.displayName=l+"Provider";function m(g,v){var N;const j=((N=v==null?void 0:v[e])==null?void 0:N[f])||d,C=x.useContext(j);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[p,m]}const a=()=>{const l=n.map(c=>x.createContext(c));return function(d){const f=(d==null?void 0:d[e])||l;return x.useMemo(()=>({[`__scope${e}`]:{...d,[e]:f}}),[d,f])}};return a.scopeName=e,[o,pA(a,...t)]}function pA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=o.reduce((d,{useScope:f,scopeName:p})=>{const g=f(l)[`__scope${p}`];return{...d,...g}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}var pn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},gA=jp[" useId ".trim().toString()]||(()=>{}),xA=0;function nr(e){const[t,n]=x.useState(gA());return pn(()=>{n(o=>o??String(xA++))},[e]),e||(t?`radix-${t}`:"")}var yA=jp[" useInsertionEffect ".trim().toString()]||pn;function Xr({prop:e,defaultProp:t,onChange:n=()=>{},caller:o}){const[a,l,c]=vA({defaultProp:t,onChange:n}),d=e!==void 0,f=d?e:a;{const m=x.useRef(e!==void 0);x.useEffect(()=>{const g=m.current;g!==d&&console.warn(`${o} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,o])}const p=x.useCallback(m=>{var g;if(d){const v=bA(m)?m(e):m;v!==e&&((g=c.current)==null||g.call(c,v))}else l(m)},[d,e,l,c]);return[f,p]}function vA({defaultProp:e,onChange:t}){const[n,o]=x.useState(e),a=x.useRef(n),l=x.useRef(t);return yA(()=>{l.current=t},[t]),x.useEffect(()=>{var c;a.current!==n&&((c=l.current)==null||c.call(l,n),a.current=n)},[n,a]),[n,o,l]}function bA(e){return typeof e=="function"}function wA(e){const t=jA(e),n=x.forwardRef((o,a)=>{const{children:l,...c}=o,d=x.Children.toArray(l),f=d.find(SA);if(f){const p=f.props.children,m=d.map(g=>g===f?x.Children.count(p)>1?x.Children.only(null):x.isValidElement(p)?p.props.children:null:g);return s.jsx(t,{...c,ref:a,children:x.isValidElement(p)?x.cloneElement(p,void 0,m):null})}return s.jsx(t,{...c,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}function jA(e){const t=x.forwardRef((n,o)=>{const{children:a,...l}=n;if(x.isValidElement(a)){const c=kA(a),d=CA(l,a.props);return a.type!==x.Fragment&&(d.ref=o?sa(o,c):c),x.cloneElement(a,d)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NA=Symbol("radix.slottable");function SA(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NA}function CA(e,t){const n={...t};for(const o in t){const a=e[o],l=t[o];/^on[A-Z]/.test(o)?a&&l?n[o]=(...d)=>{const f=l(...d);return a(...d),f}:a&&(n[o]=a):o==="style"?n[o]={...a,...l}:o==="className"&&(n[o]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function kA(e){var o,a;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _A=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tt=_A.reduce((e,t)=>{const n=wA(`Primitive.${t}`),o=x.forwardRef((a,l)=>{const{asChild:c,...d}=a,f=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(f,{...d,ref:l})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function EA(e,t){e&&Pl.flushSync(()=>e.dispatchEvent(t))}function Jr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var o;return(o=t.current)==null?void 0:o.call(t,...n)},[])}function TA(e,t=globalThis==null?void 0:globalThis.document){const n=Jr(e);x.useEffect(()=>{const o=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[n,t])}var PA="DismissableLayer",pm="dismissableLayer.update",RA="dismissableLayer.pointerDownOutside",AA="dismissableLayer.focusOutside",Zv,gj=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rd=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=e,p=x.useContext(gj),[m,g]=x.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,j]=x.useState({}),C=gt(t,R=>g(R)),N=Array.from(p.layers),[S]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),T=N.indexOf(S),P=m?N.indexOf(m):-1,k=p.layersWithOutsidePointerEventsDisabled.size>0,E=P>=T,I=DA(R=>{const _=R.target,W=[...p.branches].some($=>$.contains(_));!E||W||(a==null||a(R),c==null||c(R),R.defaultPrevented||d==null||d())},v),L=OA(R=>{const _=R.target;[...p.branches].some($=>$.contains(_))||(l==null||l(R),c==null||c(R),R.defaultPrevented||d==null||d())},v);return TA(R=>{P===p.layers.size-1&&(o==null||o(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},v),x.useEffect(()=>{if(m)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Zv=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),e0(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Zv)}},[m,v,n,p]),x.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),e0())},[m,p]),x.useEffect(()=>{const R=()=>j({});return document.addEventListener(pm,R),()=>document.removeEventListener(pm,R)},[]),s.jsx(tt.div,{...f,ref:C,style:{pointerEvents:k?E?"auto":"none":void 0,...e.style},onFocusCapture:Ye(e.onFocusCapture,L.onFocusCapture),onBlurCapture:Ye(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ye(e.onPointerDownCapture,I.onPointerDownCapture)})});rd.displayName=PA;var MA="DismissableLayerBranch",FA=x.forwardRef((e,t)=>{const n=x.useContext(gj),o=x.useRef(null),a=gt(t,o);return x.useEffect(()=>{const l=o.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),s.jsx(tt.div,{...e,ref:a})});FA.displayName=MA;function DA(e,t=globalThis==null?void 0:globalThis.document){const n=Jr(e),o=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const l=d=>{if(d.target&&!o.current){let f=function(){xj(RA,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=f,t.addEventListener("click",a.current,{once:!0})):f()}else t.removeEventListener("click",a.current);o.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",l),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function OA(e,t=globalThis==null?void 0:globalThis.document){const n=Jr(e),o=x.useRef(!1);return x.useEffect(()=>{const a=l=>{l.target&&!o.current&&xj(AA,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function e0(){const e=new CustomEvent(pm);document.dispatchEvent(e)}function xj(e,t,n,{discrete:o}){const a=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),o?EA(a,l):a.dispatchEvent(l)}var Ah="focusScope.autoFocusOnMount",Mh="focusScope.autoFocusOnUnmount",t0={bubbles:!1,cancelable:!0},IA="FocusScope",Op=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...c}=e,[d,f]=x.useState(null),p=Jr(a),m=Jr(l),g=x.useRef(null),v=gt(t,N=>f(N)),j=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(o){let N=function(k){if(j.paused||!d)return;const E=k.target;d.contains(E)?g.current=E:$r(g.current,{select:!0})},S=function(k){if(j.paused||!d)return;const E=k.relatedTarget;E!==null&&(d.contains(E)||$r(g.current,{select:!0}))},T=function(k){if(document.activeElement===document.body)for(const I of k)I.removedNodes.length>0&&$r(d)};document.addEventListener("focusin",N),document.addEventListener("focusout",S);const P=new MutationObserver(T);return d&&P.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",S),P.disconnect()}}},[o,d,j.paused]),x.useEffect(()=>{if(d){s0.add(j);const N=document.activeElement;if(!d.contains(N)){const T=new CustomEvent(Ah,t0);d.addEventListener(Ah,p),d.dispatchEvent(T),T.defaultPrevented||(zA(UA(yj(d)),{select:!0}),document.activeElement===N&&$r(d))}return()=>{d.removeEventListener(Ah,p),setTimeout(()=>{const T=new CustomEvent(Mh,t0);d.addEventListener(Mh,m),d.dispatchEvent(T),T.defaultPrevented||$r(N??document.body,{select:!0}),d.removeEventListener(Mh,m),s0.remove(j)},0)}}},[d,p,m,j]);const C=x.useCallback(N=>{if(!n&&!o||j.paused)return;const S=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,T=document.activeElement;if(S&&T){const P=N.currentTarget,[k,E]=LA(P);k&&E?!N.shiftKey&&T===E?(N.preventDefault(),n&&$r(k,{select:!0})):N.shiftKey&&T===k&&(N.preventDefault(),n&&$r(E,{select:!0})):T===P&&N.preventDefault()}},[n,o,j.paused]);return s.jsx(tt.div,{tabIndex:-1,...c,ref:v,onKeyDown:C})});Op.displayName=IA;function zA(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if($r(o,{select:t}),document.activeElement!==n)return}function LA(e){const t=yj(e),n=n0(t,e),o=n0(t.reverse(),e);return[n,o]}function yj(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function n0(e,t){for(const n of e)if(!$A(n,{upTo:t}))return n}function $A(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function VA(e){return e instanceof HTMLInputElement&&"select"in e}function $r(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&VA(e)&&t&&e.select()}}var s0=BA();function BA(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=r0(e,t),e.unshift(t)},remove(t){var n;e=r0(e,t),(n=e[0])==null||n.resume()}}}function r0(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function UA(e){return e.filter(t=>t.tagName!=="A")}var WA="Portal",od=x.forwardRef((e,t)=>{var d;const{container:n,...o}=e,[a,l]=x.useState(!1);pn(()=>l(!0),[]);const c=n||a&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?GT.createPortal(s.jsx(tt.div,{...o,ref:t}),c):null});od.displayName=WA;function qA(e,t){return x.useReducer((n,o)=>t[n][o]??n,e)}var fr=e=>{const{present:t,children:n}=e,o=HA(t),a=typeof n=="function"?n({present:o.isPresent}):x.Children.only(n),l=gt(o.ref,KA(a));return typeof n=="function"||o.isPresent?x.cloneElement(a,{ref:l}):null};fr.displayName="Presence";function HA(e){const[t,n]=x.useState(),o=x.useRef(null),a=x.useRef(e),l=x.useRef("none"),c=e?"mounted":"unmounted",[d,f]=qA(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const p=iu(o.current);l.current=d==="mounted"?p:"none"},[d]),pn(()=>{const p=o.current,m=a.current;if(m!==e){const v=l.current,j=iu(p);e?f("MOUNT"):j==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(m&&v!==j?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),pn(()=>{if(t){let p;const m=t.ownerDocument.defaultView??window,g=j=>{const N=iu(o.current).includes(CSS.escape(j.animationName));if(j.target===t&&N&&(f("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",p=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},v=j=>{j.target===t&&(l.current=iu(o.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{m.clearTimeout(p),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:x.useCallback(p=>{o.current=p?getComputedStyle(p):null,n(p)},[])}}function iu(e){return(e==null?void 0:e.animationName)||"none"}function KA(e){var o,a;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Fh=0;function vj(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??o0()),document.body.insertAdjacentElement("beforeend",e[1]??o0()),Fh++,()=>{Fh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fh--}},[])}function o0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ks=function(){return ks=Object.assign||function(t){for(var n,o=1,a=arguments.length;o<a;o++){n=arguments[o];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},ks.apply(this,arguments)};function bj(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n}function GA(e,t,n){if(n||arguments.length===2)for(var o=0,a=t.length,l;o<a;o++)(l||!(o in t))&&(l||(l=Array.prototype.slice.call(t,0,o)),l[o]=t[o]);return e.concat(l||Array.prototype.slice.call(t))}var bu="right-scroll-bar-position",wu="width-before-scroll-bar",QA="with-scroll-bars-hidden",YA="--removed-body-scroll-bar-size";function Dh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function XA(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(o){var a=n.value;a!==o&&(n.value=o,n.callback(o,a))}}}})[0];return n.callback=t,n.facade}var JA=typeof window<"u"?x.useLayoutEffect:x.useEffect,i0=new WeakMap;function ZA(e,t){var n=XA(null,function(o){return e.forEach(function(a){return Dh(a,o)})});return JA(function(){var o=i0.get(n);if(o){var a=new Set(o),l=new Set(e),c=n.current;a.forEach(function(d){l.has(d)||Dh(d,null)}),l.forEach(function(d){a.has(d)||Dh(d,c)})}i0.set(n,e)},[e]),n}function eM(e){return e}function tM(e,t){t===void 0&&(t=eM);var n=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var c=t(l,o);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(o=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){o=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(l),c=n}var f=function(){var m=c;c=[],m.forEach(l)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(m){c.push(m),p()},filter:function(m){return c=c.filter(m),n}}}};return a}function nM(e){e===void 0&&(e={});var t=tM(null);return t.options=ks({async:!0,ssr:!1},e),t}var wj=function(e){var t=e.sideCar,n=bj(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return x.createElement(o,ks({},n))};wj.isSideCarExport=!0;function sM(e,t){return e.useMedium(t),wj}var jj=nM(),Oh=function(){},id=x.forwardRef(function(e,t){var n=x.useRef(null),o=x.useState({onScrollCapture:Oh,onWheelCapture:Oh,onTouchMoveCapture:Oh}),a=o[0],l=o[1],c=e.forwardProps,d=e.children,f=e.className,p=e.removeScrollBar,m=e.enabled,g=e.shards,v=e.sideCar,j=e.noRelative,C=e.noIsolation,N=e.inert,S=e.allowPinchZoom,T=e.as,P=T===void 0?"div":T,k=e.gapMode,E=bj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=v,L=ZA([n,t]),R=ks(ks({},E),a);return x.createElement(x.Fragment,null,m&&x.createElement(I,{sideCar:jj,removeScrollBar:p,shards:g,noRelative:j,noIsolation:C,inert:N,setCallbacks:l,allowPinchZoom:!!S,lockRef:n,gapMode:k}),c?x.cloneElement(x.Children.only(d),ks(ks({},R),{ref:L})):x.createElement(P,ks({},R,{className:f,ref:L}),d))});id.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};id.classNames={fullWidth:wu,zeroRight:bu};var rM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function oM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=rM();return t&&e.setAttribute("nonce",t),e}function iM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function aM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var lM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=oM())&&(iM(t,n),aM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},cM=function(){var e=lM();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Nj=function(){var e=cM(),t=function(n){var o=n.styles,a=n.dynamic;return e(o,a),null};return t},uM={left:0,top:0,right:0,gap:0},Ih=function(e){return parseInt(e||"",10)||0},dM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ih(n),Ih(o),Ih(a)]},fM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return uM;var t=dM(e),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-n+t[2]-t[0])}},hM=Nj(),Oi="data-scroll-locked",mM=function(e,t,n,o){var a=e.left,l=e.top,c=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(QA,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(d,"px ").concat(o,`;
  }
  body[`).concat(Oi,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bu,` {
    right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(wu,` {
    margin-right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(bu," .").concat(bu,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(wu," .").concat(wu,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Oi,`] {
    `).concat(YA,": ").concat(d,`px;
  }
`)},a0=function(){var e=parseInt(document.body.getAttribute(Oi)||"0",10);return isFinite(e)?e:0},pM=function(){x.useEffect(function(){return document.body.setAttribute(Oi,(a0()+1).toString()),function(){var e=a0()-1;e<=0?document.body.removeAttribute(Oi):document.body.setAttribute(Oi,e.toString())}},[])},gM=function(e){var t=e.noRelative,n=e.noImportant,o=e.gapMode,a=o===void 0?"margin":o;pM();var l=x.useMemo(function(){return fM(a)},[a]);return x.createElement(hM,{styles:mM(l,!t,a,n?"":"!important")})},gm=!1;if(typeof window<"u")try{var au=Object.defineProperty({},"passive",{get:function(){return gm=!0,!0}});window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{gm=!1}var ki=gm?{passive:!1}:!1,xM=function(e){return e.tagName==="TEXTAREA"},Sj=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!xM(e)&&n[t]==="visible")},yM=function(e){return Sj(e,"overflowY")},vM=function(e){return Sj(e,"overflowX")},l0=function(e,t){var n=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var a=Cj(e,o);if(a){var l=kj(e,o),c=l[1],d=l[2];if(c>d)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},bM=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},wM=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},Cj=function(e,t){return e==="v"?yM(t):vM(t)},kj=function(e,t){return e==="v"?bM(t):wM(t)},jM=function(e,t){return e==="h"&&t==="rtl"?-1:1},NM=function(e,t,n,o,a){var l=jM(e,window.getComputedStyle(t).direction),c=l*o,d=n.target,f=t.contains(d),p=!1,m=c>0,g=0,v=0;do{if(!d)break;var j=kj(e,d),C=j[0],N=j[1],S=j[2],T=N-S-l*C;(C||T)&&Cj(e,d)&&(g+=T,v+=C);var P=d.parentNode;d=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(m&&Math.abs(g)<1||!m&&Math.abs(v)<1)&&(p=!0),p},lu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},c0=function(e){return[e.deltaX,e.deltaY]},u0=function(e){return e&&"current"in e?e.current:e},SM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},CM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},kM=0,_i=[];function _M(e){var t=x.useRef([]),n=x.useRef([0,0]),o=x.useRef(),a=x.useState(kM++)[0],l=x.useState(Nj)[0],c=x.useRef(e);x.useEffect(function(){c.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var N=GA([e.lockRef.current],(e.shards||[]).map(u0),!0).filter(Boolean);return N.forEach(function(S){return S.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),N.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=x.useCallback(function(N,S){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!c.current.allowPinchZoom;var T=lu(N),P=n.current,k="deltaX"in N?N.deltaX:P[0]-T[0],E="deltaY"in N?N.deltaY:P[1]-T[1],I,L=N.target,R=Math.abs(k)>Math.abs(E)?"h":"v";if("touches"in N&&R==="h"&&L.type==="range")return!1;var _=l0(R,L);if(!_)return!0;if(_?I=R:(I=R==="v"?"h":"v",_=l0(R,L)),!_)return!1;if(!o.current&&"changedTouches"in N&&(k||E)&&(o.current=I),!I)return!0;var W=o.current||I;return NM(W,S,N,W==="h"?k:E)},[]),f=x.useCallback(function(N){var S=N;if(!(!_i.length||_i[_i.length-1]!==l)){var T="deltaY"in S?c0(S):lu(S),P=t.current.filter(function(I){return I.name===S.type&&(I.target===S.target||S.target===I.shadowParent)&&SM(I.delta,T)})[0];if(P&&P.should){S.cancelable&&S.preventDefault();return}if(!P){var k=(c.current.shards||[]).map(u0).filter(Boolean).filter(function(I){return I.contains(S.target)}),E=k.length>0?d(S,k[0]):!c.current.noIsolation;E&&S.cancelable&&S.preventDefault()}}},[]),p=x.useCallback(function(N,S,T,P){var k={name:N,delta:S,target:T,should:P,shadowParent:EM(T)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(E){return E!==k})},1)},[]),m=x.useCallback(function(N){n.current=lu(N),o.current=void 0},[]),g=x.useCallback(function(N){p(N.type,c0(N),N.target,d(N,e.lockRef.current))},[]),v=x.useCallback(function(N){p(N.type,lu(N),N.target,d(N,e.lockRef.current))},[]);x.useEffect(function(){return _i.push(l),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",f,ki),document.addEventListener("touchmove",f,ki),document.addEventListener("touchstart",m,ki),function(){_i=_i.filter(function(N){return N!==l}),document.removeEventListener("wheel",f,ki),document.removeEventListener("touchmove",f,ki),document.removeEventListener("touchstart",m,ki)}},[]);var j=e.removeScrollBar,C=e.inert;return x.createElement(x.Fragment,null,C?x.createElement(l,{styles:CM(a)}):null,j?x.createElement(gM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function EM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const TM=sM(jj,_M);var Ip=x.forwardRef(function(e,t){return x.createElement(id,ks({},e,{ref:t,sideCar:TM}))});Ip.classNames=id.classNames;var PM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ei=new WeakMap,cu=new WeakMap,uu={},zh=0,_j=function(e){return e&&(e.host||_j(e.parentNode))},RM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=_j(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},AM=function(e,t,n,o){var a=RM(t,Array.isArray(e)?e:[e]);uu[n]||(uu[n]=new WeakMap);var l=uu[n],c=[],d=new Set,f=new Set(a),p=function(g){!g||d.has(g)||(d.add(g),p(g.parentNode))};a.forEach(p);var m=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(v){if(d.has(v))m(v);else try{var j=v.getAttribute(o),C=j!==null&&j!=="false",N=(Ei.get(v)||0)+1,S=(l.get(v)||0)+1;Ei.set(v,N),l.set(v,S),c.push(v),N===1&&C&&cu.set(v,!0),S===1&&v.setAttribute(n,"true"),C||v.setAttribute(o,"true")}catch(T){console.error("aria-hidden: cannot operate on ",v,T)}})};return m(t),d.clear(),zh++,function(){c.forEach(function(g){var v=Ei.get(g)-1,j=l.get(g)-1;Ei.set(g,v),l.set(g,j),v||(cu.has(g)||g.removeAttribute(o),cu.delete(g)),j||g.removeAttribute(n)}),zh--,zh||(Ei=new WeakMap,Ei=new WeakMap,cu=new WeakMap,uu={})}},Ej=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),a=PM(e);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live], script"))),AM(o,a,n,"aria-hidden")):function(){return null}};function MM(e){const t=FM(e),n=x.forwardRef((o,a)=>{const{children:l,...c}=o,d=x.Children.toArray(l),f=d.find(OM);if(f){const p=f.props.children,m=d.map(g=>g===f?x.Children.count(p)>1?x.Children.only(null):x.isValidElement(p)?p.props.children:null:g);return s.jsx(t,{...c,ref:a,children:x.isValidElement(p)?x.cloneElement(p,void 0,m):null})}return s.jsx(t,{...c,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}function FM(e){const t=x.forwardRef((n,o)=>{const{children:a,...l}=n;if(x.isValidElement(a)){const c=zM(a),d=IM(l,a.props);return a.type!==x.Fragment&&(d.ref=o?sa(o,c):c),x.cloneElement(a,d)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var DM=Symbol("radix.slottable");function OM(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===DM}function IM(e,t){const n={...t};for(const o in t){const a=e[o],l=t[o];/^on[A-Z]/.test(o)?a&&l?n[o]=(...d)=>{const f=l(...d);return a(...d),f}:a&&(n[o]=a):o==="style"?n[o]={...a,...l}:o==="className"&&(n[o]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function zM(e){var o,a;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ad="Dialog",[Tj,Pj]=gs(ad),[LM,xs]=Tj(ad),Rj=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:a,onOpenChange:l,modal:c=!0}=e,d=x.useRef(null),f=x.useRef(null),[p,m]=Xr({prop:o,defaultProp:a??!1,onChange:l,caller:ad});return s.jsx(LM,{scope:t,triggerRef:d,contentRef:f,contentId:nr(),titleId:nr(),descriptionId:nr(),open:p,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(g=>!g),[m]),modal:c,children:n})};Rj.displayName=ad;var Aj="DialogTrigger",Mj=x.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=xs(Aj,n),l=gt(t,a.triggerRef);return s.jsx(tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":$p(a.open),...o,ref:l,onClick:Ye(e.onClick,a.onOpenToggle)})});Mj.displayName=Aj;var zp="DialogPortal",[$M,Fj]=Tj(zp,{forceMount:void 0}),Dj=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:a}=e,l=xs(zp,t);return s.jsx($M,{scope:t,forceMount:n,children:x.Children.map(o,c=>s.jsx(fr,{present:n||l.open,children:s.jsx(od,{asChild:!0,container:a,children:c})}))})};Dj.displayName=zp;var zu="DialogOverlay",Oj=x.forwardRef((e,t)=>{const n=Fj(zu,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,l=xs(zu,e.__scopeDialog);return l.modal?s.jsx(fr,{present:o||l.open,children:s.jsx(BM,{...a,ref:t})}):null});Oj.displayName=zu;var VM=MM("DialogOverlay.RemoveScroll"),BM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=xs(zu,n);return s.jsx(Ip,{as:VM,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(tt.div,{"data-state":$p(a.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),Ho="DialogContent",Ij=x.forwardRef((e,t)=>{const n=Fj(Ho,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,l=xs(Ho,e.__scopeDialog);return s.jsx(fr,{present:o||l.open,children:l.modal?s.jsx(UM,{...a,ref:t}):s.jsx(WM,{...a,ref:t})})});Ij.displayName=Ho;var UM=x.forwardRef((e,t)=>{const n=xs(Ho,e.__scopeDialog),o=x.useRef(null),a=gt(t,n.contentRef,o);return x.useEffect(()=>{const l=o.current;if(l)return Ej(l)},[]),s.jsx(zj,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(e.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ye(e.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Ye(e.onFocusOutside,l=>l.preventDefault())})}),WM=x.forwardRef((e,t)=>{const n=xs(Ho,e.__scopeDialog),o=x.useRef(!1),a=x.useRef(!1);return s.jsx(zj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,d;(c=e.onCloseAutoFocus)==null||c.call(e,l),l.defaultPrevented||(o.current||(d=n.triggerRef.current)==null||d.focus(),l.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:l=>{var f,p;(f=e.onInteractOutside)==null||f.call(e,l),l.defaultPrevented||(o.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=l.target;((p=n.triggerRef.current)==null?void 0:p.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),zj=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l,...c}=e,d=xs(Ho,n),f=x.useRef(null),p=gt(t,f);return vj(),s.jsxs(s.Fragment,{children:[s.jsx(Op,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:l,children:s.jsx(rd,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":$p(d.open),...c,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(HM,{titleId:d.titleId}),s.jsx(GM,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Lp="DialogTitle",Lj=x.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=xs(Lp,n);return s.jsx(tt.h2,{id:a.titleId,...o,ref:t})});Lj.displayName=Lp;var $j="DialogDescription",Vj=x.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=xs($j,n);return s.jsx(tt.p,{id:a.descriptionId,...o,ref:t})});Vj.displayName=$j;var Bj="DialogClose",Uj=x.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=xs(Bj,n);return s.jsx(tt.button,{type:"button",...o,ref:t,onClick:Ye(e.onClick,()=>a.onOpenChange(!1))})});Uj.displayName=Bj;function $p(e){return e?"open":"closed"}var Wj="DialogTitleWarning",[qM,qj]=mA(Wj,{contentName:Ho,titleName:Lp,docsSlug:"dialog"}),HM=({titleId:e})=>{const t=qj(Wj),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},KM="DialogDescriptionWarning",GM=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qj(KM).contentName}}.`;return x.useEffect(()=>{var l;const a=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null},Vp=Rj,QM=Mj,Bp=Dj,Rl=Oj,Al=Ij,Ml=Lj,Fl=Vj,ld=Uj;const YM=Vp,XM=Bp,Hj=x.forwardRef(({className:e,...t},n)=>s.jsx(Rl,{className:Ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Hj.displayName=Rl.displayName;const JM=Jo("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Kj=x.forwardRef(({side:e="right",className:t,children:n,...o},a)=>s.jsxs(XM,{children:[s.jsx(Hj,{}),s.jsxs(Al,{ref:a,className:Ce(JM({side:e}),t),...o,children:[s.jsxs(ld,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Zn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));Kj.displayName=Al.displayName;const ZM=x.forwardRef(({className:e,...t},n)=>s.jsx(Ml,{ref:n,className:Ce("text-lg font-semibold text-foreground",e),...t}));ZM.displayName=Ml.displayName;const eF=x.forwardRef(({className:e,...t},n)=>s.jsx(Fl,{ref:n,className:Ce("text-sm text-muted-foreground",e),...t}));eF.displayName=Fl.displayName;function d0({className:e,...t}){return s.jsx("div",{className:Ce("animate-pulse rounded-md bg-primary/10",e),...t})}const tF=["top","right","bottom","left"],Zr=Math.min,In=Math.max,Lu=Math.round,du=Math.floor,Ms=e=>({x:e,y:e}),nF={left:"right",right:"left",bottom:"top",top:"bottom"},sF={start:"end",end:"start"};function xm(e,t,n){return In(e,Zr(t,n))}function ir(e,t){return typeof e=="function"?e(t):e}function ar(e){return e.split("-")[0]}function aa(e){return e.split("-")[1]}function Up(e){return e==="x"?"y":"x"}function Wp(e){return e==="y"?"height":"width"}const rF=new Set(["top","bottom"]);function Ts(e){return rF.has(ar(e))?"y":"x"}function qp(e){return Up(Ts(e))}function oF(e,t,n){n===void 0&&(n=!1);const o=aa(e),a=qp(e),l=Wp(a);let c=a==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(c=$u(c)),[c,$u(c)]}function iF(e){const t=$u(e);return[ym(e),t,ym(t)]}function ym(e){return e.replace(/start|end/g,t=>sF[t])}const f0=["left","right"],h0=["right","left"],aF=["top","bottom"],lF=["bottom","top"];function cF(e,t,n){switch(e){case"top":case"bottom":return n?t?h0:f0:t?f0:h0;case"left":case"right":return t?aF:lF;default:return[]}}function uF(e,t,n,o){const a=aa(e);let l=cF(ar(e),n==="start",o);return a&&(l=l.map(c=>c+"-"+a),t&&(l=l.concat(l.map(ym)))),l}function $u(e){return e.replace(/left|right|bottom|top/g,t=>nF[t])}function dF(e){return{top:0,right:0,bottom:0,left:0,...e}}function Gj(e){return typeof e!="number"?dF(e):{top:e,right:e,bottom:e,left:e}}function Vu(e){const{x:t,y:n,width:o,height:a}=e;return{width:o,height:a,top:n,left:t,right:t+o,bottom:n+a,x:t,y:n}}function m0(e,t,n){let{reference:o,floating:a}=e;const l=Ts(t),c=qp(t),d=Wp(c),f=ar(t),p=l==="y",m=o.x+o.width/2-a.width/2,g=o.y+o.height/2-a.height/2,v=o[d]/2-a[d]/2;let j;switch(f){case"top":j={x:m,y:o.y-a.height};break;case"bottom":j={x:m,y:o.y+o.height};break;case"right":j={x:o.x+o.width,y:g};break;case"left":j={x:o.x-a.width,y:g};break;default:j={x:o.x,y:o.y}}switch(aa(t)){case"start":j[c]-=v*(n&&p?-1:1);break;case"end":j[c]+=v*(n&&p?-1:1);break}return j}const fF=async(e,t,n)=>{const{placement:o="bottom",strategy:a="absolute",middleware:l=[],platform:c}=n,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(t));let p=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:m,y:g}=m0(p,o,f),v=o,j={},C=0;for(let N=0;N<d.length;N++){const{name:S,fn:T}=d[N],{x:P,y:k,data:E,reset:I}=await T({x:m,y:g,initialPlacement:o,placement:v,strategy:a,middlewareData:j,rects:p,platform:c,elements:{reference:e,floating:t}});m=P??m,g=k??g,j={...j,[S]:{...j[S],...E}},I&&C<=50&&(C++,typeof I=="object"&&(I.placement&&(v=I.placement),I.rects&&(p=I.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):I.rects),{x:m,y:g}=m0(p,v,f)),N=-1)}return{x:m,y:g,placement:v,strategy:a,middlewareData:j}};async function pl(e,t){var n;t===void 0&&(t={});const{x:o,y:a,platform:l,rects:c,elements:d,strategy:f}=e,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:j=0}=ir(t,e),C=Gj(j),S=d[v?g==="floating"?"reference":"floating":g],T=Vu(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(S)))==null||n?S:S.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:p,rootBoundary:m,strategy:f})),P=g==="floating"?{x:o,y:a,width:c.floating.width,height:c.floating.height}:c.reference,k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),E=await(l.isElement==null?void 0:l.isElement(k))?await(l.getScale==null?void 0:l.getScale(k))||{x:1,y:1}:{x:1,y:1},I=Vu(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:P,offsetParent:k,strategy:f}):P);return{top:(T.top-I.top+C.top)/E.y,bottom:(I.bottom-T.bottom+C.bottom)/E.y,left:(T.left-I.left+C.left)/E.x,right:(I.right-T.right+C.right)/E.x}}const hF=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:a,rects:l,platform:c,elements:d,middlewareData:f}=t,{element:p,padding:m=0}=ir(e,t)||{};if(p==null)return{};const g=Gj(m),v={x:n,y:o},j=qp(a),C=Wp(j),N=await c.getDimensions(p),S=j==="y",T=S?"top":"left",P=S?"bottom":"right",k=S?"clientHeight":"clientWidth",E=l.reference[C]+l.reference[j]-v[j]-l.floating[C],I=v[j]-l.reference[j],L=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let R=L?L[k]:0;(!R||!await(c.isElement==null?void 0:c.isElement(L)))&&(R=d.floating[k]||l.floating[C]);const _=E/2-I/2,W=R/2-N[C]/2-1,$=Zr(g[T],W),M=Zr(g[P],W),D=$,B=R-N[C]-M,V=R/2-N[C]/2+_,Y=xm(D,V,B),ne=!f.arrow&&aa(a)!=null&&V!==Y&&l.reference[C]/2-(V<D?$:M)-N[C]/2<0,G=ne?V<D?V-D:V-B:0;return{[j]:v[j]+G,data:{[j]:Y,centerOffset:V-Y-G,...ne&&{alignmentOffset:G}},reset:ne}}}),mF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:a,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:p}=t,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:N=!0,...S}=ir(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const T=ar(a),P=Ts(d),k=ar(d)===d,E=await(f.isRTL==null?void 0:f.isRTL(p.floating)),I=v||(k||!N?[$u(d)]:iF(d)),L=C!=="none";!v&&L&&I.push(...uF(d,N,C,E));const R=[d,...I],_=await pl(t,S),W=[];let $=((o=l.flip)==null?void 0:o.overflows)||[];if(m&&W.push(_[T]),g){const V=oF(a,c,E);W.push(_[V[0]],_[V[1]])}if($=[...$,{placement:a,overflows:W}],!W.every(V=>V<=0)){var M,D;const V=(((M=l.flip)==null?void 0:M.index)||0)+1,Y=R[V];if(Y&&(!(g==="alignment"?P!==Ts(Y):!1)||$.every(w=>Ts(w.placement)===P?w.overflows[0]>0:!0)))return{data:{index:V,overflows:$},reset:{placement:Y}};let ne=(D=$.filter(G=>G.overflows[0]<=0).sort((G,w)=>G.overflows[1]-w.overflows[1])[0])==null?void 0:D.placement;if(!ne)switch(j){case"bestFit":{var B;const G=(B=$.filter(w=>{if(L){const F=Ts(w.placement);return F===P||F==="y"}return!0}).map(w=>[w.placement,w.overflows.filter(F=>F>0).reduce((F,q)=>F+q,0)]).sort((w,F)=>w[1]-F[1])[0])==null?void 0:B[0];G&&(ne=G);break}case"initialPlacement":ne=d;break}if(a!==ne)return{reset:{placement:ne}}}return{}}}};function p0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function g0(e){return tF.some(t=>e[t]>=0)}const pF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...a}=ir(e,t);switch(o){case"referenceHidden":{const l=await pl(t,{...a,elementContext:"reference"}),c=p0(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:g0(c)}}}case"escaped":{const l=await pl(t,{...a,altBoundary:!0}),c=p0(l,n.floating);return{data:{escapedOffsets:c,escaped:g0(c)}}}default:return{}}}}},Qj=new Set(["left","top"]);async function gF(e,t){const{placement:n,platform:o,elements:a}=e,l=await(o.isRTL==null?void 0:o.isRTL(a.floating)),c=ar(n),d=aa(n),f=Ts(n)==="y",p=Qj.has(c)?-1:1,m=l&&f?-1:1,g=ir(t,e);let{mainAxis:v,crossAxis:j,alignmentAxis:C}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof C=="number"&&(j=d==="end"?C*-1:C),f?{x:j*m,y:v*p}:{x:v*p,y:j*m}}const xF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:a,y:l,placement:c,middlewareData:d}=t,f=await gF(t,e);return c===((n=d.offset)==null?void 0:n.placement)&&(o=d.arrow)!=null&&o.alignmentOffset?{}:{x:a+f.x,y:l+f.y,data:{...f,placement:c}}}}},yF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:a}=t,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:S=>{let{x:T,y:P}=S;return{x:T,y:P}}},...f}=ir(e,t),p={x:n,y:o},m=await pl(t,f),g=Ts(ar(a)),v=Up(g);let j=p[v],C=p[g];if(l){const S=v==="y"?"top":"left",T=v==="y"?"bottom":"right",P=j+m[S],k=j-m[T];j=xm(P,j,k)}if(c){const S=g==="y"?"top":"left",T=g==="y"?"bottom":"right",P=C+m[S],k=C-m[T];C=xm(P,C,k)}const N=d.fn({...t,[v]:j,[g]:C});return{...N,data:{x:N.x-n,y:N.y-o,enabled:{[v]:l,[g]:c}}}}}},vF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:a,rects:l,middlewareData:c}=t,{offset:d=0,mainAxis:f=!0,crossAxis:p=!0}=ir(e,t),m={x:n,y:o},g=Ts(a),v=Up(g);let j=m[v],C=m[g];const N=ir(d,t),S=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(f){const k=v==="y"?"height":"width",E=l.reference[v]-l.floating[k]+S.mainAxis,I=l.reference[v]+l.reference[k]-S.mainAxis;j<E?j=E:j>I&&(j=I)}if(p){var T,P;const k=v==="y"?"width":"height",E=Qj.has(ar(a)),I=l.reference[g]-l.floating[k]+(E&&((T=c.offset)==null?void 0:T[g])||0)+(E?0:S.crossAxis),L=l.reference[g]+l.reference[k]+(E?0:((P=c.offset)==null?void 0:P[g])||0)-(E?S.crossAxis:0);C<I?C=I:C>L&&(C=L)}return{[v]:j,[g]:C}}}},bF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:a,rects:l,platform:c,elements:d}=t,{apply:f=()=>{},...p}=ir(e,t),m=await pl(t,p),g=ar(a),v=aa(a),j=Ts(a)==="y",{width:C,height:N}=l.floating;let S,T;g==="top"||g==="bottom"?(S=g,T=v===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(T=g,S=v==="end"?"top":"bottom");const P=N-m.top-m.bottom,k=C-m.left-m.right,E=Zr(N-m[S],P),I=Zr(C-m[T],k),L=!t.middlewareData.shift;let R=E,_=I;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=k),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(R=P),L&&!v){const $=In(m.left,0),M=In(m.right,0),D=In(m.top,0),B=In(m.bottom,0);j?_=C-2*($!==0||M!==0?$+M:In(m.left,m.right)):R=N-2*(D!==0||B!==0?D+B:In(m.top,m.bottom))}await f({...t,availableWidth:_,availableHeight:R});const W=await c.getDimensions(d.floating);return C!==W.width||N!==W.height?{reset:{rects:!0}}:{}}}};function cd(){return typeof window<"u"}function la(e){return Yj(e)?(e.nodeName||"").toLowerCase():"#document"}function zn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ls(e){var t;return(t=(Yj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Yj(e){return cd()?e instanceof Node||e instanceof zn(e).Node:!1}function ms(e){return cd()?e instanceof Element||e instanceof zn(e).Element:!1}function Os(e){return cd()?e instanceof HTMLElement||e instanceof zn(e).HTMLElement:!1}function x0(e){return!cd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zn(e).ShadowRoot}const wF=new Set(["inline","contents"]);function Dl(e){const{overflow:t,overflowX:n,overflowY:o,display:a}=ps(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!wF.has(a)}const jF=new Set(["table","td","th"]);function NF(e){return jF.has(la(e))}const SF=[":popover-open",":modal"];function ud(e){return SF.some(t=>{try{return e.matches(t)}catch{return!1}})}const CF=["transform","translate","scale","rotate","perspective"],kF=["transform","translate","scale","rotate","perspective","filter"],_F=["paint","layout","strict","content"];function Hp(e){const t=Kp(),n=ms(e)?ps(e):e;return CF.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||kF.some(o=>(n.willChange||"").includes(o))||_F.some(o=>(n.contain||"").includes(o))}function EF(e){let t=eo(e);for(;Os(t)&&!Qi(t);){if(Hp(t))return t;if(ud(t))return null;t=eo(t)}return null}function Kp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const TF=new Set(["html","body","#document"]);function Qi(e){return TF.has(la(e))}function ps(e){return zn(e).getComputedStyle(e)}function dd(e){return ms(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function eo(e){if(la(e)==="html")return e;const t=e.assignedSlot||e.parentNode||x0(e)&&e.host||Ls(e);return x0(t)?t.host:t}function Xj(e){const t=eo(e);return Qi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Os(t)&&Dl(t)?t:Xj(t)}function gl(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=Xj(e),l=a===((o=e.ownerDocument)==null?void 0:o.body),c=zn(a);if(l){const d=vm(c);return t.concat(c,c.visualViewport||[],Dl(a)?a:[],d&&n?gl(d):[])}return t.concat(a,gl(a,[],n))}function vm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Jj(e){const t=ps(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const a=Os(e),l=a?e.offsetWidth:n,c=a?e.offsetHeight:o,d=Lu(n)!==l||Lu(o)!==c;return d&&(n=l,o=c),{width:n,height:o,$:d}}function Gp(e){return ms(e)?e:e.contextElement}function Ii(e){const t=Gp(e);if(!Os(t))return Ms(1);const n=t.getBoundingClientRect(),{width:o,height:a,$:l}=Jj(t);let c=(l?Lu(n.width):n.width)/o,d=(l?Lu(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const PF=Ms(0);function Zj(e){const t=zn(e);return!Kp()||!t.visualViewport?PF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function RF(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==zn(e)?!1:t}function Ko(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),l=Gp(e);let c=Ms(1);t&&(o?ms(o)&&(c=Ii(o)):c=Ii(e));const d=RF(l,n,o)?Zj(l):Ms(0);let f=(a.left+d.x)/c.x,p=(a.top+d.y)/c.y,m=a.width/c.x,g=a.height/c.y;if(l){const v=zn(l),j=o&&ms(o)?zn(o):o;let C=v,N=vm(C);for(;N&&o&&j!==C;){const S=Ii(N),T=N.getBoundingClientRect(),P=ps(N),k=T.left+(N.clientLeft+parseFloat(P.paddingLeft))*S.x,E=T.top+(N.clientTop+parseFloat(P.paddingTop))*S.y;f*=S.x,p*=S.y,m*=S.x,g*=S.y,f+=k,p+=E,C=zn(N),N=vm(C)}}return Vu({width:m,height:g,x:f,y:p})}function fd(e,t){const n=dd(e).scrollLeft;return t?t.left+n:Ko(Ls(e)).left+n}function eN(e,t){const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-fd(e,n),a=n.top+t.scrollTop;return{x:o,y:a}}function AF(e){let{elements:t,rect:n,offsetParent:o,strategy:a}=e;const l=a==="fixed",c=Ls(o),d=t?ud(t.floating):!1;if(o===c||d&&l)return n;let f={scrollLeft:0,scrollTop:0},p=Ms(1);const m=Ms(0),g=Os(o);if((g||!g&&!l)&&((la(o)!=="body"||Dl(c))&&(f=dd(o)),Os(o))){const j=Ko(o);p=Ii(o),m.x=j.x+o.clientLeft,m.y=j.y+o.clientTop}const v=c&&!g&&!l?eN(c,f):Ms(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+m.x+v.x,y:n.y*p.y-f.scrollTop*p.y+m.y+v.y}}function MF(e){return Array.from(e.getClientRects())}function FF(e){const t=Ls(e),n=dd(e),o=e.ownerDocument.body,a=In(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),l=In(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let c=-n.scrollLeft+fd(e);const d=-n.scrollTop;return ps(o).direction==="rtl"&&(c+=In(t.clientWidth,o.clientWidth)-a),{width:a,height:l,x:c,y:d}}const y0=25;function DF(e,t){const n=zn(e),o=Ls(e),a=n.visualViewport;let l=o.clientWidth,c=o.clientHeight,d=0,f=0;if(a){l=a.width,c=a.height;const m=Kp();(!m||m&&t==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}const p=fd(o);if(p<=0){const m=o.ownerDocument,g=m.body,v=getComputedStyle(g),j=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,C=Math.abs(o.clientWidth-g.clientWidth-j);C<=y0&&(l-=C)}else p<=y0&&(l+=p);return{width:l,height:c,x:d,y:f}}const OF=new Set(["absolute","fixed"]);function IF(e,t){const n=Ko(e,!0,t==="fixed"),o=n.top+e.clientTop,a=n.left+e.clientLeft,l=Os(e)?Ii(e):Ms(1),c=e.clientWidth*l.x,d=e.clientHeight*l.y,f=a*l.x,p=o*l.y;return{width:c,height:d,x:f,y:p}}function v0(e,t,n){let o;if(t==="viewport")o=DF(e,n);else if(t==="document")o=FF(Ls(e));else if(ms(t))o=IF(t,n);else{const a=Zj(e);o={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Vu(o)}function tN(e,t){const n=eo(e);return n===t||!ms(n)||Qi(n)?!1:ps(n).position==="fixed"||tN(n,t)}function zF(e,t){const n=t.get(e);if(n)return n;let o=gl(e,[],!1).filter(d=>ms(d)&&la(d)!=="body"),a=null;const l=ps(e).position==="fixed";let c=l?eo(e):e;for(;ms(c)&&!Qi(c);){const d=ps(c),f=Hp(c);!f&&d.position==="fixed"&&(a=null),(l?!f&&!a:!f&&d.position==="static"&&!!a&&OF.has(a.position)||Dl(c)&&!f&&tN(e,c))?o=o.filter(m=>m!==c):a=d,c=eo(c)}return t.set(e,o),o}function LF(e){let{element:t,boundary:n,rootBoundary:o,strategy:a}=e;const c=[...n==="clippingAncestors"?ud(t)?[]:zF(t,this._c):[].concat(n),o],d=c[0],f=c.reduce((p,m)=>{const g=v0(t,m,a);return p.top=In(g.top,p.top),p.right=Zr(g.right,p.right),p.bottom=Zr(g.bottom,p.bottom),p.left=In(g.left,p.left),p},v0(t,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function $F(e){const{width:t,height:n}=Jj(e);return{width:t,height:n}}function VF(e,t,n){const o=Os(t),a=Ls(t),l=n==="fixed",c=Ko(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=Ms(0);function p(){f.x=fd(a)}if(o||!o&&!l)if((la(t)!=="body"||Dl(a))&&(d=dd(t)),o){const j=Ko(t,!0,l,t);f.x=j.x+t.clientLeft,f.y=j.y+t.clientTop}else a&&p();l&&!o&&a&&p();const m=a&&!o&&!l?eN(a,d):Ms(0),g=c.left+d.scrollLeft-f.x-m.x,v=c.top+d.scrollTop-f.y-m.y;return{x:g,y:v,width:c.width,height:c.height}}function Lh(e){return ps(e).position==="static"}function b0(e,t){if(!Os(e)||ps(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ls(e)===n&&(n=n.ownerDocument.body),n}function nN(e,t){const n=zn(e);if(ud(e))return n;if(!Os(e)){let a=eo(e);for(;a&&!Qi(a);){if(ms(a)&&!Lh(a))return a;a=eo(a)}return n}let o=b0(e,t);for(;o&&NF(o)&&Lh(o);)o=b0(o,t);return o&&Qi(o)&&Lh(o)&&!Hp(o)?n:o||EF(e)||n}const BF=async function(e){const t=this.getOffsetParent||nN,n=this.getDimensions,o=await n(e.floating);return{reference:VF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function UF(e){return ps(e).direction==="rtl"}const WF={convertOffsetParentRelativeRectToViewportRelativeRect:AF,getDocumentElement:Ls,getClippingRect:LF,getOffsetParent:nN,getElementRects:BF,getClientRects:MF,getDimensions:$F,getScale:Ii,isElement:ms,isRTL:UF};function sN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qF(e,t){let n=null,o;const a=Ls(e);function l(){var d;clearTimeout(o),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const p=e.getBoundingClientRect(),{left:m,top:g,width:v,height:j}=p;if(d||t(),!v||!j)return;const C=du(g),N=du(a.clientWidth-(m+v)),S=du(a.clientHeight-(g+j)),T=du(m),k={rootMargin:-C+"px "+-N+"px "+-S+"px "+-T+"px",threshold:In(0,Zr(1,f))||1};let E=!0;function I(L){const R=L[0].intersectionRatio;if(R!==f){if(!E)return c();R?c(!1,R):o=setTimeout(()=>{c(!1,1e-7)},1e3)}R===1&&!sN(p,e.getBoundingClientRect())&&c(),E=!1}try{n=new IntersectionObserver(I,{...k,root:a.ownerDocument})}catch{n=new IntersectionObserver(I,k)}n.observe(e)}return c(!0),l}function HF(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,p=Gp(e),m=a||l?[...p?gl(p):[],...gl(t)]:[];m.forEach(T=>{a&&T.addEventListener("scroll",n,{passive:!0}),l&&T.addEventListener("resize",n)});const g=p&&d?qF(p,n):null;let v=-1,j=null;c&&(j=new ResizeObserver(T=>{let[P]=T;P&&P.target===p&&j&&(j.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=j)==null||k.observe(t)})),n()}),p&&!f&&j.observe(p),j.observe(t));let C,N=f?Ko(e):null;f&&S();function S(){const T=Ko(e);N&&!sN(N,T)&&n(),N=T,C=requestAnimationFrame(S)}return n(),()=>{var T;m.forEach(P=>{a&&P.removeEventListener("scroll",n),l&&P.removeEventListener("resize",n)}),g==null||g(),(T=j)==null||T.disconnect(),j=null,f&&cancelAnimationFrame(C)}}const KF=xF,GF=yF,QF=mF,YF=bF,XF=pF,w0=hF,JF=vF,ZF=(e,t,n)=>{const o=new Map,a={platform:WF,...n},l={...a.platform,_c:o};return fF(e,t,{...a,platform:l})};var eD=typeof document<"u",tD=function(){},ju=eD?x.useLayoutEffect:tD;function Bu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!Bu(e[o],t[o]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,a[o]))return!1;for(o=n;o--!==0;){const l=a[o];if(!(l==="_owner"&&e.$$typeof)&&!Bu(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function rN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function j0(e,t){const n=rN(e);return Math.round(t*n)/n}function $h(e){const t=x.useRef(e);return ju(()=>{t.current=e}),t}function nD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:a,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:p}=e,[m,g]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,j]=x.useState(o);Bu(v,o)||j(o);const[C,N]=x.useState(null),[S,T]=x.useState(null),P=x.useCallback(w=>{w!==L.current&&(L.current=w,N(w))},[]),k=x.useCallback(w=>{w!==R.current&&(R.current=w,T(w))},[]),E=l||C,I=c||S,L=x.useRef(null),R=x.useRef(null),_=x.useRef(m),W=f!=null,$=$h(f),M=$h(a),D=$h(p),B=x.useCallback(()=>{if(!L.current||!R.current)return;const w={placement:t,strategy:n,middleware:v};M.current&&(w.platform=M.current),ZF(L.current,R.current,w).then(F=>{const q={...F,isPositioned:D.current!==!1};V.current&&!Bu(_.current,q)&&(_.current=q,Pl.flushSync(()=>{g(q)}))})},[v,t,n,M,D]);ju(()=>{p===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,g(w=>({...w,isPositioned:!1})))},[p]);const V=x.useRef(!1);ju(()=>(V.current=!0,()=>{V.current=!1}),[]),ju(()=>{if(E&&(L.current=E),I&&(R.current=I),E&&I){if($.current)return $.current(E,I,B);B()}},[E,I,B,$,W]);const Y=x.useMemo(()=>({reference:L,floating:R,setReference:P,setFloating:k}),[P,k]),ne=x.useMemo(()=>({reference:E,floating:I}),[E,I]),G=x.useMemo(()=>{const w={position:n,left:0,top:0};if(!ne.floating)return w;const F=j0(ne.floating,m.x),q=j0(ne.floating,m.y);return d?{...w,transform:"translate("+F+"px, "+q+"px)",...rN(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:q}},[n,d,ne.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:B,refs:Y,elements:ne,floatingStyles:G}),[m,B,Y,ne,G])}const sD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:o,padding:a}=typeof e=="function"?e(n):e;return o&&t(o)?o.current!=null?w0({element:o.current,padding:a}).fn(n):{}:o?w0({element:o,padding:a}).fn(n):{}}}},rD=(e,t)=>({...KF(e),options:[e,t]}),oD=(e,t)=>({...GF(e),options:[e,t]}),iD=(e,t)=>({...JF(e),options:[e,t]}),aD=(e,t)=>({...QF(e),options:[e,t]}),lD=(e,t)=>({...YF(e),options:[e,t]}),cD=(e,t)=>({...XF(e),options:[e,t]}),uD=(e,t)=>({...sD(e),options:[e,t]});var dD="Arrow",oN=x.forwardRef((e,t)=>{const{children:n,width:o=10,height:a=5,...l}=e;return s.jsx(tt.svg,{...l,ref:t,width:o,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});oN.displayName=dD;var fD=oN;function Qp(e){const[t,n]=x.useState(void 0);return pn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,p=Array.isArray(f)?f[0]:f;c=p.inlineSize,d=p.blockSize}else c=e.offsetWidth,d=e.offsetHeight;n({width:c,height:d})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}var Yp="Popper",[iN,hd]=gs(Yp),[hD,aN]=iN(Yp),lN=e=>{const{__scopePopper:t,children:n}=e,[o,a]=x.useState(null);return s.jsx(hD,{scope:t,anchor:o,onAnchorChange:a,children:n})};lN.displayName=Yp;var cN="PopperAnchor",uN=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o,...a}=e,l=aN(cN,n),c=x.useRef(null),d=gt(t,c),f=x.useRef(null);return x.useEffect(()=>{const p=f.current;f.current=(o==null?void 0:o.current)||c.current,p!==f.current&&l.onAnchorChange(f.current)}),o?null:s.jsx(tt.div,{...a,ref:d})});uN.displayName=cN;var Xp="PopperContent",[mD,pD]=iN(Xp),dN=x.forwardRef((e,t)=>{var le,ve,we,Ie,ce,Ee;const{__scopePopper:n,side:o="bottom",sideOffset:a=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:j="optimized",onPlaced:C,...N}=e,S=aN(Xp,n),[T,P]=x.useState(null),k=gt(t,re=>P(re)),[E,I]=x.useState(null),L=Qp(E),R=(L==null?void 0:L.width)??0,_=(L==null?void 0:L.height)??0,W=o+(l!=="center"?"-"+l:""),$=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},M=Array.isArray(p)?p:[p],D=M.length>0,B={padding:$,boundary:M.filter(xD),altBoundary:D},{refs:V,floatingStyles:Y,placement:ne,isPositioned:G,middlewareData:w}=nD({strategy:"fixed",placement:W,whileElementsMounted:(...re)=>HF(...re,{animationFrame:j==="always"}),elements:{reference:S.anchor},middleware:[rD({mainAxis:a+_,alignmentAxis:c}),f&&oD({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?iD():void 0,...B}),f&&aD({...B}),lD({...B,apply:({elements:re,rects:se,availableWidth:Pe,availableHeight:me})=>{const{width:Be,height:ie}=se.reference,Se=re.floating.style;Se.setProperty("--radix-popper-available-width",`${Pe}px`),Se.setProperty("--radix-popper-available-height",`${me}px`),Se.setProperty("--radix-popper-anchor-width",`${Be}px`),Se.setProperty("--radix-popper-anchor-height",`${ie}px`)}}),E&&uD({element:E,padding:d}),yD({arrowWidth:R,arrowHeight:_}),v&&cD({strategy:"referenceHidden",...B})]}),[F,q]=mN(ne),O=Jr(C);pn(()=>{G&&(O==null||O())},[G,O]);const Q=(le=w.arrow)==null?void 0:le.x,xe=(ve=w.arrow)==null?void 0:ve.y,he=((we=w.arrow)==null?void 0:we.centerOffset)!==0,[je,_e]=x.useState();return pn(()=>{T&&_e(window.getComputedStyle(T).zIndex)},[T]),s.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:G?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(Ie=w.transformOrigin)==null?void 0:Ie.x,(ce=w.transformOrigin)==null?void 0:ce.y].join(" "),...((Ee=w.hide)==null?void 0:Ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(mD,{scope:n,placedSide:F,onArrowChange:I,arrowX:Q,arrowY:xe,shouldHideArrow:he,children:s.jsx(tt.div,{"data-side":F,"data-align":q,...N,ref:k,style:{...N.style,animation:G?void 0:"none"}})})})});dN.displayName=Xp;var fN="PopperArrow",gD={top:"bottom",right:"left",bottom:"top",left:"right"},hN=x.forwardRef(function(t,n){const{__scopePopper:o,...a}=t,l=pD(fN,o),c=gD[l.placedSide];return s.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:s.jsx(fD,{...a,ref:n,style:{...a.style,display:"block"}})})});hN.displayName=fN;function xD(e){return e!==null}var yD=e=>({name:"transformOrigin",options:e,fn(t){var S,T,P;const{placement:n,rects:o,middlewareData:a}=t,c=((S=a.arrow)==null?void 0:S.centerOffset)!==0,d=c?0:e.arrowWidth,f=c?0:e.arrowHeight,[p,m]=mN(n),g={start:"0%",center:"50%",end:"100%"}[m],v=(((T=a.arrow)==null?void 0:T.x)??0)+d/2,j=(((P=a.arrow)==null?void 0:P.y)??0)+f/2;let C="",N="";return p==="bottom"?(C=c?g:`${v}px`,N=`${-f}px`):p==="top"?(C=c?g:`${v}px`,N=`${o.floating.height+f}px`):p==="right"?(C=`${-f}px`,N=c?g:`${j}px`):p==="left"&&(C=`${o.floating.width+f}px`,N=c?g:`${j}px`),{data:{x:C,y:N}}}});function mN(e){const[t,n="center"]=e.split("-");return[t,n]}var pN=lN,gN=uN,xN=dN,yN=hN,vD=Symbol("radix.slottable");function bD(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=vD,t}var vN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wD="VisuallyHidden",bN=x.forwardRef((e,t)=>s.jsx(tt.span,{...e,ref:t,style:{...vN,...e.style}}));bN.displayName=wD;var jD=bN,[md]=gs("Tooltip",[hd]),pd=hd(),wN="TooltipProvider",ND=700,bm="tooltip.open",[SD,Jp]=md(wN),jN=e=>{const{__scopeTooltip:t,delayDuration:n=ND,skipDelayDuration:o=300,disableHoverableContent:a=!1,children:l}=e,c=x.useRef(!0),d=x.useRef(!1),f=x.useRef(0);return x.useEffect(()=>{const p=f.current;return()=>window.clearTimeout(p)},[]),s.jsx(SD,{scope:t,isOpenDelayedRef:c,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,o)},[o]),isPointerInTransitRef:d,onPointerInTransitChange:x.useCallback(p=>{d.current=p},[]),disableHoverableContent:a,children:l})};jN.displayName=wN;var xl="Tooltip",[CD,Ol]=md(xl),NN=e=>{const{__scopeTooltip:t,children:n,open:o,defaultOpen:a,onOpenChange:l,disableHoverableContent:c,delayDuration:d}=e,f=Jp(xl,e.__scopeTooltip),p=pd(t),[m,g]=x.useState(null),v=nr(),j=x.useRef(0),C=c??f.disableHoverableContent,N=d??f.delayDuration,S=x.useRef(!1),[T,P]=Xr({prop:o,defaultProp:a??!1,onChange:R=>{R?(f.onOpen(),document.dispatchEvent(new CustomEvent(bm))):f.onClose(),l==null||l(R)},caller:xl}),k=x.useMemo(()=>T?S.current?"delayed-open":"instant-open":"closed",[T]),E=x.useCallback(()=>{window.clearTimeout(j.current),j.current=0,S.current=!1,P(!0)},[P]),I=x.useCallback(()=>{window.clearTimeout(j.current),j.current=0,P(!1)},[P]),L=x.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>{S.current=!0,P(!0),j.current=0},N)},[N,P]);return x.useEffect(()=>()=>{j.current&&(window.clearTimeout(j.current),j.current=0)},[]),s.jsx(pN,{...p,children:s.jsx(CD,{scope:t,contentId:v,open:T,stateAttribute:k,trigger:m,onTriggerChange:g,onTriggerEnter:x.useCallback(()=>{f.isOpenDelayedRef.current?L():E()},[f.isOpenDelayedRef,L,E]),onTriggerLeave:x.useCallback(()=>{C?I():(window.clearTimeout(j.current),j.current=0)},[I,C]),onOpen:E,onClose:I,disableHoverableContent:C,children:n})})};NN.displayName=xl;var wm="TooltipTrigger",SN=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...o}=e,a=Ol(wm,n),l=Jp(wm,n),c=pd(n),d=x.useRef(null),f=gt(t,d,a.onTriggerChange),p=x.useRef(!1),m=x.useRef(!1),g=x.useCallback(()=>p.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),s.jsx(gN,{asChild:!0,...c,children:s.jsx(tt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...o,ref:f,onPointerMove:Ye(e.onPointerMove,v=>{v.pointerType!=="touch"&&!m.current&&!l.isPointerInTransitRef.current&&(a.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ye(e.onPointerLeave,()=>{a.onTriggerLeave(),m.current=!1}),onPointerDown:Ye(e.onPointerDown,()=>{a.open&&a.onClose(),p.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ye(e.onFocus,()=>{p.current||a.onOpen()}),onBlur:Ye(e.onBlur,a.onClose),onClick:Ye(e.onClick,a.onClose)})})});SN.displayName=wm;var Zp="TooltipPortal",[kD,_D]=md(Zp,{forceMount:void 0}),CN=e=>{const{__scopeTooltip:t,forceMount:n,children:o,container:a}=e,l=Ol(Zp,t);return s.jsx(kD,{scope:t,forceMount:n,children:s.jsx(fr,{present:n||l.open,children:s.jsx(od,{asChild:!0,container:a,children:o})})})};CN.displayName=Zp;var Yi="TooltipContent",kN=x.forwardRef((e,t)=>{const n=_D(Yi,e.__scopeTooltip),{forceMount:o=n.forceMount,side:a="top",...l}=e,c=Ol(Yi,e.__scopeTooltip);return s.jsx(fr,{present:o||c.open,children:c.disableHoverableContent?s.jsx(_N,{side:a,...l,ref:t}):s.jsx(ED,{side:a,...l,ref:t})})}),ED=x.forwardRef((e,t)=>{const n=Ol(Yi,e.__scopeTooltip),o=Jp(Yi,e.__scopeTooltip),a=x.useRef(null),l=gt(t,a),[c,d]=x.useState(null),{trigger:f,onClose:p}=n,m=a.current,{onPointerInTransitChange:g}=o,v=x.useCallback(()=>{d(null),g(!1)},[g]),j=x.useCallback((C,N)=>{const S=C.currentTarget,T={x:C.clientX,y:C.clientY},P=MD(T,S.getBoundingClientRect()),k=FD(T,P),E=DD(N.getBoundingClientRect()),I=ID([...k,...E]);d(I),g(!0)},[g]);return x.useEffect(()=>()=>v(),[v]),x.useEffect(()=>{if(f&&m){const C=S=>j(S,m),N=S=>j(S,f);return f.addEventListener("pointerleave",C),m.addEventListener("pointerleave",N),()=>{f.removeEventListener("pointerleave",C),m.removeEventListener("pointerleave",N)}}},[f,m,j,v]),x.useEffect(()=>{if(c){const C=N=>{const S=N.target,T={x:N.clientX,y:N.clientY},P=(f==null?void 0:f.contains(S))||(m==null?void 0:m.contains(S)),k=!OD(T,c);P?v():k&&(v(),p())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[f,m,c,p,v]),s.jsx(_N,{...e,ref:l})}),[TD,PD]=md(xl,{isInside:!1}),RD=bD("TooltipContent"),_N=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:o,"aria-label":a,onEscapeKeyDown:l,onPointerDownOutside:c,...d}=e,f=Ol(Yi,n),p=pd(n),{onClose:m}=f;return x.useEffect(()=>(document.addEventListener(bm,m),()=>document.removeEventListener(bm,m)),[m]),x.useEffect(()=>{if(f.trigger){const g=v=>{const j=v.target;j!=null&&j.contains(f.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,m]),s.jsx(rd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:s.jsxs(xN,{"data-state":f.stateAttribute,...p,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(RD,{children:o}),s.jsx(TD,{scope:n,isInside:!0,children:s.jsx(jD,{id:f.contentId,role:"tooltip",children:a||o})})]})})});kN.displayName=Yi;var EN="TooltipArrow",AD=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...o}=e,a=pd(n);return PD(EN,n).isInside?null:s.jsx(yN,{...a,...o,ref:t})});AD.displayName=EN;function MD(e,t){const n=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,o,a,l)){case l:return"left";case a:return"right";case n:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function FD(e,t,n=5){const o=[];switch(t){case"top":o.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":o.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":o.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":o.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return o}function DD(e){const{top:t,right:n,bottom:o,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:o},{x:a,y:o}]}function OD(e,t){const{x:n,y:o}=e;let a=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const d=t[l],f=t[c],p=d.x,m=d.y,g=f.x,v=f.y;m>o!=v>o&&n<(g-p)*(o-m)/(v-m)+p&&(a=!a)}return a}function ID(e){const t=e.slice();return t.sort((n,o)=>n.x<o.x?-1:n.x>o.x?1:n.y<o.y?-1:n.y>o.y?1:0),zD(t)}function zD(e){if(e.length<=1)return e.slice();const t=[];for(let o=0;o<e.length;o++){const a=e[o];for(;t.length>=2;){const l=t[t.length-1],c=t[t.length-2];if((l.x-c.x)*(a.y-c.y)>=(l.y-c.y)*(a.x-c.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let o=e.length-1;o>=0;o--){const a=e[o];for(;n.length>=2;){const l=n[n.length-1],c=n[n.length-2];if((l.x-c.x)*(a.y-c.y)>=(l.y-c.y)*(a.x-c.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var LD=jN,$D=NN,VD=SN,BD=CN,TN=kN;const UD=LD,WD=$D,qD=VD,PN=x.forwardRef(({className:e,sideOffset:t=4,...n},o)=>s.jsx(BD,{children:s.jsx(TN,{ref:o,sideOffset:t,className:Ce("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));PN.displayName=TN.displayName;const HD="sidebar_state",KD=3600*24*7,GD="16rem",QD="18rem",YD="3rem",XD="b",RN=x.createContext(null);function gd(){const e=x.useContext(RN);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const AN=x.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:o,style:a,children:l,...c},d)=>{const f=bR(),[p,m]=x.useState(!1),[g,v]=x.useState(e),j=t??g,C=x.useCallback(P=>{const k=typeof P=="function"?P(j):P;n?n(k):v(k),document.cookie=`${HD}=${k}; path=/; max-age=${KD}`},[n,j]),N=x.useCallback(()=>f?m(P=>!P):C(P=>!P),[f,C,m]);x.useEffect(()=>{const P=k=>{k.key===XD&&(k.metaKey||k.ctrlKey)&&(k.preventDefault(),N())};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[N]);const S=j?"expanded":"collapsed",T=x.useMemo(()=>({state:S,open:j,setOpen:C,isMobile:f,openMobile:p,setOpenMobile:m,toggleSidebar:N}),[S,j,C,f,p,m,N]);return s.jsx(RN.Provider,{value:T,children:s.jsx(UD,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":GD,"--sidebar-width-icon":YD,...a},className:Ce("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",o),ref:d,...c,children:l})})})});AN.displayName="SidebarProvider";const MN=x.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:o,children:a,...l},c)=>{const{isMobile:d,state:f,openMobile:p,setOpenMobile:m}=gd();return n==="none"?s.jsx("div",{className:Ce("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",o),ref:c,...l,children:a}):d?s.jsx(YM,{open:p,onOpenChange:m,...l,children:s.jsx(Kj,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":QD},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:c,className:"group peer hidden text-sidebar-foreground md:block","data-state":f,"data-collapsible":f==="collapsed"?n:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:Ce("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:Ce("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",o),...l,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});MN.displayName="Sidebar";const FN=x.forwardRef(({className:e,onClick:t,...n},o)=>{const{toggleSidebar:a}=gd();return s.jsxs(Z,{ref:o,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Ce("h-7 w-7",e),onClick:l=>{t==null||t(l),a()},...n,children:[s.jsx(KP,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});FN.displayName="SidebarTrigger";const JD=x.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:o}=gd();return s.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:o,title:"Toggle Sidebar",className:Ce("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});JD.displayName="SidebarRail";const ZD=x.forwardRef(({className:e,...t},n)=>s.jsx("main",{ref:n,className:Ce("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));ZD.displayName="SidebarInset";const eO=x.forwardRef(({className:e,...t},n)=>s.jsx(fe,{ref:n,"data-sidebar":"input",className:Ce("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));eO.displayName="SidebarInput";const DN=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"header",className:Ce("flex flex-col gap-2 p-2",e),...t}));DN.displayName="SidebarHeader";const tO=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"footer",className:Ce("flex flex-col gap-2 p-2",e),...t}));tO.displayName="SidebarFooter";const nO=x.forwardRef(({className:e,...t},n)=>s.jsx(pj,{ref:n,"data-sidebar":"separator",className:Ce("mx-2 w-auto bg-sidebar-border",e),...t}));nO.displayName="SidebarSeparator";const ON=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"content",className:Ce("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));ON.displayName="SidebarContent";const jm=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group",className:Ce("relative flex w-full min-w-0 flex-col p-2",e),...t}));jm.displayName="SidebarGroup";const Nm=x.forwardRef(({className:e,asChild:t=!1,...n},o)=>{const a=t?ra:"div";return s.jsx(a,{ref:o,"data-sidebar":"group-label",className:Ce("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});Nm.displayName="SidebarGroupLabel";const sO=x.forwardRef(({className:e,asChild:t=!1,...n},o)=>{const a=t?ra:"button";return s.jsx(a,{ref:o,"data-sidebar":"group-action",className:Ce("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});sO.displayName="SidebarGroupAction";const Sm=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"group-content",className:Ce("w-full text-sm",e),...t}));Sm.displayName="SidebarGroupContent";const Cm=x.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu",className:Ce("flex w-full min-w-0 flex-col gap-1",e),...t}));Cm.displayName="SidebarMenu";const km=x.forwardRef(({className:e,...t},n)=>s.jsx("li",{ref:n,"data-sidebar":"menu-item",className:Ce("group/menu-item relative",e),...t}));km.displayName="SidebarMenuItem";const rO=Jo("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),_m=x.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:o="default",tooltip:a,className:l,...c},d)=>{const f=e?ra:"button",{isMobile:p,state:m}=gd(),g=s.jsx(f,{ref:d,"data-sidebar":"menu-button","data-size":o,"data-active":t,className:Ce(rO({variant:n,size:o}),l),...c});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(WD,{children:[s.jsx(qD,{asChild:!0,children:g}),s.jsx(PN,{side:"right",align:"center",hidden:m!=="collapsed"||p,...a})]})):g});_m.displayName="SidebarMenuButton";const oO=x.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...o},a)=>{const l=t?ra:"button";return s.jsx(l,{ref:a,"data-sidebar":"menu-action",className:Ce("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...o})});oO.displayName="SidebarMenuAction";const iO=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:Ce("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));iO.displayName="SidebarMenuBadge";const aO=x.forwardRef(({className:e,showIcon:t=!1,...n},o)=>{const a=x.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:o,"data-sidebar":"menu-skeleton",className:Ce("flex h-8 items-center gap-2 rounded-md px-2",e),...n,children:[t&&s.jsx(d0,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(d0,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});aO.displayName="SidebarMenuSkeleton";const lO=x.forwardRef(({className:e,...t},n)=>s.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:Ce("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));lO.displayName="SidebarMenuSub";const cO=x.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));cO.displayName="SidebarMenuSubItem";const uO=x.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:o,...a},l)=>{const c=e?ra:"a";return s.jsx(c,{ref:l,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:Ce("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",o),...a})});uO.displayName="SidebarMenuSubButton";const dO=[{title:"Dashboard",pageName:"Dashboard",url:on("Dashboard"),icon:OP},{title:"Cassa",pageName:"Cassa",url:on("Cassa"),icon:Du},{title:"Libri Catalogati",pageName:"CatalogedBooks",url:on("CatalogedBooks"),icon:iP},{title:"Consigli",pageName:"Recommendations",url:on("Recommendations"),icon:Kw},{title:"Fidelity Card",pageName:"FidelityCard",url:on("FidelityCard"),icon:Uw},{title:"Desiderata/Prenotazioni",pageName:"Desiderata",url:on("Desiderata"),icon:Pp},{title:"Clienti",pageName:"Customers",url:on("Customers"),icon:Yw}],fO=[{title:"Inventario",pageName:"Inventory",url:on("Inventory"),icon:sd},{title:"Galleria",pageName:"Gallery",url:on("Gallery"),icon:na},{title:"Contabilit",pageName:"Accounting",url:on("Accounting"),icon:fm},{title:"Turni",pageName:"Shifts",url:on("Shifts"),icon:NP},{title:"Fornitori",pageName:"Suppliers",url:on("Suppliers"),icon:Xw}];function hO({children:e,currentPageName:t}){const n="https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690a4989ccd24d15996cb573/5fd85a247_logo.png";return s.jsxs(AN,{children:[s.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=DM+Sans:wght@400;500;600;700&display=swap');
        
        :root {
          --primary: #000000;
          --primary-light: #1a1a1a;
          --accent: #45877F;
          --accent-hover: #5a9d95;
          --background: #ffffff;
          --text-primary: #000000;
          --text-secondary: #64748b;
          --text-disabled: #cbd5e1;
        }
        
        * {
          font-family: 'DM Sans', sans-serif;
        }
        
        h1, h2, h3, h4, h5, h6, button, .font-heading {
          font-family: 'Montserrat', sans-serif;
        }
        
        .btn-primary {
          background-color: #45877F;
          color: white;
          font-family: 'Montserrat', sans-serif;
          font-weight: 600;
        }
        
        .btn-primary:hover {
          background-color: white;
          color: #45877F;
          border: 2px solid #45877F;
        }
        
        .btn-primary:active {
          background-color: #000000;
          color: white;
          border: 2px solid #000000;
        }
        
        .btn-primary:disabled {
          background-color: white;
          color: #cbd5e1;
          border: 1px solid #e2e8f0;
        }
      `}),s.jsxs("div",{className:"min-h-screen flex w-full bg-white",children:[s.jsxs(MN,{className:"border-r border-slate-200 bg-white",children:[s.jsx(DN,{className:"border-b border-slate-200 p-6",style:{backgroundColor:"#45877F"},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:n,alt:"Libera Logo",className:"w-10 h-10 object-contain"}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-bold text-white text-lg tracking-tight",children:"LIBERA"}),s.jsx("p",{className:"text-xs text-black font-medium",children:"Sistema di Gestione"})]})]})}),s.jsxs(ON,{className:"p-3",children:[s.jsxs(jm,{children:[s.jsx(Nm,{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider px-3 py-3",children:"Principale"}),s.jsx(Sm,{children:s.jsx(Cm,{children:dO.map(o=>{const a=t===o.pageName;return s.jsx(km,{children:s.jsx(_m,{asChild:!0,className:`transition-all duration-200 rounded-xl mb-1 ${a?"bg-black text-white shadow-lg":"hover:bg-slate-100 text-slate-700"}`,children:s.jsxs(Zs,{to:o.url,className:"flex items-center gap-3 px-4 py-3",children:[s.jsx(o.icon,{className:"w-5 h-5 ",style:a?{color:"#45877F"}:{}}),s.jsx("span",{className:"font-semibold",children:o.title})]})})},o.title)})})})]}),s.jsxs(jm,{className:"mt-4",children:[s.jsx(Nm,{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider px-3 py-3",children:"Altro"}),s.jsx(Sm,{children:s.jsx(Cm,{children:fO.map(o=>{const a=t===o.pageName;return s.jsx(km,{children:s.jsx(_m,{asChild:!0,className:`transition-all duration-200 rounded-xl mb-1 ${a?"bg-black text-white shadow-lg":"hover:bg-slate-100 text-slate-700"}`,children:s.jsxs(Zs,{to:o.url,className:"flex items-center gap-3 px-4 py-3",children:[s.jsx(o.icon,{className:"w-5 h-5 ",style:a?{color:"#45877F"}:{}}),s.jsx("span",{className:"font-semibold",children:o.title})]})})},o.title)})})})]})]})]}),s.jsxs("main",{className:"flex-1 flex flex-col",children:[s.jsx("header",{className:"bg-white border-b border-slate-200 px-6 py-4 md:hidden sticky top-0 z-50",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(FN,{className:"hover:bg-slate-100 p-2 rounded-lg transition-colors duration-200"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:n,alt:"Libera Logo",className:"w-5 h-5 object-contain"}),s.jsx("h1",{className:"text-xl font-bold text-black",children:"LIBERA"})]})]})}),s.jsx("div",{className:"flex-1 overflow-auto bg-white",children:e})]})]})]})}function IN(e,t){return function(){return e.apply(t,arguments)}}const{toString:mO}=Object.prototype,{getPrototypeOf:eg}=Object,{iterator:xd,toStringTag:zN}=Symbol,yd=(e=>t=>{const n=mO.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ys=e=>(e=e.toLowerCase(),t=>yd(t)===e),vd=e=>t=>typeof t===e,{isArray:ca}=Array,Xi=vd("undefined");function Il(e){return e!==null&&!Xi(e)&&e.constructor!==null&&!Xi(e.constructor)&&Pn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const LN=ys("ArrayBuffer");function pO(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&LN(e.buffer),t}const gO=vd("string"),Pn=vd("function"),$N=vd("number"),zl=e=>e!==null&&typeof e=="object",xO=e=>e===!0||e===!1,Nu=e=>{if(yd(e)!=="object")return!1;const t=eg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(zN in e)&&!(xd in e)},yO=e=>{if(!zl(e)||Il(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},vO=ys("Date"),bO=ys("File"),wO=ys("Blob"),jO=ys("FileList"),NO=e=>zl(e)&&Pn(e.pipe),SO=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Pn(e.append)&&((t=yd(e))==="formdata"||t==="object"&&Pn(e.toString)&&e.toString()==="[object FormData]"))},CO=ys("URLSearchParams"),[kO,_O,EO,TO]=["ReadableStream","Request","Response","Headers"].map(ys),PO=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ll(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let o,a;if(typeof e!="object"&&(e=[e]),ca(e))for(o=0,a=e.length;o<a;o++)t.call(null,e[o],o,e);else{if(Il(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;let d;for(o=0;o<c;o++)d=l[o],t.call(null,e[d],d,e)}}function VN(e,t){if(Il(e))return null;t=t.toLowerCase();const n=Object.keys(e);let o=n.length,a;for(;o-- >0;)if(a=n[o],t===a.toLowerCase())return a;return null}const Ro=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,BN=e=>!Xi(e)&&e!==Ro;function Em(){const{caseless:e,skipUndefined:t}=BN(this)&&this||{},n={},o=(a,l)=>{const c=e&&VN(n,l)||l;Nu(n[c])&&Nu(a)?n[c]=Em(n[c],a):Nu(a)?n[c]=Em({},a):ca(a)?n[c]=a.slice():(!t||!Xi(a))&&(n[c]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Ll(arguments[a],o);return n}const RO=(e,t,n,{allOwnKeys:o}={})=>(Ll(t,(a,l)=>{n&&Pn(a)?e[l]=IN(a,n):e[l]=a},{allOwnKeys:o}),e),AO=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),MO=(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},FO=(e,t,n,o)=>{let a,l,c;const d={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)c=a[l],(!o||o(c,e,t))&&!d[c]&&(t[c]=e[c],d[c]=!0);e=n!==!1&&eg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},DO=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return o!==-1&&o===n},OO=e=>{if(!e)return null;if(ca(e))return e;let t=e.length;if(!$N(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},IO=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&eg(Uint8Array)),zO=(e,t)=>{const o=(e&&e[xd]).call(e);let a;for(;(a=o.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},LO=(e,t)=>{let n;const o=[];for(;(n=e.exec(t))!==null;)o.push(n);return o},$O=ys("HTMLFormElement"),VO=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,a){return o.toUpperCase()+a}),N0=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),BO=ys("RegExp"),UN=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};Ll(n,(a,l)=>{let c;(c=t(a,l,e))!==!1&&(o[l]=c||a)}),Object.defineProperties(e,o)},UO=e=>{UN(e,(t,n)=>{if(Pn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=e[n];if(Pn(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},WO=(e,t)=>{const n={},o=a=>{a.forEach(l=>{n[l]=!0})};return ca(e)?o(e):o(String(e).split(t)),n},qO=()=>{},HO=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function KO(e){return!!(e&&Pn(e.append)&&e[zN]==="FormData"&&e[xd])}const GO=e=>{const t=new Array(10),n=(o,a)=>{if(zl(o)){if(t.indexOf(o)>=0)return;if(Il(o))return o;if(!("toJSON"in o)){t[a]=o;const l=ca(o)?[]:{};return Ll(o,(c,d)=>{const f=n(c,a+1);!Xi(f)&&(l[d]=f)}),t[a]=void 0,l}}return o};return n(e,0)},QO=ys("AsyncFunction"),YO=e=>e&&(zl(e)||Pn(e))&&Pn(e.then)&&Pn(e.catch),WN=((e,t)=>e?setImmediate:t?((n,o)=>(Ro.addEventListener("message",({source:a,data:l})=>{a===Ro&&l===n&&o.length&&o.shift()()},!1),a=>{o.push(a),Ro.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Pn(Ro.postMessage)),XO=typeof queueMicrotask<"u"?queueMicrotask.bind(Ro):typeof process<"u"&&process.nextTick||WN,JO=e=>e!=null&&Pn(e[xd]),te={isArray:ca,isArrayBuffer:LN,isBuffer:Il,isFormData:SO,isArrayBufferView:pO,isString:gO,isNumber:$N,isBoolean:xO,isObject:zl,isPlainObject:Nu,isEmptyObject:yO,isReadableStream:kO,isRequest:_O,isResponse:EO,isHeaders:TO,isUndefined:Xi,isDate:vO,isFile:bO,isBlob:wO,isRegExp:BO,isFunction:Pn,isStream:NO,isURLSearchParams:CO,isTypedArray:IO,isFileList:jO,forEach:Ll,merge:Em,extend:RO,trim:PO,stripBOM:AO,inherits:MO,toFlatObject:FO,kindOf:yd,kindOfTest:ys,endsWith:DO,toArray:OO,forEachEntry:zO,matchAll:LO,isHTMLForm:$O,hasOwnProperty:N0,hasOwnProp:N0,reduceDescriptors:UN,freezeMethods:UO,toObjectSet:WO,toCamelCase:VO,noop:qO,toFiniteNumber:HO,findKey:VN,global:Ro,isContextDefined:BN,isSpecCompliantForm:KO,toJSONObject:GO,isAsyncFn:QO,isThenable:YO,setImmediate:WN,asap:XO,isIterable:JO};function et(e,t,n,o,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),a&&(this.response=a,this.status=a.status?a.status:null)}te.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const qN=et.prototype,HN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{HN[e]={value:e}});Object.defineProperties(et,HN);Object.defineProperty(qN,"isAxiosError",{value:!0});et.from=(e,t,n,o,a,l)=>{const c=Object.create(qN);te.toFlatObject(e,c,function(m){return m!==Error.prototype},p=>p!=="isAxiosError");const d=e&&e.message?e.message:"Error",f=t==null&&e?e.code:t;return et.call(c,d,f,n,o,a),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",l&&Object.assign(c,l),c};const ZO=null;function Tm(e){return te.isPlainObject(e)||te.isArray(e)}function KN(e){return te.endsWith(e,"[]")?e.slice(0,-2):e}function S0(e,t,n){return e?e.concat(t).map(function(a,l){return a=KN(a),!n&&l?"["+a+"]":a}).join(n?".":""):t}function eI(e){return te.isArray(e)&&!e.some(Tm)}const tI=te.toFlatObject(te,{},null,function(t){return/^is[A-Z]/.test(t)});function bd(e,t,n){if(!te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,S){return!te.isUndefined(S[N])});const o=n.metaTokens,a=n.visitor||m,l=n.dots,c=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(t);if(!te.isFunction(a))throw new TypeError("visitor must be a function");function p(C){if(C===null)return"";if(te.isDate(C))return C.toISOString();if(te.isBoolean(C))return C.toString();if(!f&&te.isBlob(C))throw new et("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(C)||te.isTypedArray(C)?f&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function m(C,N,S){let T=C;if(C&&!S&&typeof C=="object"){if(te.endsWith(N,"{}"))N=o?N:N.slice(0,-2),C=JSON.stringify(C);else if(te.isArray(C)&&eI(C)||(te.isFileList(C)||te.endsWith(N,"[]"))&&(T=te.toArray(C)))return N=KN(N),T.forEach(function(k,E){!(te.isUndefined(k)||k===null)&&t.append(c===!0?S0([N],E,l):c===null?N:N+"[]",p(k))}),!1}return Tm(C)?!0:(t.append(S0(S,N,l),p(C)),!1)}const g=[],v=Object.assign(tI,{defaultVisitor:m,convertValue:p,isVisitable:Tm});function j(C,N){if(!te.isUndefined(C)){if(g.indexOf(C)!==-1)throw Error("Circular reference detected in "+N.join("."));g.push(C),te.forEach(C,function(T,P){(!(te.isUndefined(T)||T===null)&&a.call(t,T,te.isString(P)?P.trim():P,N,v))===!0&&j(T,N?N.concat(P):[P])}),g.pop()}}if(!te.isObject(e))throw new TypeError("data must be an object");return j(e),t}function C0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function tg(e,t){this._pairs=[],e&&bd(e,this,t)}const GN=tg.prototype;GN.append=function(t,n){this._pairs.push([t,n])};GN.toString=function(t){const n=t?function(o){return t.call(this,o,C0)}:C0;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function nI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function QN(e,t,n){if(!t)return e;const o=n&&n.encode||nI;te.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(t,n):l=te.isURLSearchParams(t)?t.toString():new tg(t,n).toString(o),l){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class k0{constructor(){this.handlers=[]}use(t,n,o){return this.handlers.push({fulfilled:t,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){te.forEach(this.handlers,function(o){o!==null&&t(o)})}}const YN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sI=typeof URLSearchParams<"u"?URLSearchParams:tg,rI=typeof FormData<"u"?FormData:null,oI=typeof Blob<"u"?Blob:null,iI={isBrowser:!0,classes:{URLSearchParams:sI,FormData:rI,Blob:oI},protocols:["http","https","file","blob","url","data"]},ng=typeof window<"u"&&typeof document<"u",Pm=typeof navigator=="object"&&navigator||void 0,aI=ng&&(!Pm||["ReactNative","NativeScript","NS"].indexOf(Pm.product)<0),lI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cI=ng&&window.location.href||"http://localhost",uI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ng,hasStandardBrowserEnv:aI,hasStandardBrowserWebWorkerEnv:lI,navigator:Pm,origin:cI},Symbol.toStringTag,{value:"Module"})),hn={...uI,...iI};function dI(e,t){return bd(e,new hn.classes.URLSearchParams,{visitor:function(n,o,a,l){return hn.isNode&&te.isBuffer(n)?(this.append(o,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function fI(e){return te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function hI(e){const t={},n=Object.keys(e);let o;const a=n.length;let l;for(o=0;o<a;o++)l=n[o],t[l]=e[l];return t}function XN(e){function t(n,o,a,l){let c=n[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),f=l>=n.length;return c=!c&&te.isArray(a)?a.length:c,f?(te.hasOwnProp(a,c)?a[c]=[a[c],o]:a[c]=o,!d):((!a[c]||!te.isObject(a[c]))&&(a[c]=[]),t(n,o,a[c],l)&&te.isArray(a[c])&&(a[c]=hI(a[c])),!d)}if(te.isFormData(e)&&te.isFunction(e.entries)){const n={};return te.forEachEntry(e,(o,a)=>{t(fI(o),a,n,0)}),n}return null}function mI(e,t,n){if(te.isString(e))try{return(t||JSON.parse)(e),te.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(e)}const $l={transitional:YN,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const o=n.getContentType()||"",a=o.indexOf("application/json")>-1,l=te.isObject(t);if(l&&te.isHTMLForm(t)&&(t=new FormData(t)),te.isFormData(t))return a?JSON.stringify(XN(t)):t;if(te.isArrayBuffer(t)||te.isBuffer(t)||te.isStream(t)||te.isFile(t)||te.isBlob(t)||te.isReadableStream(t))return t;if(te.isArrayBufferView(t))return t.buffer;if(te.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return dI(t,this.formSerializer).toString();if((d=te.isFileList(t))||o.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return bd(d?{"files[]":t}:t,f&&new f,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),mI(t)):t}],transformResponse:[function(t){const n=this.transitional||$l.transitional,o=n&&n.forcedJSONParsing,a=this.responseType==="json";if(te.isResponse(t)||te.isReadableStream(t))return t;if(t&&te.isString(t)&&(o&&!this.responseType||a)){const c=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(d){if(c)throw d.name==="SyntaxError"?et.from(d,et.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hn.classes.FormData,Blob:hn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],e=>{$l.headers[e]={}});const pI=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gI=e=>{const t={};let n,o,a;return e&&e.split(`
`).forEach(function(c){a=c.indexOf(":"),n=c.substring(0,a).trim().toLowerCase(),o=c.substring(a+1).trim(),!(!n||t[n]&&pI[n])&&(n==="set-cookie"?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)}),t},_0=Symbol("internals");function el(e){return e&&String(e).trim().toLowerCase()}function Su(e){return e===!1||e==null?e:te.isArray(e)?e.map(Su):String(e)}function xI(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}const yI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Vh(e,t,n,o,a){if(te.isFunction(o))return o.call(this,t,n);if(a&&(t=n),!!te.isString(t)){if(te.isString(o))return t.indexOf(o)!==-1;if(te.isRegExp(o))return o.test(t)}}function vI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,o)=>n.toUpperCase()+o)}function bI(e,t){const n=te.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+n,{value:function(a,l,c){return this[o].call(this,t,a,l,c)},configurable:!0})})}let Rn=class{constructor(t){t&&this.set(t)}set(t,n,o){const a=this;function l(d,f,p){const m=el(f);if(!m)throw new Error("header name must be a non-empty string");const g=te.findKey(a,m);(!g||a[g]===void 0||p===!0||p===void 0&&a[g]!==!1)&&(a[g||f]=Su(d))}const c=(d,f)=>te.forEach(d,(p,m)=>l(p,m,f));if(te.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(te.isString(t)&&(t=t.trim())&&!yI(t))c(gI(t),n);else if(te.isObject(t)&&te.isIterable(t)){let d={},f,p;for(const m of t){if(!te.isArray(m))throw TypeError("Object iterator must return a key-value pair");d[p=m[0]]=(f=d[p])?te.isArray(f)?[...f,m[1]]:[f,m[1]]:m[1]}c(d,n)}else t!=null&&l(n,t,o);return this}get(t,n){if(t=el(t),t){const o=te.findKey(this,t);if(o){const a=this[o];if(!n)return a;if(n===!0)return xI(a);if(te.isFunction(n))return n.call(this,a,o);if(te.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=el(t),t){const o=te.findKey(this,t);return!!(o&&this[o]!==void 0&&(!n||Vh(this,this[o],o,n)))}return!1}delete(t,n){const o=this;let a=!1;function l(c){if(c=el(c),c){const d=te.findKey(o,c);d&&(!n||Vh(o,o[d],d,n))&&(delete o[d],a=!0)}}return te.isArray(t)?t.forEach(l):l(t),a}clear(t){const n=Object.keys(this);let o=n.length,a=!1;for(;o--;){const l=n[o];(!t||Vh(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const n=this,o={};return te.forEach(this,(a,l)=>{const c=te.findKey(o,l);if(c){n[c]=Su(a),delete n[l];return}const d=t?vI(l):String(l).trim();d!==l&&delete n[l],n[d]=Su(a),o[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return te.forEach(this,(o,a)=>{o!=null&&o!==!1&&(n[a]=t&&te.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const o=new this(t);return n.forEach(a=>o.set(a)),o}static accessor(t){const o=(this[_0]=this[_0]={accessors:{}}).accessors,a=this.prototype;function l(c){const d=el(c);o[d]||(bI(a,c),o[d]=!0)}return te.isArray(t)?t.forEach(l):l(t),this}};Rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Rn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[n]=o}}});te.freezeMethods(Rn);function Bh(e,t){const n=this||$l,o=t||n,a=Rn.from(o.headers);let l=o.data;return te.forEach(e,function(d){l=d.call(n,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function JN(e){return!!(e&&e.__CANCEL__)}function ua(e,t,n){et.call(this,e??"canceled",et.ERR_CANCELED,t,n),this.name="CanceledError"}te.inherits(ua,et,{__CANCEL__:!0});function ZN(e,t,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?e(n):t(new et("Request failed with status code "+n.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function wI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function jI(e,t){e=e||10;const n=new Array(e),o=new Array(e);let a=0,l=0,c;return t=t!==void 0?t:1e3,function(f){const p=Date.now(),m=o[l];c||(c=p),n[a]=f,o[a]=p;let g=l,v=0;for(;g!==a;)v+=n[g++],g=g%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),p-c<t)return;const j=m&&p-m;return j?Math.round(v*1e3/j):void 0}}function NI(e,t){let n=0,o=1e3/t,a,l;const c=(p,m=Date.now())=>{n=m,a=null,l&&(clearTimeout(l),l=null),e(...p)};return[(...p)=>{const m=Date.now(),g=m-n;g>=o?c(p,m):(a=p,l||(l=setTimeout(()=>{l=null,c(a)},o-g)))},()=>a&&c(a)]}const Uu=(e,t,n=3)=>{let o=0;const a=jI(50,250);return NI(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,f=c-o,p=a(f),m=c<=d;o=c;const g={loaded:c,total:d,progress:d?c/d:void 0,bytes:f,rate:p||void 0,estimated:p&&d&&m?(d-c)/p:void 0,event:l,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(g)},n)},E0=(e,t)=>{const n=e!=null;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},T0=e=>(...t)=>te.asap(()=>e(...t)),SI=hn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,hn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(hn.origin),hn.navigator&&/(msie|trident)/i.test(hn.navigator.userAgent)):()=>!0,CI=hn.hasStandardBrowserEnv?{write(e,t,n,o,a,l,c){if(typeof document>"u")return;const d=[`${e}=${encodeURIComponent(t)}`];te.isNumber(n)&&d.push(`expires=${new Date(n).toUTCString()}`),te.isString(o)&&d.push(`path=${o}`),te.isString(a)&&d.push(`domain=${a}`),l===!0&&d.push("secure"),te.isString(c)&&d.push(`SameSite=${c}`),document.cookie=d.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function kI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _I(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function e1(e,t,n){let o=!kI(t);return e&&(o||n==!1)?_I(e,t):t}const P0=e=>e instanceof Rn?{...e}:e;function Go(e,t){t=t||{};const n={};function o(p,m,g,v){return te.isPlainObject(p)&&te.isPlainObject(m)?te.merge.call({caseless:v},p,m):te.isPlainObject(m)?te.merge({},m):te.isArray(m)?m.slice():m}function a(p,m,g,v){if(te.isUndefined(m)){if(!te.isUndefined(p))return o(void 0,p,g,v)}else return o(p,m,g,v)}function l(p,m){if(!te.isUndefined(m))return o(void 0,m)}function c(p,m){if(te.isUndefined(m)){if(!te.isUndefined(p))return o(void 0,p)}else return o(void 0,m)}function d(p,m,g){if(g in t)return o(p,m);if(g in e)return o(void 0,p)}const f={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(p,m,g)=>a(P0(p),P0(m),g,!0)};return te.forEach(Object.keys({...e,...t}),function(m){const g=f[m]||a,v=g(e[m],t[m],m);te.isUndefined(v)&&g!==d||(n[m]=v)}),n}const t1=e=>{const t=Go({},e);let{data:n,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:d}=t;if(t.headers=c=Rn.from(c),t.url=QN(e1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),te.isFormData(n)){if(hn.hasStandardBrowserEnv||hn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(te.isFunction(n.getHeaders)){const f=n.getHeaders(),p=["content-type","content-length"];Object.entries(f).forEach(([m,g])=>{p.includes(m.toLowerCase())&&c.set(m,g)})}}if(hn.hasStandardBrowserEnv&&(o&&te.isFunction(o)&&(o=o(t)),o||o!==!1&&SI(t.url))){const f=a&&l&&CI.read(l);f&&c.set(a,f)}return t},EI=typeof XMLHttpRequest<"u",TI=EI&&function(e){return new Promise(function(n,o){const a=t1(e);let l=a.data;const c=Rn.from(a.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:p}=a,m,g,v,j,C;function N(){j&&j(),C&&C(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function T(){if(!S)return;const k=Rn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),I={data:!d||d==="text"||d==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:k,config:e,request:S};ZN(function(R){n(R),N()},function(R){o(R),N()},I),S=null}"onloadend"in S?S.onloadend=T:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(T)},S.onabort=function(){S&&(o(new et("Request aborted",et.ECONNABORTED,e,S)),S=null)},S.onerror=function(E){const I=E&&E.message?E.message:"Network Error",L=new et(I,et.ERR_NETWORK,e,S);L.event=E||null,o(L),S=null},S.ontimeout=function(){let E=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const I=a.transitional||YN;a.timeoutErrorMessage&&(E=a.timeoutErrorMessage),o(new et(E,I.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,e,S)),S=null},l===void 0&&c.setContentType(null),"setRequestHeader"in S&&te.forEach(c.toJSON(),function(E,I){S.setRequestHeader(I,E)}),te.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),d&&d!=="json"&&(S.responseType=a.responseType),p&&([v,C]=Uu(p,!0),S.addEventListener("progress",v)),f&&S.upload&&([g,j]=Uu(f),S.upload.addEventListener("progress",g),S.upload.addEventListener("loadend",j)),(a.cancelToken||a.signal)&&(m=k=>{S&&(o(!k||k.type?new ua(null,e,S):k),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const P=wI(a.url);if(P&&hn.protocols.indexOf(P)===-1){o(new et("Unsupported protocol "+P+":",et.ERR_BAD_REQUEST,e));return}S.send(l||null)})},PI=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let o=new AbortController,a;const l=function(p){if(!a){a=!0,d();const m=p instanceof Error?p:this.reason;o.abort(m instanceof et?m:new ua(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,l(new et(`timeout ${t} of ms exceeded`,et.ETIMEDOUT))},t);const d=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),e=null)};e.forEach(p=>p.addEventListener("abort",l));const{signal:f}=o;return f.unsubscribe=()=>te.asap(d),f}},RI=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let o=0,a;for(;o<n;)a=o+t,yield e.slice(o,a),o=a},AI=async function*(e,t){for await(const n of MI(e))yield*RI(n,t)},MI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)break;yield o}}finally{await t.cancel()}},R0=(e,t,n,o)=>{const a=AI(e,t);let l=0,c,d=f=>{c||(c=!0,o&&o(f))};return new ReadableStream({async pull(f){try{const{done:p,value:m}=await a.next();if(p){d(),f.close();return}let g=m.byteLength;if(n){let v=l+=g;n(v)}f.enqueue(new Uint8Array(m))}catch(p){throw d(p),p}},cancel(f){return d(f),a.return()}},{highWaterMark:2})},A0=64*1024,{isFunction:fu}=te,FI=(({Request:e,Response:t})=>({Request:e,Response:t}))(te.global),{ReadableStream:M0,TextEncoder:F0}=te.global,D0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},DI=e=>{e=te.merge.call({skipUndefined:!0},FI,e);const{fetch:t,Request:n,Response:o}=e,a=t?fu(t):typeof fetch=="function",l=fu(n),c=fu(o);if(!a)return!1;const d=a&&fu(M0),f=a&&(typeof F0=="function"?(C=>N=>C.encode(N))(new F0):async C=>new Uint8Array(await new n(C).arrayBuffer())),p=l&&d&&D0(()=>{let C=!1;const N=new n(hn.origin,{body:new M0,method:"POST",get duplex(){return C=!0,"half"}}).headers.has("Content-Type");return C&&!N}),m=c&&d&&D0(()=>te.isReadableStream(new o("").body)),g={stream:m&&(C=>C.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!g[C]&&(g[C]=(N,S)=>{let T=N&&N[C];if(T)return T.call(N);throw new et(`Response type '${C}' is not supported`,et.ERR_NOT_SUPPORT,S)})});const v=async C=>{if(C==null)return 0;if(te.isBlob(C))return C.size;if(te.isSpecCompliantForm(C))return(await new n(hn.origin,{method:"POST",body:C}).arrayBuffer()).byteLength;if(te.isArrayBufferView(C)||te.isArrayBuffer(C))return C.byteLength;if(te.isURLSearchParams(C)&&(C=C+""),te.isString(C))return(await f(C)).byteLength},j=async(C,N)=>{const S=te.toFiniteNumber(C.getContentLength());return S??v(N)};return async C=>{let{url:N,method:S,data:T,signal:P,cancelToken:k,timeout:E,onDownloadProgress:I,onUploadProgress:L,responseType:R,headers:_,withCredentials:W="same-origin",fetchOptions:$}=t1(C),M=t||fetch;R=R?(R+"").toLowerCase():"text";let D=PI([P,k&&k.toAbortSignal()],E),B=null;const V=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let Y;try{if(L&&p&&S!=="get"&&S!=="head"&&(Y=await j(_,T))!==0){let O=new n(N,{method:"POST",body:T,duplex:"half"}),Q;if(te.isFormData(T)&&(Q=O.headers.get("content-type"))&&_.setContentType(Q),O.body){const[xe,he]=E0(Y,Uu(T0(L)));T=R0(O.body,A0,xe,he)}}te.isString(W)||(W=W?"include":"omit");const ne=l&&"credentials"in n.prototype,G={...$,signal:D,method:S.toUpperCase(),headers:_.normalize().toJSON(),body:T,duplex:"half",credentials:ne?W:void 0};B=l&&new n(N,G);let w=await(l?M(B,$):M(N,G));const F=m&&(R==="stream"||R==="response");if(m&&(I||F&&V)){const O={};["status","statusText","headers"].forEach(je=>{O[je]=w[je]});const Q=te.toFiniteNumber(w.headers.get("content-length")),[xe,he]=I&&E0(Q,Uu(T0(I),!0))||[];w=new o(R0(w.body,A0,xe,()=>{he&&he(),V&&V()}),O)}R=R||"text";let q=await g[te.findKey(g,R)||"text"](w,C);return!F&&V&&V(),await new Promise((O,Q)=>{ZN(O,Q,{data:q,headers:Rn.from(w.headers),status:w.status,statusText:w.statusText,config:C,request:B})})}catch(ne){throw V&&V(),ne&&ne.name==="TypeError"&&/Load failed|fetch/i.test(ne.message)?Object.assign(new et("Network Error",et.ERR_NETWORK,C,B),{cause:ne.cause||ne}):et.from(ne,ne&&ne.code,C,B)}}},OI=new Map,n1=e=>{let t=e&&e.env||{};const{fetch:n,Request:o,Response:a}=t,l=[o,a,n];let c=l.length,d=c,f,p,m=OI;for(;d--;)f=l[d],p=m.get(f),p===void 0&&m.set(f,p=d?new Map:DI(t)),m=p;return p};n1();const sg={http:ZO,xhr:TI,fetch:{get:n1}};te.forEach(sg,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const O0=e=>`- ${e}`,II=e=>te.isFunction(e)||e===null||e===!1;function zI(e,t){e=te.isArray(e)?e:[e];const{length:n}=e;let o,a;const l={};for(let c=0;c<n;c++){o=e[c];let d;if(a=o,!II(o)&&(a=sg[(d=String(o)).toLowerCase()],a===void 0))throw new et(`Unknown adapter '${d}'`);if(a&&(te.isFunction(a)||(a=a.get(t))))break;l[d||"#"+c]=a}if(!a){const c=Object.entries(l).map(([f,p])=>`adapter ${f} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=n?c.length>1?`since :
`+c.map(O0).join(`
`):" "+O0(c[0]):"as no adapter specified";throw new et("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return a}const s1={getAdapter:zI,adapters:sg};function Uh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ua(null,e)}function I0(e){return Uh(e),e.headers=Rn.from(e.headers),e.data=Bh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),s1.getAdapter(e.adapter||$l.adapter,e)(e).then(function(o){return Uh(e),o.data=Bh.call(e,e.transformResponse,o),o.headers=Rn.from(o.headers),o},function(o){return JN(o)||(Uh(e),o&&o.response&&(o.response.data=Bh.call(e,e.transformResponse,o.response),o.response.headers=Rn.from(o.response.headers))),Promise.reject(o)})}const r1="1.13.2",wd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wd[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const z0={};wd.transitional=function(t,n,o){function a(l,c){return"[Axios v"+r1+"] Transitional option '"+l+"'"+c+(o?". "+o:"")}return(l,c,d)=>{if(t===!1)throw new et(a(c," has been removed"+(n?" in "+n:"")),et.ERR_DEPRECATED);return n&&!z0[c]&&(z0[c]=!0,console.warn(a(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,c,d):!0}};wd.spelling=function(t){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function LI(e,t,n){if(typeof e!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let a=o.length;for(;a-- >0;){const l=o[a],c=t[l];if(c){const d=e[l],f=d===void 0||c(d,l,e);if(f!==!0)throw new et("option "+l+" must be "+f,et.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new et("Unknown option "+l,et.ERR_BAD_OPTION)}}const Cu={assertOptions:LI,validators:wd},Cs=Cu.validators;let Vo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new k0,response:new k0}}async request(t,n){try{return await this._request(t,n)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Go(this.defaults,n);const{transitional:o,paramsSerializer:a,headers:l}=n;o!==void 0&&Cu.assertOptions(o,{silentJSONParsing:Cs.transitional(Cs.boolean),forcedJSONParsing:Cs.transitional(Cs.boolean),clarifyTimeoutError:Cs.transitional(Cs.boolean)},!1),a!=null&&(te.isFunction(a)?n.paramsSerializer={serialize:a}:Cu.assertOptions(a,{encode:Cs.function,serialize:Cs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Cu.assertOptions(n,{baseUrl:Cs.spelling("baseURL"),withXsrfToken:Cs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&te.merge(l.common,l[n.method]);l&&te.forEach(["delete","get","head","post","put","patch","common"],C=>{delete l[C]}),n.headers=Rn.concat(c,l);const d=[];let f=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(f=f&&N.synchronous,d.unshift(N.fulfilled,N.rejected))});const p=[];this.interceptors.response.forEach(function(N){p.push(N.fulfilled,N.rejected)});let m,g=0,v;if(!f){const C=[I0.bind(this),void 0];for(C.unshift(...d),C.push(...p),v=C.length,m=Promise.resolve(n);g<v;)m=m.then(C[g++],C[g++]);return m}v=d.length;let j=n;for(;g<v;){const C=d[g++],N=d[g++];try{j=C(j)}catch(S){N.call(this,S);break}}try{m=I0.call(this,j)}catch(C){return Promise.reject(C)}for(g=0,v=p.length;g<v;)m=m.then(p[g++],p[g++]);return m}getUri(t){t=Go(this.defaults,t);const n=e1(t.baseURL,t.url,t.allowAbsoluteUrls);return QN(n,t.params,t.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(t){Vo.prototype[t]=function(n,o){return this.request(Go(o||{},{method:t,url:n,data:(o||{}).data}))}});te.forEach(["post","put","patch"],function(t){function n(o){return function(l,c,d){return this.request(Go(d||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Vo.prototype[t]=n(),Vo.prototype[t+"Form"]=n(!0)});let $I=class o1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const o=this;this.promise.then(a=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](a);o._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(d=>{o.subscribe(d),l=d}).then(a);return c.cancel=function(){o.unsubscribe(l)},c},t(function(l,c,d){o.reason||(o.reason=new ua(l,c,d),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=o=>{t.abort(o)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new o1(function(a){t=a}),cancel:t}}};function VI(e){return function(n){return e.apply(null,n)}}function BI(e){return te.isObject(e)&&e.isAxiosError===!0}const Rm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Rm).forEach(([e,t])=>{Rm[t]=e});function i1(e){const t=new Vo(e),n=IN(Vo.prototype.request,t);return te.extend(n,Vo.prototype,t,{allOwnKeys:!0}),te.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return i1(Go(e,a))},n}const Bt=i1($l);Bt.Axios=Vo;Bt.CanceledError=ua;Bt.CancelToken=$I;Bt.isCancel=JN;Bt.VERSION=r1;Bt.toFormData=bd;Bt.AxiosError=et;Bt.Cancel=Bt.CanceledError;Bt.all=function(t){return Promise.all(t)};Bt.spread=VI;Bt.isAxiosError=BI;Bt.mergeConfig=Go;Bt.AxiosHeaders=Rn;Bt.formToJSON=e=>XN(te.isHTMLForm(e)?new FormData(e):e);Bt.getAdapter=s1.getAdapter;Bt.HttpStatusCode=Rm;Bt.default=Bt;const{Axios:c8,AxiosError:u8,CanceledError:d8,isCancel:f8,CancelToken:h8,VERSION:m8,all:p8,Cancel:g8,isAxiosError:x8,spread:y8,toFormData:v8,AxiosHeaders:b8,HttpStatusCode:w8,formToJSON:j8,getAdapter:N8,mergeConfig:S8}=Bt;class UI extends Error{constructor(t,n,o,a,l){super(t),this.name="Base44Error",this.status=n,this.code=o,this.data=a,this.originalError=l}toJSON(){return{name:this.name,message:this.message,status:this.status,code:this.code,data:this.data}}}function WI(e){let{baseURL:t,headers:n={},token:o,requiresAuth:a=!1,appId:l,serverUrl:c}=e;const d=Bt.create({baseURL:t,headers:{"Content-Type":"application/json",Accept:"application/json",...n}});return o&&(d.defaults.headers.common.Authorization=`Bearer ${o}`),d.interceptors.request.use((f=>(typeof window<"u"&&(f.headers={...f.headers,"X-Origin-URL":window.location.href}),f))),d.interceptors.response.use((f=>f.data),(f=>{var g,v,j,C,N,S,T,P,k,E;const p=((v=(g=f.response)==null?void 0:g.data)==null?void 0:v.message)||((C=(j=f.response)==null?void 0:j.data)==null?void 0:C.detail)||f.message,m=new UI(p,(N=f.response)==null?void 0:N.status,(T=(S=f.response)==null?void 0:S.data)==null?void 0:T.code,(P=f.response)==null?void 0:P.data,f);return console.log(a,(k=f.response)==null?void 0:k.status,typeof window<"u"),a&&((E=f.response)==null?void 0:E.status)===403&&typeof window<"u"&&(console.log("Authentication required. Redirecting to login..."),setTimeout((()=>{(function(I,L){if(typeof window>"u")return;const R=`${I}/login?from_url=${encodeURIComponent(window.location.href)}&app_id=${L}`;window.location.href=R})(c,l)}),100)),Promise.reject(m)})),d}function qI(e,t){return new Proxy({},{get(n,o){if(typeof o=="string"&&o!=="then"&&!o.startsWith("_"))return(function(a,l,c){const d=`/apps/${l}/entities/${c}`;return{async list(f,p,m,g){const v={};return f&&(v.sort=f),p&&(v.limit=p),m&&(v.skip=m),g&&(v.fields=Array.isArray(g)?g.join(","):g),a.get(d,{params:v})},async filter(f,p,m,g,v){const j={q:JSON.stringify(f)};return p&&(j.sort=p),m&&(j.limit=m),g&&(j.skip=g),v&&(j.fields=Array.isArray(v)?v.join(","):v),a.get(d,{params:j})},get:async f=>a.get(`${d}/${f}`),create:async f=>a.post(d,f),update:async(f,p)=>a.put(`${d}/${f}`,p),delete:async f=>a.delete(`${d}/${f}`),deleteMany:async f=>a.delete(d,{data:f}),bulkCreate:async f=>a.post(`${d}/bulk`,f),async importEntities(f){const p=new FormData;return p.append("file",f,f.name),a.post(`${d}/import`,p,{headers:{"Content-Type":"multipart/form-data"}})}}})(e,t,o)}})}function HI(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{storageKey:t="base44_access_token",paramName:n="access_token",saveToStorage:o=!0,removeFromUrl:a=!0}=e;let l=null;if(typeof window<"u"&&window.location)try{const c=new URLSearchParams(window.location.search);if(l=c.get(n),l){if(o&&KI(l,{storageKey:t}),a){c.delete(n);const d=`${window.location.pathname}${c.toString()?`?${c.toString()}`:""}${window.location.hash}`;window.history.replaceState({},document.title,d)}return l}}catch(c){console.error("Error retrieving token from URL:",c)}if(typeof window<"u"&&window.localStorage)try{return l=window.localStorage.getItem(t),l}catch(c){console.error("Error retrieving token from localStorage:",c)}return null}function KI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{storageKey:n="base44_access_token"}=t;if(typeof window>"u"||!window.localStorage||!e)return!1;try{return window.localStorage.setItem(n,e),!0}catch(o){return console.error("Error saving token to localStorage:",o),!1}}function GI(e){if(!e||!e.appId)throw new Error("appId is required");const{serverUrl:t="https://base44.app",appId:n,env:o="prod",token:a,requiresAuth:l=!1}=e,c=WI({baseURL:`${t}/api`,headers:{"X-App-Id":String(n),"X-Environment":o},token:a,requiresAuth:l,appId:n,serverUrl:t}),d=qI(c,n),f=(function(m,g){return new Proxy({},{get(v,j){if(typeof j=="string"&&j!=="then"&&!j.startsWith("_"))return new Proxy({},{get(C,N){if(typeof N=="string"&&N!=="then"&&!N.startsWith("_"))return async S=>{if(typeof S=="string")throw new Error(`Integration ${N} must receive an object with named parameters, received: ${S}`);let T,P;return S instanceof FormData||S&&Object.values(S).some((k=>k instanceof File))?(T=new FormData,Object.keys(S).forEach((k=>{S[k]instanceof File?T.append(k,S[k],S[k].name):typeof S[k]=="object"&&S[k]!==null?T.append(k,JSON.stringify(S[k])):T.append(k,S[k])})),P="multipart/form-data"):(T=S,P="application/json"),j==="Core"?m.post(`/apps/${g}/integration-endpoints/Core/${N}`,T||S,{headers:{"Content-Type":P}}):m.post(`/apps/${g}/integration-endpoints/installable/${j}/integration-endpoints/${N}`,T||S,{headers:{"Content-Type":P}})}}})}})})(c,n),p=(function(m,g,v){return{me:async()=>m.get(`/apps/${g}/entities/User/me`),updateMe:async j=>m.put(`/apps/${g}/entities/User/me`,j),login(j){if(typeof window>"u")throw new Error("Login method can only be used in a browser environment");const C=j||window.location.href,N=`${v}/login?from_url=${encodeURIComponent(C)}&app_id=${g}`;window.location.href=N},async logout(j){if(delete m.defaults.headers.common.Authorization,typeof window<"u"&&window.localStorage)try{window.localStorage.removeItem("base44_access_token")}catch(C){console.error("Failed to remove token from localStorage:",C)}return j&&typeof window<"u"&&(window.location.href=j),Promise.resolve()},setToken(j){let C=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(j&&(m.defaults.headers.common.Authorization=`Bearer ${j}`,C&&typeof window<"u"&&window.localStorage))try{window.localStorage.setItem("base44_access_token",j)}catch(N){console.error("Failed to save token to localStorage:",N)}},async isAuthenticated(){try{return await this.me(),!0}catch{return!1}}}})(c,n,t);if(typeof window<"u"){const m=a||HI();m&&p.setToken(m)}return l&&typeof window<"u"&&setTimeout((async()=>{try{await p.isAuthenticated()||p.login(window.location.href)}catch(m){console.error("Authentication check failed:",m),p.login(window.location.href)}}),0),{entities:d,integrations:f,auth:p,setToken(m){p.setToken(m)},getConfig:()=>({serverUrl:t,appId:n,env:o,requiresAuth:l})}}const ue=GI({appId:"690a4989ccd24d15996cb573",requiresAuth:!0});var jd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},QI={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ur,vp,bw,YI=(bw=class{constructor(){yt(this,Ur,QI);yt(this,vp,!1)}setTimeoutProvider(e){nt(this,Ur,e)}setTimeout(e,t){return de(this,Ur).setTimeout(e,t)}clearTimeout(e){de(this,Ur).clearTimeout(e)}setInterval(e,t){return de(this,Ur).setInterval(e,t)}clearInterval(e){de(this,Ur).clearInterval(e)}},Ur=new WeakMap,vp=new WeakMap,bw),hu=new YI;function XI(e){setTimeout(e,0)}var yl=typeof window>"u"||"Deno"in globalThis;function Wu(){}function L0(e){return typeof e=="number"&&e>=0&&e!==1/0}function JI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ol(e,t){return typeof e=="function"?e(t):e}function cs(e,t){return typeof e=="function"?e(t):e}function $0(e){return JSON.stringify(e,(t,n)=>Am(n)?Object.keys(n).sort().reduce((o,a)=>(o[a]=n[a],o),{}):n)}var ZI=Object.prototype.hasOwnProperty;function a1(e,t){if(e===t)return e;const n=V0(e)&&V0(t);if(!n&&!(Am(e)&&Am(t)))return t;const a=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),c=l.length,d=n?new Array(c):{};let f=0;for(let p=0;p<c;p++){const m=n?p:l[p],g=e[m],v=t[m];if(g===v){d[m]=g,(n?p<a:ZI.call(e,m))&&f++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){d[m]=v;continue}const j=a1(g,v);d[m]=j,j===g&&f++}return a===c&&f===a?e:d}function qu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function V0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Am(e){if(!B0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!B0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function B0(e){return Object.prototype.toString.call(e)==="[object Object]"}function U0(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?a1(e,t):t}function l1(e,t){return typeof e=="function"?e(...t):!!e}var Io,Wr,Vi,ww,ez=(ww=class extends jd{constructor(){super();yt(this,Io);yt(this,Wr);yt(this,Vi);nt(this,Vi,t=>{if(!yl&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){de(this,Wr)||this.setEventListener(de(this,Vi))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,Wr))==null||t.call(this),nt(this,Wr,void 0))}setEventListener(t){var n;nt(this,Vi,t),(n=de(this,Wr))==null||n.call(this),nt(this,Wr,t(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(t){de(this,Io)!==t&&(nt(this,Io,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof de(this,Io)=="boolean"?de(this,Io):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Io=new WeakMap,Wr=new WeakMap,Vi=new WeakMap,ww),tz=new ez;function W0(){let e,t;const n=new Promise((a,l)=>{e=a,t=l});n.status="pending",n.catch(()=>{});function o(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{o({status:"fulfilled",value:a}),e(a)},n.reject=a=>{o({status:"rejected",reason:a}),t(a)},n}var nz=XI;function sz(){let e=[],t=0,n=d=>{d()},o=d=>{d()},a=nz;const l=d=>{t?e.push(d):a(()=>{n(d)})},c=()=>{const d=e;e=[],d.length&&a(()=>{o(()=>{d.forEach(f=>{n(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||c()}return f},batchCalls:d=>(...f)=>{l(()=>{d(...f)})},schedule:l,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{o=d},setScheduler:d=>{a=d}}}var Nd=sz(),Bi,qr,Ui,jw,rz=(jw=class extends jd{constructor(){super();yt(this,Bi,!0);yt(this,qr);yt(this,Ui);nt(this,Ui,t=>{if(!yl&&window.addEventListener){const n=()=>t(!0),o=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",o)}}})}onSubscribe(){de(this,qr)||this.setEventListener(de(this,Ui))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,qr))==null||t.call(this),nt(this,qr,void 0))}setEventListener(t){var n;nt(this,Ui,t),(n=de(this,qr))==null||n.call(this),nt(this,qr,t(this.setOnline.bind(this)))}setOnline(t){de(this,Bi)!==t&&(nt(this,Bi,t),this.listeners.forEach(o=>{o(t)}))}isOnline(){return de(this,Bi)}},Bi=new WeakMap,qr=new WeakMap,Ui=new WeakMap,jw),oz=new rz;function iz(e){return(e??"online")==="online"?oz.isOnline():!0}function az(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iz(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}var _n,at,Cl,yn,zo,Wi,Ys,Hr,kl,qi,Hi,Lo,$o,Kr,Ki,wt,nl,Mm,Fm,Dm,Om,Im,zm,Lm,c1,Nw,lz=(Nw=class extends jd{constructor(t,n){super();yt(this,wt);yt(this,_n);yt(this,at);yt(this,Cl);yt(this,yn);yt(this,zo);yt(this,Wi);yt(this,Ys);yt(this,Hr);yt(this,kl);yt(this,qi);yt(this,Hi);yt(this,Lo);yt(this,$o);yt(this,Kr);yt(this,Ki,new Set);this.options=n,nt(this,_n,t),nt(this,Hr,null),nt(this,Ys,W0()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(de(this,at).addObserver(this),q0(de(this,at),this.options)?_t(this,wt,nl).call(this):this.updateResult(),_t(this,wt,Om).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $m(de(this,at),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $m(de(this,at),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_t(this,wt,Im).call(this),_t(this,wt,zm).call(this),de(this,at).removeObserver(this)}setOptions(t){const n=this.options,o=de(this,at);if(this.options=de(this,_n).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof cs(this.options.enabled,de(this,at))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_t(this,wt,Lm).call(this),de(this,at).setOptions(this.options),n._defaulted&&!qu(this.options,n)&&de(this,_n).getQueryCache().notify({type:"observerOptionsUpdated",query:de(this,at),observer:this});const a=this.hasListeners();a&&H0(de(this,at),o,this.options,n)&&_t(this,wt,nl).call(this),this.updateResult(),a&&(de(this,at)!==o||cs(this.options.enabled,de(this,at))!==cs(n.enabled,de(this,at))||ol(this.options.staleTime,de(this,at))!==ol(n.staleTime,de(this,at)))&&_t(this,wt,Mm).call(this);const l=_t(this,wt,Fm).call(this);a&&(de(this,at)!==o||cs(this.options.enabled,de(this,at))!==cs(n.enabled,de(this,at))||l!==de(this,Kr))&&_t(this,wt,Dm).call(this,l)}getOptimisticResult(t){const n=de(this,_n).getQueryCache().build(de(this,_n),t),o=this.createResult(n,t);return uz(this,o)&&(nt(this,yn,o),nt(this,Wi,this.options),nt(this,zo,de(this,at).state)),o}getCurrentResult(){return de(this,yn)}trackResult(t,n){return new Proxy(t,{get:(o,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&de(this,Ys).status==="pending"&&de(this,Ys).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(o,a))})}trackProp(t){de(this,Ki).add(t)}getCurrentQuery(){return de(this,at)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=de(this,_n).defaultQueryOptions(t),o=de(this,_n).getQueryCache().build(de(this,_n),n);return o.fetch().then(()=>this.createResult(o,n))}fetch(t){return _t(this,wt,nl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),de(this,yn)))}createResult(t,n){var W;const o=de(this,at),a=this.options,l=de(this,yn),c=de(this,zo),d=de(this,Wi),p=t!==o?t.state:de(this,Cl),{state:m}=t;let g={...m},v=!1,j;if(n._optimisticResults){const $=this.hasListeners(),M=!$&&q0(t,n),D=$&&H0(t,o,n,a);(M||D)&&(g={...g,...az(m.data,t.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:C,errorUpdatedAt:N,status:S}=g;j=g.data;let T=!1;if(n.placeholderData!==void 0&&j===void 0&&S==="pending"){let $;l!=null&&l.isPlaceholderData&&n.placeholderData===(d==null?void 0:d.placeholderData)?($=l.data,T=!0):$=typeof n.placeholderData=="function"?n.placeholderData((W=de(this,Hi))==null?void 0:W.state.data,de(this,Hi)):n.placeholderData,$!==void 0&&(S="success",j=U0(l==null?void 0:l.data,$,n),v=!0)}if(n.select&&j!==void 0&&!T)if(l&&j===(c==null?void 0:c.data)&&n.select===de(this,kl))j=de(this,qi);else try{nt(this,kl,n.select),j=n.select(j),j=U0(l==null?void 0:l.data,j,n),nt(this,qi,j),nt(this,Hr,null)}catch($){nt(this,Hr,$)}de(this,Hr)&&(C=de(this,Hr),j=de(this,qi),N=Date.now(),S="error");const P=g.fetchStatus==="fetching",k=S==="pending",E=S==="error",I=k&&P,L=j!==void 0,_={status:S,fetchStatus:g.fetchStatus,isPending:k,isSuccess:S==="success",isError:E,isInitialLoading:I,isLoading:I,data:j,dataUpdatedAt:g.dataUpdatedAt,error:C,errorUpdatedAt:N,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>p.dataUpdateCount||g.errorUpdateCount>p.errorUpdateCount,isFetching:P,isRefetching:P&&!k,isLoadingError:E&&!L,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:E&&L,isStale:rg(t,n),refetch:this.refetch,promise:de(this,Ys),isEnabled:cs(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const $=B=>{_.status==="error"?B.reject(_.error):_.data!==void 0&&B.resolve(_.data)},M=()=>{const B=nt(this,Ys,_.promise=W0());$(B)},D=de(this,Ys);switch(D.status){case"pending":t.queryHash===o.queryHash&&$(D);break;case"fulfilled":(_.status==="error"||_.data!==D.value)&&M();break;case"rejected":(_.status!=="error"||_.error!==D.reason)&&M();break}}return _}updateResult(){const t=de(this,yn),n=this.createResult(de(this,at),this.options);if(nt(this,zo,de(this,at).state),nt(this,Wi,this.options),de(this,zo).data!==void 0&&nt(this,Hi,de(this,at)),qu(n,t))return;nt(this,yn,n);const o=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!de(this,Ki).size)return!0;const c=new Set(l??de(this,Ki));return this.options.throwOnError&&c.add("error"),Object.keys(de(this,yn)).some(d=>{const f=d;return de(this,yn)[f]!==t[f]&&c.has(f)})};_t(this,wt,c1).call(this,{listeners:o()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_t(this,wt,Om).call(this)}},_n=new WeakMap,at=new WeakMap,Cl=new WeakMap,yn=new WeakMap,zo=new WeakMap,Wi=new WeakMap,Ys=new WeakMap,Hr=new WeakMap,kl=new WeakMap,qi=new WeakMap,Hi=new WeakMap,Lo=new WeakMap,$o=new WeakMap,Kr=new WeakMap,Ki=new WeakMap,wt=new WeakSet,nl=function(t){_t(this,wt,Lm).call(this);let n=de(this,at).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Wu)),n},Mm=function(){_t(this,wt,Im).call(this);const t=ol(this.options.staleTime,de(this,at));if(yl||de(this,yn).isStale||!L0(t))return;const o=JI(de(this,yn).dataUpdatedAt,t)+1;nt(this,Lo,hu.setTimeout(()=>{de(this,yn).isStale||this.updateResult()},o))},Fm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(de(this,at)):this.options.refetchInterval)??!1},Dm=function(t){_t(this,wt,zm).call(this),nt(this,Kr,t),!(yl||cs(this.options.enabled,de(this,at))===!1||!L0(de(this,Kr))||de(this,Kr)===0)&&nt(this,$o,hu.setInterval(()=>{(this.options.refetchIntervalInBackground||tz.isFocused())&&_t(this,wt,nl).call(this)},de(this,Kr)))},Om=function(){_t(this,wt,Mm).call(this),_t(this,wt,Dm).call(this,_t(this,wt,Fm).call(this))},Im=function(){de(this,Lo)&&(hu.clearTimeout(de(this,Lo)),nt(this,Lo,void 0))},zm=function(){de(this,$o)&&(hu.clearInterval(de(this,$o)),nt(this,$o,void 0))},Lm=function(){const t=de(this,_n).getQueryCache().build(de(this,_n),this.options);if(t===de(this,at))return;const n=de(this,at);nt(this,at,t),nt(this,Cl,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},c1=function(t){Nd.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(de(this,yn))}),de(this,_n).getQueryCache().notify({query:de(this,at),type:"observerResultsUpdated"})})},Nw);function cz(e,t){return cs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function q0(e,t){return cz(e,t)||e.state.data!==void 0&&$m(e,t,t.refetchOnMount)}function $m(e,t,n){if(cs(t.enabled,e)!==!1&&ol(t.staleTime,e)!=="static"){const o=typeof n=="function"?n(e):n;return o==="always"||o!==!1&&rg(e,t)}return!1}function H0(e,t,n,o){return(e!==t||cs(o.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&rg(e,n)}function rg(e,t){return cs(t.enabled,e)!==!1&&e.isStaleByTime(ol(t.staleTime,e))}function uz(e,t){return!qu(e.getCurrentResult(),t)}function dz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xs,Gr,En,Js,sr,ku,Vm,Sw,fz=(Sw=class extends jd{constructor(n,o){super();yt(this,sr);yt(this,Xs);yt(this,Gr);yt(this,En);yt(this,Js);nt(this,Xs,n),this.setOptions(o),this.bindMethods(),_t(this,sr,ku).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const o=this.options;this.options=de(this,Xs).defaultMutationOptions(n),qu(this.options,o)||de(this,Xs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:de(this,En),observer:this}),o!=null&&o.mutationKey&&this.options.mutationKey&&$0(o.mutationKey)!==$0(this.options.mutationKey)?this.reset():((a=de(this,En))==null?void 0:a.state.status)==="pending"&&de(this,En).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=de(this,En))==null||n.removeObserver(this)}onMutationUpdate(n){_t(this,sr,ku).call(this),_t(this,sr,Vm).call(this,n)}getCurrentResult(){return de(this,Gr)}reset(){var n;(n=de(this,En))==null||n.removeObserver(this),nt(this,En,void 0),_t(this,sr,ku).call(this),_t(this,sr,Vm).call(this)}mutate(n,o){var a;return nt(this,Js,o),(a=de(this,En))==null||a.removeObserver(this),nt(this,En,de(this,Xs).getMutationCache().build(de(this,Xs),this.options)),de(this,En).addObserver(this),de(this,En).execute(n)}},Xs=new WeakMap,Gr=new WeakMap,En=new WeakMap,Js=new WeakMap,sr=new WeakSet,ku=function(){var o;const n=((o=de(this,En))==null?void 0:o.state)??dz();nt(this,Gr,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Vm=function(n){Nd.batch(()=>{var o,a,l,c,d,f,p,m;if(de(this,Js)&&this.hasListeners()){const g=de(this,Gr).variables,v=de(this,Gr).context,j={client:de(this,Xs),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((a=(o=de(this,Js)).onSuccess)==null||a.call(o,n.data,g,v,j),(c=(l=de(this,Js)).onSettled)==null||c.call(l,n.data,null,g,v,j)):(n==null?void 0:n.type)==="error"&&((f=(d=de(this,Js)).onError)==null||f.call(d,n.error,g,v,j),(m=(p=de(this,Js)).onSettled)==null||m.call(p,void 0,n.error,g,v,j))}this.listeners.forEach(g=>{g(de(this,Gr))})})},Sw),hz=x.createContext(void 0),ln=e=>{const t=x.useContext(hz);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},u1=x.createContext(!1),mz=()=>x.useContext(u1);u1.Provider;function pz(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var gz=x.createContext(pz()),xz=()=>x.useContext(gz),yz=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},vz=e=>{x.useEffect(()=>{e.clearReset()},[e])},bz=({result:e,errorResetBoundary:t,throwOnError:n,query:o,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&o&&(a&&e.data===void 0||l1(n,[e.error,o])),wz=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),o=e.staleTime;e.staleTime=typeof o=="function"?(...a)=>n(o(...a)):n(o),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},jz=(e,t)=>e.isLoading&&e.isFetching&&!t,Nz=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,K0=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Sz(e,t,n){var g,v,j,C,N;const o=mz(),a=xz(),l=ln(),c=l.defaultQueryOptions(e);(v=(g=l.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||v.call(g,c),c._optimisticResults=o?"isRestoring":"optimistic",wz(c),yz(c,a),vz(a);const d=!l.getQueryCache().get(c.queryHash),[f]=x.useState(()=>new t(l,c)),p=f.getOptimisticResult(c),m=!o&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(S=>{const T=m?f.subscribe(Nd.batchCalls(S)):Wu;return f.updateResult(),T},[f,m]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),x.useEffect(()=>{f.setOptions(c)},[c,f]),Nz(c,p))throw K0(c,f,a);if(bz({result:p,errorResetBoundary:a,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw p.error;if((C=(j=l.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||C.call(j,c,p),c.experimental_prefetchInRender&&!yl&&jz(p,o)){const S=d?K0(c,f,a):(N=l.getQueryCache().get(c.queryHash))==null?void 0:N.promise;S==null||S.catch(Wu).finally(()=>{f.updateResult()})}return c.notifyOnChangeProps?p:f.trackResult(p)}function Je(e,t){return Sz(e,lz)}function Ke(e,t){const n=ln(),[o]=x.useState(()=>new fz(n,e));x.useEffect(()=>{o.setOptions(e)},[o,e]);const a=x.useSyncExternalStore(x.useCallback(c=>o.subscribe(Nd.batchCalls(c)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),l=x.useCallback((c,d)=>{o.mutate(c,d).catch(Wu)},[o]);if(a.error&&l1(o.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}const ke=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ce("rounded-xl border bg-card text-card-foreground shadow",e),...t}));ke.displayName="Card";const ut=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ce("flex flex-col space-y-1.5 p-6",e),...t}));ut.displayName="CardHeader";const pt=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ce("font-semibold leading-none tracking-tight",e),...t}));pt.displayName="CardTitle";const Cz=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ce("text-sm text-muted-foreground",e),...t}));Cz.displayName="CardDescription";const Te=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ce("p-6 pt-0",e),...t}));Te.displayName="CardContent";const Sd=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ce("flex items-center p-6 pt-0",e),...t}));Sd.displayName="CardFooter";const kz=Jo("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $e({className:e,variant:t,...n}){return s.jsx("div",{className:Ce(kz({variant:t}),e),...n})}function Ht(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Is(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function d1(e,t){const n=Ht(e);return isNaN(t)?Is(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function f1(e,t){const n=Ht(e);if(isNaN(t))return Is(e,NaN);if(!t)return n;const o=n.getDate(),a=Is(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const l=a.getDate();return o>=l?a:(n.setFullYear(a.getFullYear(),a.getMonth(),o),n)}const h1=6048e5,_z=864e5;let Ez={};function Cd(){return Ez}function to(e,t){var d,f,p,m;const n=Cd(),o=(t==null?void 0:t.weekStartsOn)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,a=Ht(e),l=a.getDay(),c=(l<o?7:0)+l-o;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Hu(e){return to(e,{weekStartsOn:1})}function m1(e){const t=Ht(e),n=t.getFullYear(),o=Is(e,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const a=Hu(o),l=Is(e,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=Hu(l);return t.getTime()>=a.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function G0(e){const t=Ht(e);return t.setHours(0,0,0,0),t}function Q0(e){const t=Ht(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Tz(e,t){const n=G0(e),o=G0(t),a=+n-Q0(n),l=+o-Q0(o);return Math.round((a-l)/_z)}function Pz(e){const t=m1(e),n=Is(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Hu(n)}function Rz(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Az(e){if(!Rz(e)&&typeof e!="number")return!1;const t=Ht(e);return!isNaN(Number(t))}function Bm(e){const t=Ht(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ku(e,t){const n=Ht(e.start),o=Ht(e.end);let a=+n>+o;const l=a?+n:+o,c=a?o:n;c.setHours(0,0,0,0);let d=1;const f=[];for(;+c<=l;)f.push(Ht(c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return a?f.reverse():f}function Um(e){const t=Ht(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Mz(e){const t=Ht(e),n=Is(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Fz(e,t){const n=t==null?void 0:t.weekStartsOn,o=Ht(e),a=o.getDay(),l=(a<n?-7:0)+6-(a-n);return o.setDate(o.getDate()+l),o.setHours(23,59,59,999),o}const Dz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Oz=(e,t,n)=>{let o;const a=Dz[e];return typeof a=="string"?o=a:t===1?o=a.one:o=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function zi(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Iz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$z={date:zi({formats:Iz,defaultWidth:"full"}),time:zi({formats:zz,defaultWidth:"full"}),dateTime:zi({formats:Lz,defaultWidth:"full"})},Vz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bz=(e,t,n,o)=>Vz[e];function _s(e){return(t,n)=>{const o=n!=null&&n.context?String(n.context):"standalone";let a;if(o==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,d=n!=null&&n.width?String(n.width):c;a=e.formattingValues[d]||e.formattingValues[c]}else{const c=e.defaultWidth,d=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[d]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}const Uz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qz=(e,t)=>{const n=Number(e),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Yz={ordinalNumber:Qz,era:_s({values:Uz,defaultWidth:"wide"}),quarter:_s({values:Wz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_s({values:qz,defaultWidth:"wide"}),day:_s({values:Hz,defaultWidth:"wide"}),dayPeriod:_s({values:Kz,defaultWidth:"wide",formattingValues:Gz,defaultFormattingWidth:"wide"})};function Es(e){return(t,n={})=>{const o=n.width,a=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],l=t.match(a);if(!l)return null;const c=l[0],d=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(d)?Jz(d,g=>g.test(c)):Xz(d,g=>g.test(c));let p;p=e.valueCallback?e.valueCallback(f):f,p=n.valueCallback?n.valueCallback(p):p;const m=t.slice(c.length);return{value:p,rest:m}}}function Xz(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Jz(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function p1(e){return(t,n={})=>{const o=t.match(e.matchPattern);if(!o)return null;const a=o[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(a.length);return{value:c,rest:d}}}const Zz=/^(\d+)(th|st|nd|rd)?/i,eL=/\d+/i,tL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nL={any:[/^b/i,/^(a|c)/i]},sL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rL={any:[/1/i,/2/i,/3/i,/4/i]},oL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dL={ordinalNumber:p1({matchPattern:Zz,parsePattern:eL,valueCallback:e=>parseInt(e,10)}),era:Es({matchPatterns:tL,defaultMatchWidth:"wide",parsePatterns:nL,defaultParseWidth:"any"}),quarter:Es({matchPatterns:sL,defaultMatchWidth:"wide",parsePatterns:rL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Es({matchPatterns:oL,defaultMatchWidth:"wide",parsePatterns:iL,defaultParseWidth:"any"}),day:Es({matchPatterns:aL,defaultMatchWidth:"wide",parsePatterns:lL,defaultParseWidth:"any"}),dayPeriod:Es({matchPatterns:cL,defaultMatchWidth:"any",parsePatterns:uL,defaultParseWidth:"any"})},fL={code:"en-US",formatDistance:Oz,formatLong:$z,formatRelative:Bz,localize:Yz,match:dL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hL(e){const t=Ht(e);return Tz(t,Mz(t))+1}function mL(e){const t=Ht(e),n=+Hu(t)-+Pz(t);return Math.round(n/h1)+1}function g1(e,t){var m,g,v,j;const n=Ht(e),o=n.getFullYear(),a=Cd(),l=(t==null?void 0:t.firstWeekContainsDate)??((g=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((j=(v=a.locale)==null?void 0:v.options)==null?void 0:j.firstWeekContainsDate)??1,c=Is(e,0);c.setFullYear(o+1,0,l),c.setHours(0,0,0,0);const d=to(c,t),f=Is(e,0);f.setFullYear(o,0,l),f.setHours(0,0,0,0);const p=to(f,t);return n.getTime()>=d.getTime()?o+1:n.getTime()>=p.getTime()?o:o-1}function pL(e,t){var d,f,p,m;const n=Cd(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,a=g1(e,t),l=Is(e,0);return l.setFullYear(a,0,o),l.setHours(0,0,0,0),to(l,t)}function gL(e,t){const n=Ht(e),o=+to(n,t)-+pL(n,t);return Math.round(o/h1)+1}function Nt(e,t){const n=e<0?"-":"",o=Math.abs(e).toString().padStart(t,"0");return n+o}const Ir={y(e,t){const n=e.getFullYear(),o=n>0?n:1-n;return Nt(t==="yy"?o%100:o,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Nt(n+1,2)},d(e,t){return Nt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Nt(e.getHours()%12||12,t.length)},H(e,t){return Nt(e.getHours(),t.length)},m(e,t){return Nt(e.getMinutes(),t.length)},s(e,t){return Nt(e.getSeconds(),t.length)},S(e,t){const n=t.length,o=e.getMilliseconds(),a=Math.trunc(o*Math.pow(10,n-3));return Nt(a,t.length)}},Ti={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Y0={G:function(e,t,n){const o=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const o=e.getFullYear(),a=o>0?o:1-o;return n.ordinalNumber(a,{unit:"year"})}return Ir.y(e,t)},Y:function(e,t,n,o){const a=g1(e,o),l=a>0?a:1-a;if(t==="YY"){const c=l%100;return Nt(c,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):Nt(l,t.length)},R:function(e,t){const n=m1(e);return Nt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Nt(n,t.length)},Q:function(e,t,n){const o=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(o);case"QQ":return Nt(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,t,n){const o=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(o);case"qq":return Nt(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,t,n){const o=e.getMonth();switch(t){case"M":case"MM":return Ir.M(e,t);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(e,t,n){const o=e.getMonth();switch(t){case"L":return String(o+1);case"LL":return Nt(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(e,t,n,o){const a=gL(e,o);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):Nt(a,t.length)},I:function(e,t,n){const o=mL(e);return t==="Io"?n.ordinalNumber(o,{unit:"week"}):Nt(o,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ir.d(e,t)},D:function(e,t,n){const o=hL(e);return t==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):Nt(o,t.length)},E:function(e,t,n){const o=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(e,t,n,o){const a=e.getDay(),l=(a-o.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Nt(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,o){const a=e.getDay(),l=(a-o.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Nt(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const o=e.getDay(),a=o===0?7:o;switch(t){case"i":return String(a);case"ii":return Nt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const o=e.getHours();let a;switch(o===12?a=Ti.noon:o===0?a=Ti.midnight:a=o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const o=e.getHours();let a;switch(o>=17?a=Ti.evening:o>=12?a=Ti.afternoon:o>=4?a=Ti.morning:a=Ti.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let o=e.getHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return Ir.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ir.H(e,t)},K:function(e,t,n){const o=e.getHours()%12;return t==="Ko"?n.ordinalNumber(o,{unit:"hour"}):Nt(o,t.length)},k:function(e,t,n){let o=e.getHours();return o===0&&(o=24),t==="ko"?n.ordinalNumber(o,{unit:"hour"}):Nt(o,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ir.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ir.s(e,t)},S:function(e,t){return Ir.S(e,t)},X:function(e,t,n){const o=e.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return J0(o);case"XXXX":case"XX":return Eo(o);case"XXXXX":case"XXX":default:return Eo(o,":")}},x:function(e,t,n){const o=e.getTimezoneOffset();switch(t){case"x":return J0(o);case"xxxx":case"xx":return Eo(o);case"xxxxx":case"xxx":default:return Eo(o,":")}},O:function(e,t,n){const o=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+X0(o,":");case"OOOO":default:return"GMT"+Eo(o,":")}},z:function(e,t,n){const o=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+X0(o,":");case"zzzz":default:return"GMT"+Eo(o,":")}},t:function(e,t,n){const o=Math.trunc(e.getTime()/1e3);return Nt(o,t.length)},T:function(e,t,n){const o=e.getTime();return Nt(o,t.length)}};function X0(e,t=""){const n=e>0?"-":"+",o=Math.abs(e),a=Math.trunc(o/60),l=o%60;return l===0?n+String(a):n+String(a)+t+Nt(l,2)}function J0(e,t){return e%60===0?(e>0?"-":"+")+Nt(Math.abs(e)/60,2):Eo(e,t)}function Eo(e,t=""){const n=e>0?"-":"+",o=Math.abs(e),a=Nt(Math.trunc(o/60),2),l=Nt(o%60,2);return n+a+t+l}const Z0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},x1=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},xL=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],o=n[1],a=n[2];if(!a)return Z0(e,t);let l;switch(o){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",Z0(o,t)).replace("{{time}}",x1(a,t))},yL={p:x1,P:xL},vL=/^D+$/,bL=/^Y+$/,wL=["D","DD","YY","YYYY"];function jL(e){return vL.test(e)}function NL(e){return bL.test(e)}function SL(e,t,n){const o=CL(e,t,n);if(console.warn(o),wL.includes(e))throw new RangeError(o)}function CL(e,t,n){const o=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_L=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,EL=/^'([^]*?)'?$/,TL=/''/g,PL=/[a-zA-Z]/;function We(e,t,n){var m,g,v,j,C,N,S,T;const o=Cd(),a=(n==null?void 0:n.locale)??o.locale??fL,l=(n==null?void 0:n.firstWeekContainsDate)??((g=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??o.firstWeekContainsDate??((j=(v=o.locale)==null?void 0:v.options)==null?void 0:j.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((N=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:N.weekStartsOn)??o.weekStartsOn??((T=(S=o.locale)==null?void 0:S.options)==null?void 0:T.weekStartsOn)??0,d=Ht(e);if(!Az(d))throw new RangeError("Invalid time value");let f=t.match(_L).map(P=>{const k=P[0];if(k==="p"||k==="P"){const E=yL[k];return E(P,a.formatLong)}return P}).join("").match(kL).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const k=P[0];if(k==="'")return{isToken:!1,value:RL(P)};if(Y0[k])return{isToken:!0,value:P};if(k.match(PL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:P}});a.localize.preprocessor&&(f=a.localize.preprocessor(d,f));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return f.map(P=>{if(!P.isToken)return P.value;const k=P.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&NL(k)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&jL(k))&&SL(k,t,String(e));const E=Y0[k[0]];return E(d,k,a.localize,p)}).join("")}function RL(e){const t=e.match(EL);return t?t[1].replace(TL,"'"):e}function Br(e){return Ht(e).getDay()}function eb(e,t,n){const o=to(e,n),a=to(t,n);return+o==+a}function Pi(e,t){return d1(e,-t)}function AL(e,t){return f1(e,-1)}const ML={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},FL=(e,t,n)=>{let o;const a=ML[e];return typeof a=="string"?o=a:t===1?o=a.one:o=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"tra "+o:o+" fa":o},DL={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},OL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},IL={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},zL={date:zi({formats:DL,defaultWidth:"full"}),time:zi({formats:OL,defaultWidth:"full"}),dateTime:zi({formats:IL,defaultWidth:"full"})},og=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function LL(e){switch(e){case 0:return"'domenica scorsa alle' p";default:return"'"+og[e]+" scorso alle' p"}}function tb(e){return"'"+og[e]+" alle' p"}function $L(e){switch(e){case 0:return"'domenica prossima alle' p";default:return"'"+og[e]+" prossimo alle' p"}}const VL={lastWeek:(e,t,n)=>{const o=e.getDay();return eb(e,t,n)?tb(o):LL(o)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(e,t,n)=>{const o=e.getDay();return eb(e,t,n)?tb(o):$L(o)},other:"P"},BL=(e,t,n,o)=>{const a=VL[e];return typeof a=="function"?a(t,n,o):a},UL={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},WL={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},qL={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},HL={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},KL={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},GL={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},QL=(e,t)=>{const n=Number(e);return String(n)},YL={ordinalNumber:QL,era:_s({values:UL,defaultWidth:"wide"}),quarter:_s({values:WL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_s({values:qL,defaultWidth:"wide"}),day:_s({values:HL,defaultWidth:"wide"}),dayPeriod:_s({values:KL,defaultWidth:"wide",formattingValues:GL,defaultFormattingWidth:"wide"})},XL=/^(\d+)()?/i,JL=/\d+/i,ZL={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},e4={any:[/^a/i,/^(d|e)/i]},t4={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},n4={any:[/1/i,/2/i,/3/i,/4/i]},s4={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},r4={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},o4={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},i4={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},a4={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},l4={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},c4={ordinalNumber:p1({matchPattern:XL,parsePattern:JL,valueCallback:e=>parseInt(e,10)}),era:Es({matchPatterns:ZL,defaultMatchWidth:"wide",parsePatterns:e4,defaultParseWidth:"any"}),quarter:Es({matchPatterns:t4,defaultMatchWidth:"wide",parsePatterns:n4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Es({matchPatterns:s4,defaultMatchWidth:"wide",parsePatterns:r4,defaultParseWidth:"any"}),day:Es({matchPatterns:o4,defaultMatchWidth:"wide",parsePatterns:i4,defaultParseWidth:"any"}),dayPeriod:Es({matchPatterns:a4,defaultMatchWidth:"any",parsePatterns:l4,defaultParseWidth:"any"})},Et={code:"it",formatDistance:FL,formatLong:zL,formatRelative:BL,localize:YL,match:c4,options:{weekStartsOn:1,firstWeekContainsDate:4}};function Wm(){const e=ln(),{data:t=[]}=Je({queryKey:["books"],queryFn:()=>ue.entities.Book.list()}),{data:n=[]}=Je({queryKey:["otherItems"],queryFn:()=>ue.entities.OtherItem.list()}),{data:o=[]}=Je({queryKey:["shifts"],queryFn:()=>ue.entities.Shift.list()}),{data:a=[]}=Je({queryKey:["desiderata"],queryFn:()=>ue.entities.Desiderata.list()}),{data:l=[]}=Je({queryKey:["reservations"],queryFn:async()=>(await ue.entities.Reservation.list("-created_date")).filter(W=>W.status==="active")}),c=Ke({mutationFn:async _=>{for(const W of _.items)if(W.product_type==="book"){const $=t.find(M=>M.id_univoco===W.product_id);$&&await ue.entities.Book.update($.id,{...$,stock:$.stock+W.quantity})}else if(W.product_type==="item"){const $=n.find(M=>M.id_univoco===W.product_id);if($){const M=Math.max(0,($.venduto||0)-W.quantity),D=$.stock+W.quantity,B=Math.max(0,($.da_pagare||0)-W.quantity),V=D-M,Y={...$,stock:D,venduto:M,giacenza:V};$.contovendita==="SI"&&(Y.da_pagare=B),await ue.entities.OtherItem.update($.id,Y)}}await ue.entities.Reservation.delete(_.id)},onSuccess:()=>{e.invalidateQueries({queryKey:["reservations"]}),e.invalidateQueries({queryKey:["books"]}),e.invalidateQueries({queryKey:["otherItems"]})}}),d=Ke({mutationFn:async()=>{for(const _ of v)await ue.entities.Book.delete(_.id);for(const _ of j)await ue.entities.OtherItem.delete(_.id)},onSuccess:()=>{e.invalidateQueries({queryKey:["books"]}),e.invalidateQueries({queryKey:["otherItems"]}),alert("Schede incomplete eliminate con successo!")}}),f=t.length,p=t.filter(_=>_.stock>0).length,m=n.length,g=n.filter(_=>(_.stock||0)>0).length,v=t.filter(_=>_.is_incomplete===!0),j=n.filter(_=>_.is_incomplete===!0),C=v.length+j.length,N=n.filter(_=>_.contovendita==="SI"&&_.fornitore_pagato==="NO"&&_.da_pagare>0).reduce((_,W)=>{const $=W.proprietario||"Non specificato";return _[$]||(_[$]={name:$,total:0}),_[$].total+=W.da_pagare_art||0,_},{}),S=Object.values(N),T=S.reduce((_,W)=>_+W.total,0),P=new Date,k=to(P,{weekStartsOn:1}),E=Fz(P,{weekStartsOn:1}),L=Ku({start:k,end:E}).map(_=>{const W=We(_,"yyyy-MM-dd"),$=o.find(M=>M.date===W);return{date:_,shift:$}}),R=a.filter(_=>_.status==="da cercare"||_.status==="ordinato");return s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-black tracking-tight",children:"Benvenuto in Libera"}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Il tuo sistema di gestione completo"})]}),s.jsxs("div",{className:"space-y-6",children:[C>0&&s.jsx(ke,{className:"border-2 border-red-400",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(An,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-black mb-2",children:"Schede Incomplete"}),s.jsxs("p",{className:"text-slate-600 mb-4",children:["Ci ",C===1?"":"sono"," ",s.jsx("strong",{children:C})," ",C===1?"scheda incompleta":"schede incomplete"," da completare"]}),v.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"font-semibold text-sm mb-2",children:"Libri:"}),s.jsx("div",{className:"space-y-2",children:v.map(_=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-mono font-semibold text-sm mr-2",children:_.id_univoco}),s.jsx("span",{className:"text-sm",children:_.titolo_composto||"Senza titolo"})]}),s.jsx(Zs,{to:on("Inventory"),children:s.jsx(Z,{size:"sm",variant:"outline",className:"text-xs",children:"Completa"})})]},_.id))})]}),j.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"font-semibold text-sm mb-2",children:"Oggetti:"}),s.jsx("div",{className:"space-y-2",children:j.map(_=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-mono font-semibold text-sm mr-2",children:_.id_univoco}),s.jsx("span",{className:"text-sm",children:_.oggetto||"Senza nome"})]}),s.jsx(Zs,{to:on("Inventory"),children:s.jsx(Z,{size:"sm",variant:"outline",className:"text-xs",children:"Completa"})})]},_.id))})]}),s.jsx("div",{className:"flex gap-3 pt-3 border-t",children:s.jsxs(Z,{variant:"outline",className:"border-red-500 text-red-600 hover:bg-red-50",onClick:()=>{confirm(`Sei sicuro di voler eliminare tutte le ${C} schede incomplete?

Questa azione  irreversibile!`)&&d.mutate()},disabled:d.isPending,children:[s.jsx(or,{className:"w-4 h-4 mr-2"}),d.isPending?"Eliminazione...":"Elimina Tutte"]})})]})]})})}),S.length>0&&s.jsx(ke,{className:"border-2 border-amber-400",children:s.jsx(Te,{className:"p-6",children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(An,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-black mb-2",children:"Fornitori da Pagare"}),s.jsxs("p",{className:"text-slate-600 mb-4",children:["Ci sono ",s.jsx("strong",{children:S.length})," fornitori da pagare per un totale di ",s.jsxs("strong",{className:"text-amber-600",children:["",T.toFixed(2)]})]}),s.jsx(Zs,{to:on("Suppliers"),children:s.jsxs(Z,{style:{backgroundColor:"#45877F"},className:"text-white",children:["Vai ai Fornitori",s.jsx(eP,{className:"w-4 h-4 ml-2"})]})})]})]})})})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(ke,{children:[s.jsx(ut,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Qr,{className:"w-5 h-5",style:{color:"#45877F"}}),"Libri"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Totale a Catalogo"}),s.jsx("p",{className:"text-3xl font-bold",children:f})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Disponibili"}),s.jsx("p",{className:"text-3xl font-bold",style:{color:"#45877F"},children:p})]})]})})]}),s.jsxs(ke,{children:[s.jsx(ut,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(sd,{className:"w-5 h-5",style:{color:"#45877F"}}),"Altri Oggetti"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Totale a Catalogo"}),s.jsx("p",{className:"text-3xl font-bold",children:m})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Disponibili"}),s.jsx("p",{className:"text-3xl font-bold",style:{color:"#45877F"},children:g})]})]})})]})]}),L.length>0&&s.jsxs(ke,{children:[s.jsx(ut,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(hl,{className:"w-5 h-5",style:{color:"#45877F"}}),"Turni della Settimana"]})}),s.jsx(Te,{children:s.jsx("div",{className:"space-y-2",children:L.map(({date:_,shift:W})=>s.jsx("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:We(_,"EEEE d MMMM",{locale:Et})}),W?s.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:[W.morning_shift&&s.jsxs("span",{children:["Mattina: ",s.jsx("strong",{children:W.morning_shift})]}),W.afternoon_shift&&s.jsxs("span",{className:"ml-3",children:["Pomeriggio: ",s.jsx("strong",{children:W.afternoon_shift})]})]}):s.jsx("p",{className:"text-sm text-slate-400",children:"Nessun turno programmato"})]})},_.toString()))})})]}),R.length>0&&s.jsxs(ke,{children:[s.jsx(ut,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Pp,{className:"w-5 h-5",style:{color:"#45877F"}}),"Promemoria Desiderata/Prenotazioni"]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2",children:[R.slice(0,5).map(_=>s.jsxs("div",{className:"flex items-start justify-between p-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-semibold text-black",children:[_.nome," ",_.cognome]}),s.jsx("p",{className:"text-sm text-slate-600",children:_.prodotto})]}),s.jsx($e,{className:_.status==="da cercare"?"bg-yellow-600":"bg-blue-600",children:_.status})]},_.id)),R.length>5&&s.jsx(Zs,{to:on("Desiderata"),children:s.jsxs(Z,{variant:"outline",className:"w-full mt-2",children:["Vedi tutte (",R.length,")"]})})]})})]}),l.length>0&&s.jsxs(ke,{children:[s.jsx(ut,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(cP,{className:"w-5 h-5",style:{color:"#45877F"}}),"Prenotazioni Attive"]})}),s.jsx(Te,{children:s.jsx("div",{className:"space-y-3",children:l.map(_=>s.jsx(ke,{className:"border-2",style:{borderColor:"#45877F"},children:s.jsxs(Te,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-black",children:[_.customer_name," ",_.customer_surname]}),s.jsx("p",{className:"text-sm text-slate-600",children:_.customer_contact}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:We(new Date(_.reservation_date),"d MMM yyyy",{locale:Et})})]}),s.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>{confirm("Eliminare questa prenotazione? Lo stock verr ripristinato.")&&c.mutate(_)},className:"text-red-600 hover:text-red-700",children:s.jsx(or,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"text-sm space-y-1 mb-2",children:_.items.map((W,$)=>s.jsxs("div",{className:"text-slate-700",children:[" ",W.product_name," (",W.quantity,")"]},$))}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Totale: "}),s.jsxs("span",{className:"font-bold",children:["",_.total_amount.toFixed(2)]})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Acconto: "}),s.jsxs("span",{className:"font-semibold text-green-600",children:["",_.deposit.toFixed(2)]})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-slate-600",children:"Da pagare: "}),s.jsxs("span",{className:"font-bold text-orange-600",children:["",_.remaining.toFixed(2)]})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t",children:s.jsx(Zs,{to:on("Cassa")+`?reservation=${_.id}`,children:s.jsxs(Z,{className:"w-full",style:{backgroundColor:"#45877F"},children:[s.jsx(Du,{className:"w-4 h-4 mr-2"}),"Vai in Cassa"]})})})]})},_.id))})})]})]})]})}const ig=x.createContext({});function ag(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const lg=typeof window<"u",y1=lg?x.useLayoutEffect:x.useEffect,kd=x.createContext(null);function cg(e,t){e.indexOf(t)===-1&&e.push(t)}function ug(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const lr=(e,t,n)=>n>t?t:n<e?e:n;let dg=()=>{};const cr={},v1=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function b1(e){return typeof e=="object"&&e!==null}const w1=e=>/^0[^.\s]+$/u.test(e);function fg(e){let t;return()=>(t===void 0&&(t=e()),t)}const Qn=e=>e,u4=(e,t)=>n=>t(e(n)),Vl=(...e)=>e.reduce(u4),vl=(e,t,n)=>{const o=t-e;return o===0?1:(n-e)/o};class hg{constructor(){this.subscriptions=[]}add(t){return cg(this.subscriptions,t),()=>ug(this.subscriptions,t)}notify(t,n,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,o);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fs=e=>e*1e3,Gn=e=>e/1e3;function j1(e,t){return t?e*(1e3/t):0}const N1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,d4=1e-7,f4=12;function h4(e,t,n,o,a){let l,c,d=0;do c=t+(n-t)/2,l=N1(c,o,a)-e,l>0?n=c:t=c;while(Math.abs(l)>d4&&++d<f4);return c}function Bl(e,t,n,o){if(e===t&&n===o)return Qn;const a=l=>h4(l,0,1,e,n);return l=>l===0||l===1?l:N1(a(l),t,o)}const S1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,C1=e=>t=>1-e(1-t),k1=Bl(.33,1.53,.69,.99),mg=C1(k1),_1=S1(mg),E1=e=>(e*=2)<1?.5*mg(e):.5*(2-Math.pow(2,-10*(e-1))),pg=e=>1-Math.sin(Math.acos(e)),T1=C1(pg),P1=S1(pg),m4=Bl(.42,0,1,1),p4=Bl(0,0,.58,1),R1=Bl(.42,0,.58,1),g4=e=>Array.isArray(e)&&typeof e[0]!="number",A1=e=>Array.isArray(e)&&typeof e[0]=="number",x4={linear:Qn,easeIn:m4,easeInOut:R1,easeOut:p4,circIn:pg,circInOut:P1,circOut:T1,backIn:mg,backInOut:_1,backOut:k1,anticipate:E1},y4=e=>typeof e=="string",nb=e=>{if(A1(e)){dg(e.length===4);const[t,n,o,a]=e;return Bl(t,n,o,a)}else if(y4(e))return x4[e];return e},mu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function v4(e,t){let n=new Set,o=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(m){c.has(m)&&(p.schedule(m),e()),m(d)}const p={schedule:(m,g=!1,v=!1)=>{const C=v&&a?n:o;return g&&c.add(m),C.has(m)||C.add(m),m},cancel:m=>{o.delete(m),c.delete(m)},process:m=>{if(d=m,a){l=!0;return}a=!0,[n,o]=[o,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(m))}};return p}const b4=40;function M1(e,t){let n=!1,o=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=mu.reduce((k,E)=>(k[E]=v4(l),k),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:m,update:g,preRender:v,render:j,postRender:C}=c,N=()=>{const k=cr.useManualTiming?a.timestamp:performance.now();n=!1,cr.useManualTiming||(a.delta=o?1e3/60:Math.max(Math.min(k-a.timestamp,b4),1)),a.timestamp=k,a.isProcessing=!0,d.process(a),f.process(a),p.process(a),m.process(a),g.process(a),v.process(a),j.process(a),C.process(a),a.isProcessing=!1,n&&t&&(o=!1,e(N))},S=()=>{n=!0,o=!0,a.isProcessing||e(N)};return{schedule:mu.reduce((k,E)=>{const I=c[E];return k[E]=(L,R=!1,_=!1)=>(n||S(),I.schedule(L,R,_)),k},{}),cancel:k=>{for(let E=0;E<mu.length;E++)c[mu[E]].cancel(k)},state:a,steps:c}}const{schedule:Pt,cancel:no,state:rn,steps:Wh}=M1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qn,!0);let _u;function w4(){_u=void 0}const Tn={now:()=>(_u===void 0&&Tn.set(rn.isProcessing||cr.useManualTiming?rn.timestamp:performance.now()),_u),set:e=>{_u=e,queueMicrotask(w4)}},F1=e=>t=>typeof t=="string"&&t.startsWith(e),gg=F1("--"),j4=F1("var(--"),xg=e=>j4(e)?N4.test(e.split("/*")[0].trim()):!1,N4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,da={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},bl={...da,transform:e=>lr(0,1,e)},pu={...da,default:1},il=e=>Math.round(e*1e5)/1e5,yg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function S4(e){return e==null}const C4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vg=(e,t)=>n=>!!(typeof n=="string"&&C4.test(n)&&n.startsWith(e)||t&&!S4(n)&&Object.prototype.hasOwnProperty.call(n,t)),D1=(e,t,n)=>o=>{if(typeof o!="string")return o;const[a,l,c,d]=o.match(yg);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},k4=e=>lr(0,255,e),qh={...da,transform:e=>Math.round(k4(e))},Ao={test:vg("rgb","red"),parse:D1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:o=1})=>"rgba("+qh.transform(e)+", "+qh.transform(t)+", "+qh.transform(n)+", "+il(bl.transform(o))+")"};function _4(e){let t="",n="",o="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),o=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),o=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,o+=o,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const qm={test:vg("#"),parse:_4,transform:Ao.transform},Ul=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Vr=Ul("deg"),Ds=Ul("%"),Ge=Ul("px"),E4=Ul("vh"),T4=Ul("vw"),sb={...Ds,parse:e=>Ds.parse(e)/100,transform:e=>Ds.transform(e*100)},Ri={test:vg("hsl","hue"),parse:D1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:o=1})=>"hsla("+Math.round(e)+", "+Ds.transform(il(t))+", "+Ds.transform(il(n))+", "+il(bl.transform(o))+")"},qt={test:e=>Ao.test(e)||qm.test(e)||Ri.test(e),parse:e=>Ao.test(e)?Ao.parse(e):Ri.test(e)?Ri.parse(e):qm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ao.transform(e):Ri.transform(e),getAnimatableNone:e=>{const t=qt.parse(e);return t.alpha=0,qt.transform(t)}},P4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function R4(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(yg))==null?void 0:t.length)||0)+(((n=e.match(P4))==null?void 0:n.length)||0)>0}const O1="number",I1="color",A4="var",M4="var(",rb="${}",F4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wl(e){const t=e.toString(),n=[],o={color:[],number:[],var:[]},a=[];let l=0;const d=t.replace(F4,f=>(qt.test(f)?(o.color.push(l),a.push(I1),n.push(qt.parse(f))):f.startsWith(M4)?(o.var.push(l),a.push(A4),n.push(f)):(o.number.push(l),a.push(O1),n.push(parseFloat(f))),++l,rb)).split(rb);return{values:n,split:d,indexes:o,types:a}}function z1(e){return wl(e).values}function L1(e){const{split:t,types:n}=wl(e),o=t.length;return a=>{let l="";for(let c=0;c<o;c++)if(l+=t[c],a[c]!==void 0){const d=n[c];d===O1?l+=il(a[c]):d===I1?l+=qt.transform(a[c]):l+=a[c]}return l}}const D4=e=>typeof e=="number"?0:qt.test(e)?qt.getAnimatableNone(e):e;function O4(e){const t=z1(e);return L1(e)(t.map(D4))}const so={test:R4,parse:z1,createTransformer:L1,getAnimatableNone:O4};function Hh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function I4({hue:e,saturation:t,lightness:n,alpha:o}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,f=2*n-d;a=Hh(f,d,e+1/3),l=Hh(f,d,e),c=Hh(f,d,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:o}}function Gu(e,t){return n=>n>0?t:e}const Ft=(e,t,n)=>e+(t-e)*n,Kh=(e,t,n)=>{const o=e*e,a=n*(t*t-o)+o;return a<0?0:Math.sqrt(a)},z4=[qm,Ao,Ri],L4=e=>z4.find(t=>t.test(e));function ob(e){const t=L4(e);if(!t)return!1;let n=t.parse(e);return t===Ri&&(n=I4(n)),n}const ib=(e,t)=>{const n=ob(e),o=ob(t);if(!n||!o)return Gu(e,t);const a={...n};return l=>(a.red=Kh(n.red,o.red,l),a.green=Kh(n.green,o.green,l),a.blue=Kh(n.blue,o.blue,l),a.alpha=Ft(n.alpha,o.alpha,l),Ao.transform(a))},Hm=new Set(["none","hidden"]);function $4(e,t){return Hm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function V4(e,t){return n=>Ft(e,t,n)}function bg(e){return typeof e=="number"?V4:typeof e=="string"?xg(e)?Gu:qt.test(e)?ib:W4:Array.isArray(e)?$1:typeof e=="object"?qt.test(e)?ib:B4:Gu}function $1(e,t){const n=[...e],o=n.length,a=e.map((l,c)=>bg(l)(l,t[c]));return l=>{for(let c=0;c<o;c++)n[c]=a[c](l);return n}}function B4(e,t){const n={...e,...t},o={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(o[a]=bg(e[a])(e[a],t[a]));return a=>{for(const l in o)n[l]=o[l](a);return n}}function U4(e,t){const n=[],o={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][o[l]],d=e.values[c]??0;n[a]=d,o[l]++}return n}const W4=(e,t)=>{const n=so.createTransformer(t),o=wl(e),a=wl(t);return o.indexes.var.length===a.indexes.var.length&&o.indexes.color.length===a.indexes.color.length&&o.indexes.number.length>=a.indexes.number.length?Hm.has(e)&&!a.values.length||Hm.has(t)&&!o.values.length?$4(e,t):Vl($1(U4(o,a),a.values),n):Gu(e,t)};function V1(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ft(e,t,n):bg(e)(e,t)}const q4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Pt.update(t,n),stop:()=>no(t),now:()=>rn.isProcessing?rn.timestamp:Tn.now()}},B1=(e,t,n=10)=>{let o="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)o+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},Qu=2e4;function wg(e){let t=0;const n=50;let o=e.next(t);for(;!o.done&&t<Qu;)t+=n,o=e.next(t);return t>=Qu?1/0:t}function H4(e,t=100,n){const o=n({...e,keyframes:[0,t]}),a=Math.min(wg(o),Qu);return{type:"keyframes",ease:l=>o.next(a*l).value/t,duration:Gn(a)}}const K4=5;function U1(e,t,n){const o=Math.max(t-K4,0);return j1(n-e(o),t-o)}const zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gh=.001;function G4({duration:e=zt.duration,bounce:t=zt.bounce,velocity:n=zt.velocity,mass:o=zt.mass}){let a,l,c=1-t;c=lr(zt.minDamping,zt.maxDamping,c),e=lr(zt.minDuration,zt.maxDuration,Gn(e)),c<1?(a=p=>{const m=p*c,g=m*e,v=m-n,j=Km(p,c),C=Math.exp(-g);return Gh-v/j*C},l=p=>{const g=p*c*e,v=g*n+n,j=Math.pow(c,2)*Math.pow(p,2)*e,C=Math.exp(-g),N=Km(Math.pow(p,2),c);return(-a(p)+Gh>0?-1:1)*((v-j)*C)/N}):(a=p=>{const m=Math.exp(-p*e),g=(p-n)*e+1;return-Gh+m*g},l=p=>{const m=Math.exp(-p*e),g=(n-p)*(e*e);return m*g});const d=5/e,f=Y4(a,l,d);if(e=Fs(e),isNaN(f))return{stiffness:zt.stiffness,damping:zt.damping,duration:e};{const p=Math.pow(f,2)*o;return{stiffness:p,damping:c*2*Math.sqrt(o*p),duration:e}}}const Q4=12;function Y4(e,t,n){let o=n;for(let a=1;a<Q4;a++)o=o-e(o)/t(o);return o}function Km(e,t){return e*Math.sqrt(1-t*t)}const X4=["duration","bounce"],J4=["stiffness","damping","mass"];function ab(e,t){return t.some(n=>e[n]!==void 0)}function Z4(e){let t={velocity:zt.velocity,stiffness:zt.stiffness,damping:zt.damping,mass:zt.mass,isResolvedFromDuration:!1,...e};if(!ab(e,J4)&&ab(e,X4))if(e.visualDuration){const n=e.visualDuration,o=2*Math.PI/(n*1.2),a=o*o,l=2*lr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:zt.mass,stiffness:a,damping:l}}else{const n=G4(e);t={...t,...n,mass:zt.mass},t.isResolvedFromDuration=!0}return t}function Yu(e=zt.visualDuration,t=zt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:p,mass:m,duration:g,velocity:v,isResolvedFromDuration:j}=Z4({...n,velocity:-Gn(n.velocity||0)}),C=v||0,N=p/(2*Math.sqrt(f*m)),S=c-l,T=Gn(Math.sqrt(f/m)),P=Math.abs(S)<5;o||(o=P?zt.restSpeed.granular:zt.restSpeed.default),a||(a=P?zt.restDelta.granular:zt.restDelta.default);let k;if(N<1){const I=Km(T,N);k=L=>{const R=Math.exp(-N*T*L);return c-R*((C+N*T*S)/I*Math.sin(I*L)+S*Math.cos(I*L))}}else if(N===1)k=I=>c-Math.exp(-T*I)*(S+(C+T*S)*I);else{const I=T*Math.sqrt(N*N-1);k=L=>{const R=Math.exp(-N*T*L),_=Math.min(I*L,300);return c-R*((C+N*T*S)*Math.sinh(_)+I*S*Math.cosh(_))/I}}const E={calculatedDuration:j&&g||null,next:I=>{const L=k(I);if(j)d.done=I>=g;else{let R=I===0?C:0;N<1&&(R=I===0?Fs(C):U1(k,I,L));const _=Math.abs(R)<=o,W=Math.abs(c-L)<=a;d.done=_&&W}return d.value=d.done?c:L,d},toString:()=>{const I=Math.min(wg(E),Qu),L=B1(R=>E.next(I*R).value,I,30);return I+"ms "+L},toTransition:()=>{}};return E}Yu.applyToOptions=e=>{const t=H4(e,100,Yu);return e.ease=t.ease,e.duration=Fs(t.duration),e.type="keyframes",e};function Gm({keyframes:e,velocity:t=0,power:n=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:p=.5,restSpeed:m}){const g=e[0],v={done:!1,value:g},j=_=>d!==void 0&&_<d||f!==void 0&&_>f,C=_=>d===void 0?f:f===void 0||Math.abs(d-_)<Math.abs(f-_)?d:f;let N=n*t;const S=g+N,T=c===void 0?S:c(S);T!==S&&(N=T-g);const P=_=>-N*Math.exp(-_/o),k=_=>T+P(_),E=_=>{const W=P(_),$=k(_);v.done=Math.abs(W)<=p,v.value=v.done?T:$};let I,L;const R=_=>{j(v.value)&&(I=_,L=Yu({keyframes:[v.value,C(v.value)],velocity:U1(k,_,v.value),damping:a,stiffness:l,restDelta:p,restSpeed:m}))};return R(0),{calculatedDuration:null,next:_=>{let W=!1;return!L&&I===void 0&&(W=!0,E(_),R(_)),I!==void 0&&_>=I?L.next(_-I):(!W&&E(_),v)}}}function e5(e,t,n){const o=[],a=n||cr.mix||V1,l=e.length-1;for(let c=0;c<l;c++){let d=a(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||Qn:t;d=Vl(f,d)}o.push(d)}return o}function t5(e,t,{clamp:n=!0,ease:o,mixer:a}={}){const l=e.length;if(dg(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=e5(t,o,a),f=d.length,p=m=>{if(c&&m<e[0])return t[0];let g=0;if(f>1)for(;g<e.length-2&&!(m<e[g+1]);g++);const v=vl(e[g],e[g+1],m);return d[g](v)};return n?m=>p(lr(e[0],e[l-1],m)):p}function n5(e,t){const n=e[e.length-1];for(let o=1;o<=t;o++){const a=vl(0,t,o);e.push(Ft(n,1,a))}}function s5(e){const t=[0];return n5(t,e.length-1),t}function r5(e,t){return e.map(n=>n*t)}function o5(e,t){return e.map(()=>t||R1).splice(0,e.length-1)}function al({duration:e=300,keyframes:t,times:n,ease:o="easeInOut"}){const a=g4(o)?o.map(nb):nb(o),l={done:!1,value:t[0]},c=r5(n&&n.length===t.length?n:s5(t),e),d=t5(c,t,{ease:Array.isArray(a)?a:o5(t,a)});return{calculatedDuration:e,next:f=>(l.value=d(f),l.done=f>=e,l)}}const i5=e=>e!==null;function jg(e,{repeat:t,repeatType:n="loop"},o,a=1){const l=e.filter(i5),d=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||o===void 0?l[d]:o}const a5={decay:Gm,inertia:Gm,tween:al,keyframes:al,spring:Yu};function W1(e){typeof e.type=="string"&&(e.type=a5[e.type])}class Ng{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const l5=e=>e/100;class Sg extends Ng{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var o,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(o=this.options).onStop)==null||a.call(o))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;W1(t);const{type:n=al,repeat:o=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const f=n||al;f!==al&&typeof d[0]!="number"&&(this.mixKeyframes=Vl(l5,V1(d[0],d[1])),d=[0,100]);const p=f({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=wg(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(o+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:o,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return o.next(0);const{delay:p=0,keyframes:m,repeat:g,repeatType:v,repeatDelay:j,type:C,onUpdate:N,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const T=this.currentTime-p*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?T<0:T>a;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let k=this.currentTime,E=o;if(g){const _=Math.min(this.currentTime,a)/d;let W=Math.floor(_),$=_%1;!$&&_>=1&&($=1),$===1&&W--,W=Math.min(W,g+1),!!(W%2)&&(v==="reverse"?($=1-$,j&&($-=j/d)):v==="mirror"&&(E=c)),k=lr(0,1,$)*d}const I=P?{done:!1,value:m[0]}:E.next(k);l&&(I.value=l(I.value));let{done:L}=I;!P&&f!==null&&(L=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return R&&C!==Gm&&(I.value=jg(m,this.options,S,this.speed)),N&&N(I.value),R&&this.finish(),I}then(t,n){return this.finished.then(t,n)}get duration(){return Gn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Gn(t)}get time(){return Gn(this.currentTime)}set time(t){var n;t=Fs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Tn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Gn(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:t=q4,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=n??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function c5(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Mo=e=>e*180/Math.PI,Qm=e=>{const t=Mo(Math.atan2(e[1],e[0]));return Ym(t)},u5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Qm,rotateZ:Qm,skewX:e=>Mo(Math.atan(e[1])),skewY:e=>Mo(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ym=e=>(e=e%360,e<0&&(e+=360),e),lb=Qm,cb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ub=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),d5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cb,scaleY:ub,scale:e=>(cb(e)+ub(e))/2,rotateX:e=>Ym(Mo(Math.atan2(e[6],e[5]))),rotateY:e=>Ym(Mo(Math.atan2(-e[2],e[0]))),rotateZ:lb,rotate:lb,skewX:e=>Mo(Math.atan(e[4])),skewY:e=>Mo(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Xm(e){return e.includes("scale")?1:0}function Jm(e,t){if(!e||e==="none")return Xm(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,a;if(n)o=d5,a=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=u5,a=d}if(!a)return Xm(t);const l=o[t],c=a[1].split(",").map(h5);return typeof l=="function"?l(c):c[l]}const f5=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Jm(n,t)};function h5(e){return parseFloat(e.trim())}const fa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ha=new Set(fa),db=e=>e===da||e===Ge,m5=new Set(["x","y","z"]),p5=fa.filter(e=>!m5.has(e));function g5(e){const t=[];return p5.forEach(n=>{const o=e.getValue(n);o!==void 0&&(t.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),t}const Bo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Jm(t,"x"),y:(e,{transform:t})=>Jm(t,"y")};Bo.translateX=Bo.x;Bo.translateY=Bo.y;const Uo=new Set;let Zm=!1,ep=!1,tp=!1;function q1(){if(ep){const e=Array.from(Uo).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),n=new Map;t.forEach(o=>{const a=g5(o);a.length&&(n.set(o,a),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const a=n.get(o);a&&a.forEach(([l,c])=>{var d;(d=o.getValue(l))==null||d.set(c)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}ep=!1,Zm=!1,Uo.forEach(e=>e.complete(tp)),Uo.clear()}function H1(){Uo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ep=!0)})}function x5(){tp=!0,H1(),q1(),tp=!1}class Cg{constructor(t,n,o,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=o,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Uo.add(this),Zm||(Zm=!0,Pt.read(H1),Pt.resolveKeyframes(q1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:o,motionValue:a}=this;if(t[0]===null){const l=a==null?void 0:a.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(o&&n){const d=o.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}c5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Uo.delete(this)}cancel(){this.state==="scheduled"&&(Uo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const y5=e=>e.startsWith("--");function v5(e,t,n){y5(t)?e.style.setProperty(t,n):e.style[t]=n}const b5=fg(()=>window.ScrollTimeline!==void 0),w5={};function j5(e,t){const n=fg(e);return()=>w5[t]??n()}const K1=j5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sl=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`,fb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sl([0,.65,.55,1]),circOut:sl([.55,0,1,.45]),backIn:sl([.31,.01,.66,-.59]),backOut:sl([.33,1.53,.69,.99])};function G1(e,t){if(e)return typeof e=="function"?K1()?B1(e,t):"ease-out":A1(e)?sl(e):Array.isArray(e)?e.map(n=>G1(n,t)||fb.easeOut):fb[e]}function N5(e,t,n,{delay:o=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},p=void 0){const m={[t]:n};f&&(m.offset=f);const g=G1(d,a);Array.isArray(g)&&(m.easing=g);const v={delay:o,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(v.pseudoElement=p),e.animate(m,v)}function Q1(e){return typeof e=="function"&&"applyToOptions"in e}function S5({type:e,...t}){return Q1(e)&&K1()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class C5 extends Ng{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:o,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,dg(typeof t.type!="string");const p=S5(t);this.animation=N5(n,o,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=jg(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(m):v5(n,o,m),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,o;const t=((o=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:o.call(n).duration)||0;return Gn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Gn(t)}get time(){return Gn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Fs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var o;return this.allowFlatten&&((o=this.animation.effect)==null||o.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&b5()?(this.animation.timeline=t,Qn):n(this)}}const Y1={anticipate:E1,backInOut:_1,circInOut:P1};function k5(e){return e in Y1}function _5(e){typeof e.ease=="string"&&k5(e.ease)&&(e.ease=Y1[e.ease])}const hb=10;class E5 extends C5{constructor(t){_5(t),W1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:o,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Sg({...c,autoplay:!1}),f=Fs(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-hb).value,d.sample(f).value,hb),d.stop()}}const mb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(so.test(e)||e==="0")&&!e.startsWith("url("));function T5(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function P5(e,t,n,o){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=mb(a,t),d=mb(l,t);return!c||!d?!1:T5(e)||(n==="spring"||Q1(n))&&o}function np(e){e.duration=0,e.type="keyframes"}const R5=new Set(["opacity","clipPath","filter","transform"]),A5=fg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function M5(e){var m;const{motionValue:t,name:n,repeatDelay:o,repeatType:a,damping:l,type:c}=e;if(!(((m=t==null?void 0:t.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=t.owner.getProps();return A5()&&n&&R5.has(n)&&(n!=="transform"||!p)&&!f&&!o&&a!=="mirror"&&l!==0&&c!=="inertia"}const F5=40;class D5 extends Ng{constructor({autoplay:t=!0,delay:n=0,type:o="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:p,element:m,...g}){var C;super(),this.stop=()=>{var N,S;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Tn.now();const v={autoplay:t,delay:n,type:o,repeat:a,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:m,...g},j=(m==null?void 0:m.KeyframeResolver)||Cg;this.keyframeResolver=new j(d,(N,S,T)=>this.onKeyframesResolved(N,S,v,!T),f,p,m),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(t,n,o,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:p,onUpdate:m}=o;this.resolvedAt=Tn.now(),P5(t,l,c,d)||((cr.instantAnimations||!f)&&(m==null||m(jg(t,o,n))),t[0]=t[t.length-1],np(o),o.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>F5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...o,keyframes:t},j=!p&&M5(v)?new E5({...v,element:v.motionValue.owner.current}):new Sg(v);j.finished.then(()=>this.notifyFinished()).catch(Qn),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),x5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const O5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function I5(e){const t=O5.exec(e);if(!t)return[,];const[,n,o,a]=t;return[`--${n??o}`,a]}function X1(e,t,n=1){const[o,a]=I5(e);if(!o)return;const l=window.getComputedStyle(t).getPropertyValue(o);if(l){const c=l.trim();return v1(c)?parseFloat(c):c}return xg(a)?X1(a,t,n+1):a}function kg(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const J1=new Set(["width","height","top","left","right","bottom",...fa]),z5={test:e=>e==="auto",parse:e=>e},Z1=e=>t=>t.test(e),eS=[da,Ge,Ds,Vr,T4,E4,z5],pb=e=>eS.find(Z1(e));function L5(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||w1(e):!0}const $5=new Set(["brightness","contrast","saturate","opacity"]);function V5(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[o]=n.match(yg)||[];if(!o)return e;const a=n.replace(o,"");let l=$5.has(t)?1:0;return o!==n&&(l*=100),t+"("+l+a+")"}const B5=/\b([a-z-]*)\(.*?\)/gu,sp={...so,getAnimatableNone:e=>{const t=e.match(B5);return t?t.map(V5).join(" "):e}},gb={...da,transform:Math.round},U5={rotate:Vr,rotateX:Vr,rotateY:Vr,rotateZ:Vr,scale:pu,scaleX:pu,scaleY:pu,scaleZ:pu,skew:Vr,skewX:Vr,skewY:Vr,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:bl,originX:sb,originY:sb,originZ:Ge},_g={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,backgroundPositionX:Ge,backgroundPositionY:Ge,...U5,zIndex:gb,fillOpacity:bl,strokeOpacity:bl,numOctaves:gb},W5={..._g,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:sp,WebkitFilter:sp},tS=e=>W5[e];function nS(e,t){let n=tS(e);return n!==sp&&(n=so),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const q5=new Set(["auto","none","0"]);function H5(e,t,n){let o=0,a;for(;o<e.length&&!a;){const l=e[o];typeof l=="string"&&!q5.has(l)&&wl(l).values.length&&(a=e[o]),o++}if(a&&n)for(const l of t)e[l]=nS(n,a)}class K5 extends Cg{constructor(t,n,o,a,l){super(t,n,o,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:o}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let p=t[f];if(typeof p=="string"&&(p=p.trim(),xg(p))){const m=X1(p,n.current);m!==void 0&&(t[f]=m),f===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!J1.has(o)||t.length!==2)return;const[a,l]=t,c=pb(a),d=pb(l);if(c!==d)if(db(c)&&db(d))for(let f=0;f<t.length;f++){const p=t[f];typeof p=="string"&&(t[f]=parseFloat(p))}else Bo[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,o=[];for(let a=0;a<t.length;a++)(t[a]===null||L5(t[a]))&&o.push(a);o.length&&H5(t,o,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:o}=this;if(!t||!t.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bo[o](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(o,a).jump(a,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=o.length-1,c=o[l];o[l]=Bo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function G5(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let o=document;const a=(n==null?void 0:n[e])??o.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const sS=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function rS(e){return b1(e)&&"offsetHeight"in e}const xb=30,Q5=e=>!isNaN(parseFloat(e));class Y5{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{var l;const a=Tn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Q5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new hg);const o=this.events[t].add(n);return t==="change"?()=>{o(),Pt.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,o){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>xb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xb);return j1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ji(e,t){return new Y5(e,t)}const{schedule:Eg}=M1(queueMicrotask,!1),as={x:!1,y:!1};function oS(){return as.x||as.y}function X5(e){return e==="x"||e==="y"?as[e]?null:(as[e]=!0,()=>{as[e]=!1}):as.x||as.y?null:(as.x=as.y=!0,()=>{as.x=as.y=!1})}function iS(e,t){const n=G5(e),o=new AbortController,a={passive:!0,...t,signal:o.signal};return[n,a,()=>o.abort()]}function yb(e){return!(e.pointerType==="touch"||oS())}function J5(e,t,n={}){const[o,a,l]=iS(e,n),c=d=>{if(!yb(d))return;const{target:f}=d,p=t(f,d);if(typeof p!="function"||!f)return;const m=g=>{yb(g)&&(p(g),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,a)};return o.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const aS=(e,t)=>t?e===t?!0:aS(e,t.parentElement):!1,Tg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Z5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function e3(e){return Z5.has(e.tagName)||e.tabIndex!==-1}const Eu=new WeakSet;function vb(e){return t=>{t.key==="Enter"&&e(t)}}function Qh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const t3=(e,t)=>{const n=e.currentTarget;if(!n)return;const o=vb(()=>{if(Eu.has(n))return;Qh(n,"down");const a=vb(()=>{Qh(n,"up")}),l=()=>Qh(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",o,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",o),t)};function bb(e){return Tg(e)&&!oS()}function n3(e,t,n={}){const[o,a,l]=iS(e,n),c=d=>{const f=d.currentTarget;if(!bb(d))return;Eu.add(f);const p=t(f,d),m=(j,C)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Eu.has(f)&&Eu.delete(f),bb(j)&&typeof p=="function"&&p(j,{success:C})},g=j=>{m(j,f===window||f===document||n.useGlobalTarget||aS(f,j.target))},v=j=>{m(j,!1)};window.addEventListener("pointerup",g,a),window.addEventListener("pointercancel",v,a)};return o.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),rS(d)&&(d.addEventListener("focus",p=>t3(p,a)),!e3(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function lS(e){return b1(e)&&"ownerSVGElement"in e}function s3(e){return lS(e)&&e.tagName==="svg"}const mn=e=>!!(e&&e.getVelocity),r3=[...eS,qt,so],o3=e=>r3.find(Z1(e)),Pg=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function wb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function i3(...e){return t=>{let n=!1;const o=e.map(a=>{const l=wb(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<o.length;a++){const l=o[a];typeof l=="function"?l():wb(e[a],null)}}}}function a3(...e){return x.useCallback(i3(...e),e)}class l3 extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const o=n.offsetParent,a=rS(o)&&o.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function c3({children:e,isPresent:t,anchorX:n,root:o}){const a=x.useId(),l=x.useRef(null),c=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=x.useContext(Pg),f=a3(l,e==null?void 0:e.ref);return x.useInsertionEffect(()=>{const{width:p,height:m,top:g,left:v,right:j}=c.current;if(t||!l.current||!p||!m)return;const C=n==="left"?`left: ${v}`:`right: ${j}`;l.current.dataset.motionPopId=a;const N=document.createElement("style");d&&(N.nonce=d);const S=o??document.head;return S.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${C}px !important;
            top: ${g}px !important;
          }
        `),()=>{S.contains(N)&&S.removeChild(N)}},[t]),s.jsx(l3,{isPresent:t,childRef:l,sizeRef:c,children:x.cloneElement(e,{ref:f})})}const u3=({children:e,initial:t,isPresent:n,onExitComplete:o,custom:a,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const p=ag(d3),m=x.useId();let g=!0,v=x.useMemo(()=>(g=!1,{id:m,initial:t,isPresent:n,custom:a,onExitComplete:j=>{p.set(j,!0);for(const C of p.values())if(!C)return;o&&o()},register:j=>(p.set(j,!1),()=>p.delete(j))}),[n,p,o]);return l&&g&&(v={...v}),x.useMemo(()=>{p.forEach((j,C)=>p.set(C,!1))},[n]),x.useEffect(()=>{!n&&!p.size&&o&&o()},[n]),c==="popLayout"&&(e=s.jsx(c3,{isPresent:n,anchorX:d,root:f,children:e})),s.jsx(kd.Provider,{value:v,children:e})};function d3(){return new Map}function cS(e=!0){const t=x.useContext(kd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:o,register:a}=t,l=x.useId();x.useEffect(()=>{if(e)return a(l)},[e]);const c=x.useCallback(()=>e&&o&&o(l),[l,o,e]);return!n&&o?[!1,c]:[!0]}const gu=e=>e.key||"";function jb(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const _d=({children:e,custom:t,initial:n=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[p,m]=cS(c),g=x.useMemo(()=>jb(e),[e]),v=c&&!p?[]:g.map(gu),j=x.useRef(!0),C=x.useRef(g),N=ag(()=>new Map),[S,T]=x.useState(g),[P,k]=x.useState(g);y1(()=>{j.current=!1,C.current=g;for(let L=0;L<P.length;L++){const R=gu(P[L]);v.includes(R)?N.delete(R):N.get(R)!==!0&&N.set(R,!1)}},[P,v.length,v.join("-")]);const E=[];if(g!==S){let L=[...g];for(let R=0;R<P.length;R++){const _=P[R],W=gu(_);v.includes(W)||(L.splice(R,0,_),E.push(_))}return l==="wait"&&E.length&&(L=E),k(jb(L)),T(g),null}const{forceRender:I}=x.useContext(ig);return s.jsx(s.Fragment,{children:P.map(L=>{const R=gu(L),_=c&&!p?!1:g===P||v.includes(R),W=()=>{if(N.has(R))N.set(R,!0);else return;let $=!0;N.forEach(M=>{M||($=!1)}),$&&(I==null||I(),k(C.current),c&&(m==null||m()),o&&o())};return s.jsx(u3,{isPresent:_,initial:!j.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:f,onExitComplete:_?void 0:W,anchorX:d,children:L},R)})})},uS=x.createContext({strict:!1}),Nb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zi={};for(const e in Nb)Zi[e]={isEnabled:t=>Nb[e].some(n=>!!t[n])};function f3(e){for(const t in e)Zi[t]={...Zi[t],...e[t]}}const h3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||h3.has(e)}let dS=e=>!Xu(e);function m3(e){typeof e=="function"&&(dS=t=>t.startsWith("on")?!Xu(t):e(t))}try{m3(require("@emotion/is-prop-valid").default)}catch{}function p3(e,t,n){const o={};for(const a in e)a==="values"&&typeof e.values=="object"||(dS(a)||n===!0&&Xu(a)||!t&&!Xu(a)||e.draggable&&a.startsWith("onDrag"))&&(o[a]=e[a]);return o}const Ed=x.createContext({});function Td(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function jl(e){return typeof e=="string"||Array.isArray(e)}const Rg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ag=["initial",...Rg];function Pd(e){return Td(e.animate)||Ag.some(t=>jl(e[t]))}function fS(e){return!!(Pd(e)||e.variants)}function g3(e,t){if(Pd(e)){const{initial:n,animate:o}=e;return{initial:n===!1||jl(n)?n:void 0,animate:jl(o)?o:void 0}}return e.inherit!==!1?t:{}}function x3(e){const{initial:t,animate:n}=g3(e,x.useContext(Ed));return x.useMemo(()=>({initial:t,animate:n}),[Sb(t),Sb(n)])}function Sb(e){return Array.isArray(e)?e.join(" "):e}const Nl={};function y3(e){for(const t in e)Nl[t]=e[t],gg(t)&&(Nl[t].isCSSVariable=!0)}function hS(e,{layout:t,layoutId:n}){return ha.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Nl[e]||e==="opacity")}const v3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},b3=fa.length;function w3(e,t,n){let o="",a=!0;for(let l=0;l<b3;l++){const c=fa[l],d=e[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=sS(d,_g[c]);if(!f){a=!1;const m=v3[c]||c;o+=`${m}(${p}) `}n&&(t[c]=p)}}return o=o.trim(),n?o=n(t,a?"":o):a&&(o="none"),o}function Mg(e,t,n){const{style:o,vars:a,transformOrigin:l}=e;let c=!1,d=!1;for(const f in t){const p=t[f];if(ha.has(f)){c=!0;continue}else if(gg(f)){a[f]=p;continue}else{const m=sS(p,_g[f]);f.startsWith("origin")?(d=!0,l[f]=m):o[f]=m}}if(t.transform||(c||n?o.transform=w3(t,e.transform,n):o.transform&&(o.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:m=0}=l;o.transformOrigin=`${f} ${p} ${m}`}}const Fg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mS(e,t,n){for(const o in t)!mn(t[o])&&!hS(o,n)&&(e[o]=t[o])}function j3({transformTemplate:e},t){return x.useMemo(()=>{const n=Fg();return Mg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function N3(e,t){const n=e.style||{},o={};return mS(o,n,e),Object.assign(o,j3(e,t)),o}function S3(e,t){const n={},o=N3(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const C3={offset:"stroke-dashoffset",array:"stroke-dasharray"},k3={offset:"strokeDashoffset",array:"strokeDasharray"};function _3(e,t,n=1,o=0,a=!0){e.pathLength=1;const l=a?C3:k3;e[l.offset]=Ge.transform(-o);const c=Ge.transform(t),d=Ge.transform(n);e[l.array]=`${c} ${d}`}function pS(e,{attrX:t,attrY:n,attrScale:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},f,p,m){if(Mg(e,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:v}=e;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),o!==void 0&&(g.scale=o),a!==void 0&&_3(g,a,l,c,!1)}const gS=()=>({...Fg(),attrs:{}}),xS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function E3(e,t,n,o){const a=x.useMemo(()=>{const l=gS();return pS(l,t,xS(o),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};mS(l,e.style,e),a.style={...l,...a.style}}return a}const T3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dg(e){return typeof e!="string"||e.includes("-")?!1:!!(T3.indexOf(e)>-1||/[A-Z]/u.test(e))}function P3(e,t,n,{latestValues:o},a,l=!1){const d=(Dg(e)?E3:S3)(t,o,a,e),f=p3(t,typeof e=="string",l),p=e!==x.Fragment?{...f,...d,ref:n}:{},{children:m}=t,g=x.useMemo(()=>mn(m)?m.get():m,[m]);return x.createElement(e,{...p,children:g})}function Cb(e){const t=[{},{}];return e==null||e.values.forEach((n,o)=>{t[0][o]=n.get(),t[1][o]=n.getVelocity()}),t}function Og(e,t,n,o){if(typeof t=="function"){const[a,l]=Cb(o);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=Cb(o);t=t(n!==void 0?n:e.custom,a,l)}return t}function Tu(e){return mn(e)?e.get():e}function R3({scrapeMotionValuesFromProps:e,createRenderState:t},n,o,a){return{latestValues:A3(n,o,a,e),renderState:t()}}function A3(e,t,n,o){const a={},l=o(e,{});for(const v in l)a[v]=Tu(l[v]);let{initial:c,animate:d}=e;const f=Pd(e),p=fS(e);t&&p&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let m=n?n.initial===!1:!1;m=m||c===!1;const g=m?d:c;if(g&&typeof g!="boolean"&&!Td(g)){const v=Array.isArray(g)?g:[g];for(let j=0;j<v.length;j++){const C=Og(e,v[j]);if(C){const{transitionEnd:N,transition:S,...T}=C;for(const P in T){let k=T[P];if(Array.isArray(k)){const E=m?k.length-1:0;k=k[E]}k!==null&&(a[P]=k)}for(const P in N)a[P]=N[P]}}}return a}const yS=e=>(t,n)=>{const o=x.useContext(Ed),a=x.useContext(kd),l=()=>R3(e,t,o,a);return n?l():ag(l)};function Ig(e,t,n){var l;const{style:o}=e,a={};for(const c in o)(mn(o[c])||t.style&&mn(t.style[c])||hS(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=o[c]);return a}const M3=yS({scrapeMotionValuesFromProps:Ig,createRenderState:Fg});function vS(e,t,n){const o=Ig(e,t,n);for(const a in e)if(mn(e[a])||mn(t[a])){const l=fa.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[l]=e[a]}return o}const F3=yS({scrapeMotionValuesFromProps:vS,createRenderState:gS}),D3=Symbol.for("motionComponentSymbol");function Ai(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function O3(e,t,n){return x.useCallback(o=>{o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),n&&(typeof n=="function"?n(o):Ai(n)&&(n.current=o))},[t])}const zg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),I3="framerAppearId",bS="data-"+zg(I3),wS=x.createContext({});function z3(e,t,n,o,a){var N,S;const{visualElement:l}=x.useContext(Ed),c=x.useContext(uS),d=x.useContext(kd),f=x.useContext(Pg).reducedMotion,p=x.useRef(null);o=o||c.renderer,!p.current&&o&&(p.current=o(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const m=p.current,g=x.useContext(wS);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&L3(p.current,n,a,g);const v=x.useRef(!1);x.useInsertionEffect(()=>{m&&v.current&&m.update(n,d)});const j=n[bS],C=x.useRef(!!j&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,j))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,j)));return y1(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),C.current&&m.animationState&&m.animationState.animateChanges())}),x.useEffect(()=>{m&&(!C.current&&m.animationState&&m.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,j)}),C.current=!1),m.enteringChildren=void 0)}),m}function L3(e,t,n,o){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:jS(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&Ai(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:o,crossfade:m,layoutScroll:f,layoutRoot:p})}function jS(e){if(e)return e.options.allowProjection!==!1?e.projection:jS(e.parent)}function Yh(e,{forwardMotionProps:t=!1}={},n,o){n&&f3(n);const a=Dg(e)?F3:M3;function l(d,f){let p;const m={...x.useContext(Pg),...d,layoutId:$3(d)},{isStatic:g}=m,v=x3(d),j=a(d,g);if(!g&&lg){V3();const C=B3(m);p=C.MeasureLayout,v.visualElement=z3(e,j,m,o,C.ProjectionNode)}return s.jsxs(Ed.Provider,{value:v,children:[p&&v.visualElement?s.jsx(p,{visualElement:v.visualElement,...m}):null,P3(e,d,O3(j,v.visualElement,f),j,g,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=x.forwardRef(l);return c[D3]=e,c}function $3({layoutId:e}){const t=x.useContext(ig).id;return t&&e!==void 0?t+"-"+e:e}function V3(e,t){x.useContext(uS).strict}function B3(e){const{drag:t,layout:n}=Zi;if(!t&&!n)return{};const o={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function U3(e,t){if(typeof Proxy>"u")return Yh;const n=new Map,o=(l,c)=>Yh(l,c,e,t),a=(l,c)=>o(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?o:(n.has(c)||n.set(c,Yh(c,void 0,e,t)),n.get(c))})}function NS({top:e,left:t,right:n,bottom:o}){return{x:{min:t,max:n},y:{min:e,max:o}}}function W3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function q3(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}function Xh(e){return e===void 0||e===1}function rp({scale:e,scaleX:t,scaleY:n}){return!Xh(e)||!Xh(t)||!Xh(n)}function To(e){return rp(e)||SS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function SS(e){return kb(e.x)||kb(e.y)}function kb(e){return e&&e!=="0%"}function Ju(e,t,n){const o=e-n,a=t*o;return n+a}function _b(e,t,n,o,a){return a!==void 0&&(e=Ju(e,a,o)),Ju(e,n,o)+t}function op(e,t=0,n=1,o,a){e.min=_b(e.min,t,n,o,a),e.max=_b(e.max,t,n,o,a)}function CS(e,{x:t,y:n}){op(e.x,t.translate,t.scale,t.originPoint),op(e.y,n.translate,n.scale,n.originPoint)}const Eb=.999999999999,Tb=1.0000000000001;function H3(e,t,n,o=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(o&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Fi(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,CS(e,c)),o&&To(l.latestValues)&&Fi(e,l.latestValues))}t.x<Tb&&t.x>Eb&&(t.x=1),t.y<Tb&&t.y>Eb&&(t.y=1)}function Mi(e,t){e.min=e.min+t,e.max=e.max+t}function Pb(e,t,n,o,a=.5){const l=Ft(e.min,e.max,a);op(e,t,n,l,o)}function Fi(e,t){Pb(e.x,t.x,t.scaleX,t.scale,t.originX),Pb(e.y,t.y,t.scaleY,t.scale,t.originY)}function kS(e,t){return NS(q3(e.getBoundingClientRect(),t))}function K3(e,t,n){const o=kS(e,n),{scroll:a}=t;return a&&(Mi(o.x,a.offset.x),Mi(o.y,a.offset.y)),o}const Rb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Di=()=>({x:Rb(),y:Rb()}),Ab=()=>({min:0,max:0}),Vt=()=>({x:Ab(),y:Ab()}),ip={current:null},_S={current:!1};function G3(){if(_S.current=!0,!!lg)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ip.current=e.matches;e.addEventListener("change",t),t()}else ip.current=!1}const Q3=new WeakMap;function Y3(e,t,n){for(const o in t){const a=t[o],l=n[o];if(mn(a))e.addValue(o,a);else if(mn(l))e.addValue(o,Ji(a,{owner:e}));else if(l!==a)if(e.hasValue(o)){const c=e.getValue(o);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(o);e.addValue(o,Ji(c!==void 0?c:a,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const Mb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class X3{scrapeMotionValuesFromProps(t,n,o){return{}}constructor({parent:t,props:n,presenceContext:o,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Tn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Pt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=o,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Pd(n),this.isVariantNode=fS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const j=g[v];f[v]!==void 0&&mn(j)&&j.set(f[v])}}mount(t){var n;this.current=t,Q3.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,a)=>this.bindToMotionValue(a,o)),_S.current||G3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ip.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),no(this.notifyUpdate),no(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const o=this.features[n];o&&(o.unmount(),o.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const o=ha.has(t);o&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Pt.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Zi){const n=Zi[t];if(!n)continue;const{isEnabled:o,Feature:a}=n;if(!this.features[t]&&a&&o(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let o=0;o<Mb.length;o++){const a=Mb[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=Y3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const o=this.values.get(t);n!==o&&(o&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let o=this.values.get(t);return o===void 0&&n!==void 0&&(o=Ji(n===null?void 0:n,{owner:this}),this.addValue(t,o)),o}readValue(t,n){let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(v1(o)||w1(o))?o=parseFloat(o):!o3(o)&&so.test(n)&&(o=nS(t,n)),this.setBaseTarget(t,mn(o)?o.get():o)),mn(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let o;if(typeof n=="string"||typeof n=="object"){const c=Og(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(o=c[t])}if(n&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!mn(a)?a:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new hg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Eg.render(this.render)}}class ES extends X3{constructor(){super(...arguments),this.KeyframeResolver=K5}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:o}){delete n[t],delete o[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;mn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function TS(e,{style:t,vars:n},o,a){const l=e.style;let c;for(c in t)l[c]=t[c];a==null||a.applyProjectionStyles(l,o);for(c in n)l.setProperty(c,n[c])}function J3(e){return window.getComputedStyle(e)}class Z3 extends ES{constructor(){super(...arguments),this.type="html",this.renderInstance=TS}readValueFromInstance(t,n){var o;if(ha.has(n))return(o=this.projection)!=null&&o.isProjecting?Xm(n):f5(t,n);{const a=J3(t),l=(gg(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return kS(t,n)}build(t,n,o){Mg(t,n,o.transformTemplate)}scrapeMotionValuesFromProps(t,n,o){return Ig(t,n,o)}}const PS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e$(e,t,n,o){TS(e,t,void 0,o);for(const a in t.attrs)e.setAttribute(PS.has(a)?a:zg(a),t.attrs[a])}class t$ extends ES{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ha.has(n)){const o=tS(n);return o&&o.default||0}return n=PS.has(n)?n:zg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,o){return vS(t,n,o)}build(t,n,o){pS(t,n,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(t,n,o,a){e$(t,n,o,a)}mount(t){this.isSVGTag=xS(t.tagName),super.mount(t)}}const n$=(e,t)=>Dg(e)?new t$(t):new Z3(t,{allowProjection:e!==x.Fragment});function Li(e,t,n){const o=e.getProps();return Og(o,t,n!==void 0?n:o.custom,e)}const ap=e=>Array.isArray(e);function s$(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ji(n))}function r$(e){return ap(e)?e[e.length-1]||0:e}function o$(e,t){const n=Li(e,t);let{transitionEnd:o={},transition:a={},...l}=n||{};l={...l,...o};for(const c in l){const d=r$(l[c]);s$(e,c,d)}}function i$(e){return!!(mn(e)&&e.add)}function lp(e,t){const n=e.getValue("willChange");if(i$(n))return n.add(t);if(!n&&cr.WillChange){const o=new cr.WillChange("auto");e.addValue("willChange",o),o.add(t)}}function RS(e){return e.props[bS]}const a$=e=>e!==null;function l$(e,{repeat:t,repeatType:n="loop"},o){const a=e.filter(a$),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const c$={type:"spring",stiffness:500,damping:25,restSpeed:10},u$=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),d$={type:"keyframes",duration:.8},f$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h$=(e,{keyframes:t})=>t.length>2?d$:ha.has(e)?e.startsWith("scale")?u$(t[1]):c$:f$;function m$({when:e,delay:t,delayChildren:n,staggerChildren:o,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:p,...m}){return!!Object.keys(m).length}const Lg=(e,t,n,o={},a,l)=>c=>{const d=kg(o,e)||{},f=d.delay||o.delay||0;let{elapsed:p=0}=o;p=p-Fs(f);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:v=>{t.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:a};m$(d)||Object.assign(m,h$(e,m)),m.duration&&(m.duration=Fs(m.duration)),m.repeatDelay&&(m.repeatDelay=Fs(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(np(m),m.delay===0&&(g=!0)),(cr.instantAnimations||cr.skipAnimations)&&(g=!0,np(m),m.delay=0),m.allowFlatten=!d.type&&!d.ease,g&&!l&&t.get()!==void 0){const v=l$(m.keyframes,d);if(v!==void 0){Pt.update(()=>{m.onUpdate(v),m.onComplete()});return}}return d.isSync?new Sg(m):new D5(m)};function p$({protectedKeys:e,needsAnimating:t},n){const o=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,o}function AS(e,t,{delay:n=0,transitionOverride:o,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;o&&(l=o);const f=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const m in d){const g=e.getValue(m,e.latestValues[m]??null),v=d[m];if(v===void 0||p&&p$(p,m))continue;const j={delay:n,...kg(l||{},m)},C=g.get();if(C!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===C&&!j.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const T=RS(e);if(T){const P=window.MotionHandoffAnimation(T,m,Pt);P!==null&&(j.startTime=P,N=!0)}}lp(e,m),g.start(Lg(m,g,v,e.shouldReduceMotion&&J1.has(m)?{type:!1}:j,e,N));const S=g.animation;S&&f.push(S)}return c&&Promise.all(f).then(()=>{Pt.update(()=>{c&&o$(e,c)})}),f}function MS(e,t,n,o=0,a=1){const l=Array.from(e).sort((p,m)=>p.sortNodePosition(m)).indexOf(t),c=e.size,d=(c-1)*o;return typeof n=="function"?n(l,c):a===1?l*o:d-l*o}function cp(e,t,n={}){var f;const o=Li(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(a=n.transitionOverride);const l=o?()=>Promise.all(AS(e,o,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=a;return g$(e,t,p,m,g,v,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,m]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function g$(e,t,n=0,o=0,a=0,l=1,c){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(cp(f,t,{...c,delay:n+(typeof o=="function"?0:o)+MS(e.variantChildren,f,o,a,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function x$(e,t,n={}){e.notify("AnimationStart",t);let o;if(Array.isArray(t)){const a=t.map(l=>cp(e,l,n));o=Promise.all(a)}else if(typeof t=="string")o=cp(e,t,n);else{const a=typeof t=="function"?Li(e,t,n.custom):t;o=Promise.all(AS(e,a,n))}return o.then(()=>{e.notify("AnimationComplete",t)})}function FS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}const y$=Ag.length;function DS(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?DS(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<y$;n++){const o=Ag[n],a=e.props[o];(jl(a)||a===!1)&&(t[o]=a)}return t}const v$=[...Rg].reverse(),b$=Rg.length;function w$(e){return t=>Promise.all(t.map(({animation:n,options:o})=>x$(e,n,o)))}function j$(e){let t=w$(e),n=Fb(),o=!0;const a=f=>(p,m)=>{var v;const g=Li(e,m,f==="exit"?(v=e.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:j,transitionEnd:C,...N}=g;p={...p,...N,...C}}return p};function l(f){t=f(e)}function c(f){const{props:p}=e,m=DS(e.parent)||{},g=[],v=new Set;let j={},C=1/0;for(let S=0;S<b$;S++){const T=v$[S],P=n[T],k=p[T]!==void 0?p[T]:m[T],E=jl(k),I=T===f?P.isActive:null;I===!1&&(C=S);let L=k===m[T]&&k!==p[T]&&E;if(L&&o&&e.manuallyAnimateOnMount&&(L=!1),P.protectedKeys={...j},!P.isActive&&I===null||!k&&!P.prevProp||Td(k)||typeof k=="boolean")continue;const R=N$(P.prevProp,k);let _=R||T===f&&P.isActive&&!L&&E||S>C&&E,W=!1;const $=Array.isArray(k)?k:[k];let M=$.reduce(a(T),{});I===!1&&(M={});const{prevResolvedValues:D={}}=P,B={...D,...M},V=G=>{_=!0,v.has(G)&&(W=!0,v.delete(G)),P.needsAnimating[G]=!0;const w=e.getValue(G);w&&(w.liveStyle=!1)};for(const G in B){const w=M[G],F=D[G];if(j.hasOwnProperty(G))continue;let q=!1;ap(w)&&ap(F)?q=!FS(w,F):q=w!==F,q?w!=null?V(G):v.add(G):w!==void 0&&v.has(G)?V(G):P.protectedKeys[G]=!0}P.prevProp=k,P.prevResolvedValues=M,P.isActive&&(j={...j,...M}),o&&e.blockInitialAnimation&&(_=!1);const Y=L&&R;_&&(!Y||W)&&g.push(...$.map(G=>{const w={type:T};if(typeof G=="string"&&o&&!Y&&e.manuallyAnimateOnMount&&e.parent){const{parent:F}=e,q=Li(F,G);if(F.enteringChildren&&q){const{delayChildren:O}=q.transition||{};w.delay=MS(F.enteringChildren,e,O)}}return{animation:G,options:w}}))}if(v.size){const S={};if(typeof p.initial!="boolean"){const T=Li(e,Array.isArray(p.initial)?p.initial[0]:p.initial);T&&T.transition&&(S.transition=T.transition)}v.forEach(T=>{const P=e.getBaseTarget(T),k=e.getValue(T);k&&(k.liveStyle=!0),S[T]=P??null}),g.push({animation:S})}let N=!!g.length;return o&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(N=!1),o=!1,N?t(g):Promise.resolve()}function d(f,p){var g;if(n[f].isActive===p)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(v=>{var j;return(j=v.animationState)==null?void 0:j.setActive(f,p)}),n[f].isActive=p;const m=c(f);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Fb()}}}function N$(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!FS(t,e):!1}function ko(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fb(){return{animate:ko(!0),whileInView:ko(),whileHover:ko(),whileTap:ko(),whileDrag:ko(),whileFocus:ko(),exit:ko()}}class oo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class S$ extends oo{constructor(t){super(t),t.animationState||(t.animationState=j$(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Td(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let C$=0;class k$ extends oo{constructor(){super(...arguments),this.id=C$++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _$={animation:{Feature:S$},exit:{Feature:k$}};function Sl(e,t,n,o={passive:!0}){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n)}function Wl(e){return{point:{x:e.pageX,y:e.pageY}}}const E$=e=>t=>Tg(t)&&e(t,Wl(t));function ll(e,t,n,o){return Sl(e,t,E$(n),o)}const OS=1e-4,T$=1-OS,P$=1+OS,IS=.01,R$=0-IS,A$=0+IS;function vn(e){return e.max-e.min}function M$(e,t,n){return Math.abs(e-t)<=n}function Db(e,t,n,o=.5){e.origin=o,e.originPoint=Ft(t.min,t.max,e.origin),e.scale=vn(n)/vn(t),e.translate=Ft(n.min,n.max,e.origin)-e.originPoint,(e.scale>=T$&&e.scale<=P$||isNaN(e.scale))&&(e.scale=1),(e.translate>=R$&&e.translate<=A$||isNaN(e.translate))&&(e.translate=0)}function cl(e,t,n,o){Db(e.x,t.x,n.x,o?o.originX:void 0),Db(e.y,t.y,n.y,o?o.originY:void 0)}function Ob(e,t,n){e.min=n.min+t.min,e.max=e.min+vn(t)}function F$(e,t,n){Ob(e.x,t.x,n.x),Ob(e.y,t.y,n.y)}function Ib(e,t,n){e.min=t.min-n.min,e.max=e.min+vn(t)}function ul(e,t,n){Ib(e.x,t.x,n.x),Ib(e.y,t.y,n.y)}function Hn(e){return[e("x"),e("y")]}const zS=({current:e})=>e?e.ownerDocument.defaultView:null,zb=(e,t)=>Math.abs(e-t);function D$(e,t){const n=zb(e.x,t.x),o=zb(e.y,t.y);return Math.sqrt(n**2+o**2)}class LS{constructor(t,n,{transformPagePoint:o,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Zh(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,C=D$(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!C)return;const{point:N}=v,{timestamp:S}=rn;this.history.push({...N,timestamp:S});const{onStart:T,onMove:P}=this.handlers;j||(T&&T(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,v)},this.handlePointerMove=(v,j)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Jh(j,this.transformPagePoint),Pt.update(this.updatePoint,!0)},this.handlePointerUp=(v,j)=>{this.end();const{onEnd:C,onSessionEnd:N,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Zh(v.type==="pointercancel"?this.lastMoveEventInfo:Jh(j,this.transformPagePoint),this.history);this.startEvent&&C&&C(v,T),N&&N(v,T)},!Tg(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=o,this.distanceThreshold=c,this.contextWindow=a||window;const d=Wl(t),f=Jh(d,this.transformPagePoint),{point:p}=f,{timestamp:m}=rn;this.history=[{...p,timestamp:m}];const{onSessionStart:g}=n;g&&g(t,Zh(f,this.history)),this.removeListeners=Vl(ll(this.contextWindow,"pointermove",this.handlePointerMove),ll(this.contextWindow,"pointerup",this.handlePointerUp),ll(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),no(this.updatePoint)}}function Jh(e,t){return t?{point:t(e.point)}:e}function Lb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zh({point:e},t){return{point:e,delta:Lb(e,$S(t)),offset:Lb(e,O$(t)),velocity:I$(t,.1)}}function O$(e){return e[0]}function $S(e){return e[e.length-1]}function I$(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,o=null;const a=$S(e);for(;n>=0&&(o=e[n],!(a.timestamp-o.timestamp>Fs(t)));)n--;if(!o)return{x:0,y:0};const l=Gn(a.timestamp-o.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-o.x)/l,y:(a.y-o.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function z$(e,{min:t,max:n},o){return t!==void 0&&e<t?e=o?Ft(t,e,o.min):Math.max(e,t):n!==void 0&&e>n&&(e=o?Ft(n,e,o.max):Math.min(e,n)),e}function $b(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function L$(e,{top:t,left:n,bottom:o,right:a}){return{x:$b(e.x,n,a),y:$b(e.y,t,o)}}function Vb(e,t){let n=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,o]=[o,n]),{min:n,max:o}}function $$(e,t){return{x:Vb(e.x,t.x),y:Vb(e.y,t.y)}}function V$(e,t){let n=.5;const o=vn(e),a=vn(t);return a>o?n=vl(t.min,t.max-o,e.min):o>a&&(n=vl(e.min,e.max-a,t.min)),lr(0,1,n)}function B$(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const up=.35;function U$(e=up){return e===!1?e=0:e===!0&&(e=up),{x:Bb(e,"left","right"),y:Bb(e,"top","bottom")}}function Bb(e,t,n){return{min:Ub(e,t),max:Ub(e,n)}}function Ub(e,t){return typeof e=="number"?e:e[t]||0}const W$=new WeakMap;class q${constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:o}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wl(g).point)},c=(g,v)=>{const{drag:j,dragPropagation:C,onDragStart:N}=this.getProps();if(j&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=X5(j),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(T=>{let P=this.getAxisMotionValue(T).get()||0;if(Ds.test(P)){const{projection:k}=this.visualElement;if(k&&k.layout){const E=k.layout.layoutBox[T];E&&(P=vn(E)*(parseFloat(P)/100))}}this.originPoint[T]=P}),N&&Pt.postRender(()=>N(g,v)),lp(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},d=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:j,dragDirectionLock:C,onDirectionLock:N,onDrag:S}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:T}=v;if(C&&this.currentDirection===null){this.currentDirection=H$(T),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",v.point,T),this.updateAxis("y",v.point,T),this.visualElement.render(),S&&S(g,v)},f=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Hn(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new LS(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:o,contextWindow:zS(this.visualElement)})}stop(t,n){const o=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!o)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Pt.postRender(()=>d(o,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,o){const{drag:a}=this.getProps();if(!o||!xu(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(c=z$(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&Ai(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=L$(o.layoutBox,t):this.constraints=!1,this.elastic=U$(n),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Hn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=B$(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ai(t))return!1;const o=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=K3(o,a.root,this.visualElement.getTransformPagePoint());let c=$$(a.layout.layoutBox,l);if(n){const d=n(W3(c));this.hasMutatedConstraints=!!d,d&&(c=NS(d))}return c}startAnimation(t){const{drag:n,dragMomentum:o,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=Hn(m=>{if(!xu(m,n,this.currentDirection))return;let g=f&&f[m]||{};c&&(g={min:0,max:0});const v=a?200:1e6,j=a?40:1e7,C={type:"inertia",velocity:o?t[m]:0,bounceStiffness:v,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(m,C)});return Promise.all(p).then(d)}startAxisValueAnimation(t,n){const o=this.getAxisMotionValue(t);return lp(this.visualElement,t),o.start(Lg(t,o,0,n,this.visualElement,!1))}stopAnimation(){Hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,o=this.visualElement.getProps(),a=o[n];return a||this.visualElement.getValue(t,(o.initial?o.initial[t]:void 0)||0)}snapToCursor(t){Hn(n=>{const{drag:o}=this.getProps();if(!xu(n,o,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(t[n]-Ft(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:o}=this.visualElement;if(!Ai(n)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Hn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();a[c]=V$({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Hn(c=>{if(!xu(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];d.set(Ft(f,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;W$.set(this.visualElement,this);const t=this.visualElement.current,n=ll(t,"pointerdown",f=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(f)}),o=()=>{const{dragConstraints:f}=this.getProps();Ai(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Pt.read(o);const c=Sl(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Hn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=f[m].translate,g.set(g.get()+f[m].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=up,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:o,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function xu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function H$(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class K$ extends oo{constructor(t){super(t),this.removeGroupControls=Qn,this.removeListeners=Qn,this.controls=new q$(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wb=e=>(t,n)=>{e&&Pt.postRender(()=>e(t,n))};class G$ extends oo{constructor(){super(...arguments),this.removePointerDownListener=Qn}onPointerDown(t){this.session=new LS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:Wb(t),onStart:Wb(n),onMove:o,onEnd:(l,c)=>{delete this.session,a&&Pt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=ll(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const tl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ge.test(e))e=parseFloat(e);else return e;const n=qb(e,t.target.x),o=qb(e,t.target.y);return`${n}% ${o}%`}},Q$={correct:(e,{treeScale:t,projectionDelta:n})=>{const o=e,a=so.parse(e);if(a.length>5)return o;const l=so.createTransformer(e),c=typeof a[0]!="number"?1:0,d=n.x.scale*t.x,f=n.y.scale*t.y;a[0+c]/=d,a[1+c]/=f;const p=Ft(d,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let em=!1;class Y$ extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o,layoutId:a}=this.props,{projection:l}=t;y3(X$),l&&(n.group&&n.group.add(l),o&&o.register&&a&&o.register(l),em&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Pu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:o,drag:a,isPresent:l}=this.props,{projection:c}=o;return c&&(c.isPresent=l,em=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||Pt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Eg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:o}=this.props,{projection:a}=t;em=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function VS(e){const[t,n]=cS(),o=x.useContext(ig);return s.jsx(Y$,{...e,layoutGroup:o,switchLayoutGroup:x.useContext(wS),isPresent:t,safeToRemove:n})}const X$={borderRadius:{...tl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tl,borderTopRightRadius:tl,borderBottomLeftRadius:tl,borderBottomRightRadius:tl,boxShadow:Q$};function J$(e,t,n){const o=mn(e)?e:Ji(e);return o.start(Lg("",o,t,n)),o.animation}const Z$=(e,t)=>e.depth-t.depth;class eV{constructor(){this.children=[],this.isDirty=!1}add(t){cg(this.children,t),this.isDirty=!0}remove(t){ug(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Z$),this.isDirty=!1,this.children.forEach(t)}}function tV(e,t){const n=Tn.now(),o=({timestamp:a})=>{const l=a-n;l>=t&&(no(o),e(l-t))};return Pt.setup(o,!0),()=>no(o)}const BS=["TopLeft","TopRight","BottomLeft","BottomRight"],nV=BS.length,Hb=e=>typeof e=="string"?parseFloat(e):e,Kb=e=>typeof e=="number"||Ge.test(e);function sV(e,t,n,o,a,l){a?(e.opacity=Ft(0,n.opacity??1,rV(o)),e.opacityExit=Ft(t.opacity??1,0,oV(o))):l&&(e.opacity=Ft(t.opacity??1,n.opacity??1,o));for(let c=0;c<nV;c++){const d=`border${BS[c]}Radius`;let f=Gb(t,d),p=Gb(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Kb(f)===Kb(p)?(e[d]=Math.max(Ft(Hb(f),Hb(p),o),0),(Ds.test(p)||Ds.test(f))&&(e[d]+="%")):e[d]=p}(t.rotate||n.rotate)&&(e.rotate=Ft(t.rotate||0,n.rotate||0,o))}function Gb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const rV=US(0,.5,T1),oV=US(.5,.95,Qn);function US(e,t,n){return o=>o<e?0:o>t?1:n(vl(e,t,o))}function Qb(e,t){e.min=t.min,e.max=t.max}function qn(e,t){Qb(e.x,t.x),Qb(e.y,t.y)}function Yb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Xb(e,t,n,o,a){return e-=t,e=Ju(e,1/n,o),a!==void 0&&(e=Ju(e,1/a,o)),e}function iV(e,t=0,n=1,o=.5,a,l=e,c=e){if(Ds.test(t)&&(t=parseFloat(t),t=Ft(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Ft(l.min,l.max,o);e===l&&(d-=t),e.min=Xb(e.min,t,n,d,a),e.max=Xb(e.max,t,n,d,a)}function Jb(e,t,[n,o,a],l,c){iV(e,t[n],t[o],t[a],t.scale,l,c)}const aV=["x","scaleX","originX"],lV=["y","scaleY","originY"];function Zb(e,t,n,o){Jb(e.x,t,aV,n?n.x:void 0,o?o.x:void 0),Jb(e.y,t,lV,n?n.y:void 0,o?o.y:void 0)}function ew(e){return e.translate===0&&e.scale===1}function WS(e){return ew(e.x)&&ew(e.y)}function tw(e,t){return e.min===t.min&&e.max===t.max}function cV(e,t){return tw(e.x,t.x)&&tw(e.y,t.y)}function nw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qS(e,t){return nw(e.x,t.x)&&nw(e.y,t.y)}function sw(e){return vn(e.x)/vn(e.y)}function rw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class uV{constructor(){this.members=[]}add(t){cg(this.members,t),t.scheduleRender()}remove(t){if(ug(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let o;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){o=l;break}}return o?(this.promote(o),!0):!1}promote(t,n){const o=this.lead;if(t!==o&&(this.prevLead=o,this.lead=t,t.show(),o)){o.instance&&o.scheduleRender(),t.scheduleRender(),t.resumeFrom=o,n&&(t.resumeFrom.preserveOpacity=!0),o.snapshot&&(t.snapshot=o.snapshot,t.snapshot.latestValues=o.animationValues||o.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:o}=t;n.onExitComplete&&n.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dV(e,t,n){let o="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(o=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(o+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:g,rotateY:v,skewX:j,skewY:C}=n;p&&(o=`perspective(${p}px) ${o}`),m&&(o+=`rotate(${m}deg) `),g&&(o+=`rotateX(${g}deg) `),v&&(o+=`rotateY(${v}deg) `),j&&(o+=`skewX(${j}deg) `),C&&(o+=`skewY(${C}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(o+=`scale(${d}, ${f})`),o||"none"}const tm=["","X","Y","Z"],fV=1e3;let hV=0;function nm(e,t,n,o){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),o&&(o[e]=0))}function HS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=RS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Pt,!(a||l))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&HS(o)}function KS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(c={},d=t==null?void 0:t()){this.id=hV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gV),this.nodes.forEach(bV),this.nodes.forEach(wV),this.nodes.forEach(xV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new eV)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new hg),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=lS(c)&&!s3(c),this.instance=c;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let m,g=0;const v=()=>this.root.updateBlockedByResize=!1;Pt.read(()=>{g=window.innerWidth}),e(c,()=>{const j=window.innerWidth;j!==g&&(g=j,this.root.updateBlockedByResize=!0,m&&m(),m=tV(v,250),Pu.hasAnimatedSinceResize&&(Pu.hasAnimatedSinceResize=!1,this.nodes.forEach(aw)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||kV,{onLayoutAnimationStart:N,onLayoutAnimationComplete:S}=p.getProps(),T=!this.targetLayout||!qS(this.targetLayout,j),P=!g&&v;if(this.options.layoutRoot||this.resumeFrom||P||g&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...kg(C,"layout"),onPlay:N,onComplete:S};(p.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,P)}else g||aw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),no(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ow);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(iw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vV),this.nodes.forEach(mV),this.nodes.forEach(pV)):this.nodes.forEach(iw),this.clearAllSnapshots();const d=Tn.now();rn.delta=lr(0,1e3/60,d-rn.timestamp),rn.timestamp=d,rn.isProcessing=!0,Wh.update.process(rn),Wh.preRender.process(rn),Wh.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Eg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yV),this.sharedNodes.forEach(NV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=o(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!WS(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||To(this.latestValues)||m)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),_V(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Vt();const d=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(EV))){const{scroll:m}=this.root;m&&(Mi(d.x,m.offset.x),Mi(d.y,m.offset.y))}return d}removeElementScroll(c){var f;const d=Vt();if(qn(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&qn(d,c),Mi(d.x,g.offset.x),Mi(d.y,g.offset.y))}return d}applyTransform(c,d=!1){const f=Vt();qn(f,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];!d&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Fi(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),To(m.latestValues)&&Fi(f,m.latestValues)}return To(this.latestValues)&&Fi(f,this.latestValues),f}removeTransform(c){const d=Vt();qn(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!To(p.latestValues))continue;rp(p.latestValues)&&p.updateSnapshot();const m=Vt(),g=p.measurePageBox();qn(m,g),Zb(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return To(this.latestValues)&&Zb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const j=this.getClosestProjectingParent();j&&j.layout&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),ul(this.relativeTargetOrigin,this.layout.layoutBox,j.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),F$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),CS(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const j=this.getClosestProjectingParent();j&&!!j.resumingFrom==!!this.resumingFrom&&!j.options.layoutScroll&&j.target&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),ul(this.relativeTargetOrigin,this.target,j.target),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||rp(this.parent.latestValues)||SS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(f=!1),f)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;qn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;H3(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Vt());const{target:j}=c;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Yb(this.prevProjectionDelta.x,this.projectionDelta.x),Yb(this.prevProjectionDelta.y,this.projectionDelta.y)),cl(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!rw(this.projectionDelta.x,this.prevProjectionDelta.x)||!rw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Di(),this.projectionDelta=Di(),this.projectionDeltaWithTransform=Di()}setAnimationOrigin(c,d=!1){const f=this.snapshot,p=f?f.latestValues:{},m={...this.latestValues},g=Di();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=Vt(),j=f?f.source:void 0,C=this.layout?this.layout.source:void 0,N=j!==C,S=this.getStack(),T=!S||S.members.length<=1,P=!!(N&&!T&&this.options.crossfade===!0&&!this.path.some(CV));this.animationProgress=0;let k;this.mixTargetDelta=E=>{const I=E/1e3;lw(g.x,c.x,I),lw(g.y,c.y,I),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ul(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SV(this.relativeTarget,this.relativeTargetOrigin,v,I),k&&cV(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Vt()),qn(k,this.relativeTarget)),N&&(this.animationValues=m,sV(m,p,this.latestValues,I,P,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(no(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pt.update(()=>{Pu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ji(0)),this.currentAnimation=J$(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:m}=c;if(!(!d||!f||!p)){if(this!==c&&this.layout&&p&&GS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Vt();const g=vn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const v=vn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+v}qn(d,f),Fi(d,m),cl(this.projectionDeltaWithTransform,this.layoutCorrected,d,m)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new uV),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&nm("z",c,p,this.animationValues);for(let m=0;m<tm.length;m++)nm(`rotate${tm[m]}`,c,p,this.animationValues),nm(`skew${tm[m]}`,c,p,this.animationValues);c.render();for(const m in p)c.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Tu(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Tu(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!To(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let g=dV(this.projectionDeltaWithTransform,this.treeScale,m);f&&(g=f(m,g)),c.transform=g;const{x:v,y:j}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${j.origin*100}% 0`,p.animationValues?c.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const C in Nl){if(m[C]===void 0)continue;const{correct:N,applyTo:S,isCSSVariable:T}=Nl[C],P=g==="none"?m[C]:N(m[C],p);if(S){const k=S.length;for(let E=0;E<k;E++)c[S[E]]=P}else T?this.options.visualElement.renderState.vars[C]=P:c[C]=P}this.options.layoutId&&(c.pointerEvents=p===this?Tu(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(ow),this.root.sharedNodes.clear()}}}function mV(e){e.updateLayout()}function pV(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Hn(g=>{const v=c?t.measuredBox[g]:t.layoutBox[g],j=vn(v);v.min=o[g].min,v.max=v.min+j}):GS(l,t.layoutBox,o)&&Hn(g=>{const v=c?t.measuredBox[g]:t.layoutBox[g],j=vn(o[g]);v.max=v.min+j,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+j)});const d=Di();cl(d,o,t.layoutBox);const f=Di();c?cl(f,e.applyTransform(a,!0),t.measuredBox):cl(f,o,t.layoutBox);const p=!WS(d);let m=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:j}=g;if(v&&j){const C=Vt();ul(C,t.layoutBox,v.layoutBox);const N=Vt();ul(N,o,j.layoutBox),qS(C,N)||(m=!0),g.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=C,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:o,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:o}=e.options;o&&o()}e.options.transition=void 0}function gV(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xV(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yV(e){e.clearSnapshot()}function ow(e){e.clearMeasurements()}function iw(e){e.isLayoutDirty=!1}function vV(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function aw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bV(e){e.resolveTargetDelta()}function wV(e){e.calcProjection()}function jV(e){e.resetSkewAndRotation()}function NV(e){e.removeLeadSnapshot()}function lw(e,t,n){e.translate=Ft(t.translate,0,n),e.scale=Ft(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cw(e,t,n,o){e.min=Ft(t.min,n.min,o),e.max=Ft(t.max,n.max,o)}function SV(e,t,n,o){cw(e.x,t.x,n.x,o),cw(e.y,t.y,n.y,o)}function CV(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const kV={duration:.45,ease:[.4,0,.1,1]},uw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),dw=uw("applewebkit/")&&!uw("chrome/")?Math.round:Qn;function fw(e){e.min=dw(e.min),e.max=dw(e.max)}function _V(e){fw(e.x),fw(e.y)}function GS(e,t,n){return e==="position"||e==="preserve-aspect"&&!M$(sw(t),sw(n),.2)}function EV(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const TV=KS({attachResizeListener:(e,t)=>Sl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sm={current:void 0},QS=KS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sm.current){const e=new TV({});e.mount(window),e.setOptions({layoutScroll:!0}),sm.current=e}return sm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),PV={pan:{Feature:G$},drag:{Feature:K$,ProjectionNode:QS,MeasureLayout:VS}};function hw(e,t,n){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=o[a];l&&Pt.postRender(()=>l(t,Wl(t)))}class RV extends oo{mount(){const{current:t}=this.node;t&&(this.unmount=J5(t,(n,o)=>(hw(this.node,o,"Start"),a=>hw(this.node,a,"End"))))}unmount(){}}class AV extends oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vl(Sl(this.node.current,"focus",()=>this.onFocus()),Sl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mw(e,t,n){const{props:o}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=o[a];l&&Pt.postRender(()=>l(t,Wl(t)))}class MV extends oo{mount(){const{current:t}=this.node;t&&(this.unmount=n3(t,(n,o)=>(mw(this.node,o,"Start"),(a,{success:l})=>mw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dp=new WeakMap,rm=new WeakMap,FV=e=>{const t=dp.get(e.target);t&&t(e)},DV=e=>{e.forEach(FV)};function OV({root:e,...t}){const n=e||document;rm.has(n)||rm.set(n,{});const o=rm.get(n),a=JSON.stringify(t);return o[a]||(o[a]=new IntersectionObserver(DV,{root:e,...t})),o[a]}function IV(e,t,n){const o=OV(t);return dp.set(e,n),o.observe(e),()=>{dp.delete(e),o.unobserve(e)}}const zV={some:0,all:1};class LV extends oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:o,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:zV[a]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=p?m:g;v&&v(f)};return IV(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some($V(t,n))&&this.startObserver()}unmount(){}}function $V({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const VV={inView:{Feature:LV},tap:{Feature:MV},focus:{Feature:AV},hover:{Feature:RV}},BV={layout:{ProjectionNode:QS,MeasureLayout:VS}},UV={..._$,...VV,...PV,...BV},Yn=U3(UV,n$);function WV({book:e,onEdit:t}){var o;const n=e.stock_quantity<10;return s.jsxs(ke,{className:"group overflow-hidden border-slate-200/60 bg-white/80 backdrop-blur-sm hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[s.jsxs("div",{className:"relative h-64 bg-gradient-to-br from-slate-100 to-slate-200 overflow-hidden",children:[e.cover_image_url?s.jsx("img",{src:e.cover_image_url,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(sd,{className:"w-16 h-16 text-slate-400"})}),e.featured&&s.jsx($e,{className:"absolute top-3 right-3 bg-amber-500 text-white border-0 shadow-lg",children:"In Evidenza"}),n&&s.jsx($e,{className:"absolute top-3 left-3 bg-red-500 text-white border-0 shadow-lg",children:"Scorte Basse"})]}),s.jsxs("div",{className:"p-5",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("h3",{className:"font-bold text-lg text-slate-900 line-clamp-1",children:e.title}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:e.author_name})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx($e,{variant:"outline",className:"text-xs border-slate-300 text-slate-600",children:e.category}),s.jsxs($e,{variant:"outline",className:"text-xs border-slate-300 text-slate-600",children:["Giacenza: ",e.stock_quantity]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-200",children:[s.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["",(o=e.price)==null?void 0:o.toFixed(2)]}),s.jsxs(Z,{onClick:()=>t(e),size:"sm",variant:"outline",className:"hover:bg-slate-900 hover:text-white transition-colors",children:[s.jsx(Ap,{className:"w-4 h-4 mr-2"}),"Modifica"]})]})]})]})}const ur=x.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:Ce("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));ur.displayName="Textarea";var qV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],HV=qV.reduce((e,t)=>{const n=Mp(`Primitive.${t}`),o=x.forwardRef((a,l)=>{const{asChild:c,...d}=a,f=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(f,{...d,ref:l})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),KV="Label",YS=x.forwardRef((e,t)=>s.jsx(HV.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));YS.displayName=KV;var XS=YS;const GV=Jo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ae=x.forwardRef(({className:e,...t},n)=>s.jsx(XS,{ref:n,className:Ce(GV(),e),...t}));ae.displayName=XS.displayName;function pw(e,[t,n]){return Math.min(n,Math.max(t,e))}function gw(e){const t=QV(e),n=x.forwardRef((o,a)=>{const{children:l,...c}=o,d=x.Children.toArray(l),f=d.find(XV);if(f){const p=f.props.children,m=d.map(g=>g===f?x.Children.count(p)>1?x.Children.only(null):x.isValidElement(p)?p.props.children:null:g);return s.jsx(t,{...c,ref:a,children:x.isValidElement(p)?x.cloneElement(p,void 0,m):null})}return s.jsx(t,{...c,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}function QV(e){const t=x.forwardRef((n,o)=>{const{children:a,...l}=n;if(x.isValidElement(a)){const c=ZV(a),d=JV(l,a.props);return a.type!==x.Fragment&&(d.ref=o?sa(o,c):c),x.cloneElement(a,d)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var YV=Symbol("radix.slottable");function XV(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===YV}function JV(e,t){const n={...t};for(const o in t){const a=e[o],l=t[o];/^on[A-Z]/.test(o)?a&&l?n[o]=(...d)=>{const f=l(...d);return a(...d),f}:a&&(n[o]=a):o==="style"?n[o]={...a,...l}:o==="className"&&(n[o]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function ZV(e){var o,a;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function JS(e){const t=e+"CollectionProvider",[n,o]=gs(t),[a,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=N=>{const{scope:S,children:T}=N,P=Kn.useRef(null),k=Kn.useRef(new Map).current;return s.jsx(a,{scope:S,itemMap:k,collectionRef:P,children:T})};c.displayName=t;const d=e+"CollectionSlot",f=gw(d),p=Kn.forwardRef((N,S)=>{const{scope:T,children:P}=N,k=l(d,T),E=gt(S,k.collectionRef);return s.jsx(f,{ref:E,children:P})});p.displayName=d;const m=e+"CollectionItemSlot",g="data-radix-collection-item",v=gw(m),j=Kn.forwardRef((N,S)=>{const{scope:T,children:P,...k}=N,E=Kn.useRef(null),I=gt(S,E),L=l(m,T);return Kn.useEffect(()=>(L.itemMap.set(E,{ref:E,...k}),()=>void L.itemMap.delete(E))),s.jsx(v,{[g]:"",ref:I,children:P})});j.displayName=m;function C(N){const S=l(e+"CollectionConsumer",N);return Kn.useCallback(()=>{const P=S.collectionRef.current;if(!P)return[];const k=Array.from(P.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((L,R)=>k.indexOf(L.ref.current)-k.indexOf(R.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:p,ItemSlot:j},C,o]}var e6=x.createContext(void 0);function Rd(e){const t=x.useContext(e6);return e||t||"ltr"}function t6(e){const t=n6(e),n=x.forwardRef((o,a)=>{const{children:l,...c}=o,d=x.Children.toArray(l),f=d.find(r6);if(f){const p=f.props.children,m=d.map(g=>g===f?x.Children.count(p)>1?x.Children.only(null):x.isValidElement(p)?p.props.children:null:g);return s.jsx(t,{...c,ref:a,children:x.isValidElement(p)?x.cloneElement(p,void 0,m):null})}return s.jsx(t,{...c,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}function n6(e){const t=x.forwardRef((n,o)=>{const{children:a,...l}=n;if(x.isValidElement(a)){const c=i6(a),d=o6(l,a.props);return a.type!==x.Fragment&&(d.ref=o?sa(o,c):c),x.cloneElement(a,d)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var s6=Symbol("radix.slottable");function r6(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===s6}function o6(e,t){const n={...t};for(const o in t){const a=e[o],l=t[o];/^on[A-Z]/.test(o)?a&&l?n[o]=(...d)=>{const f=l(...d);return a(...d),f}:a&&(n[o]=a):o==="style"?n[o]={...a,...l}:o==="className"&&(n[o]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function i6(e){var o,a;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $g(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var a6=[" ","Enter","ArrowUp","ArrowDown"],l6=[" ","Enter"],Qo="Select",[Ad,Md,c6]=JS(Qo),[ma]=gs(Qo,[c6,hd]),Fd=hd(),[u6,io]=ma(Qo),[d6,f6]=ma(Qo),ZS=e=>{const{__scopeSelect:t,children:n,open:o,defaultOpen:a,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:p,name:m,autoComplete:g,disabled:v,required:j,form:C}=e,N=Fd(t),[S,T]=x.useState(null),[P,k]=x.useState(null),[E,I]=x.useState(!1),L=Rd(p),[R,_]=Xr({prop:o,defaultProp:a??!1,onChange:l,caller:Qo}),[W,$]=Xr({prop:c,defaultProp:d,onChange:f,caller:Qo}),M=x.useRef(null),D=S?C||!!S.closest("form"):!0,[B,V]=x.useState(new Set),Y=Array.from(B).map(ne=>ne.props.value).join(";");return s.jsx(pN,{...N,children:s.jsxs(u6,{required:j,scope:t,trigger:S,onTriggerChange:T,valueNode:P,onValueNodeChange:k,valueNodeHasChildren:E,onValueNodeHasChildrenChange:I,contentId:nr(),value:W,onValueChange:$,open:R,onOpenChange:_,dir:L,triggerPointerDownPosRef:M,disabled:v,children:[s.jsx(Ad.Provider,{scope:t,children:s.jsx(d6,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(ne=>{V(G=>new Set(G).add(ne))},[]),onNativeOptionRemove:x.useCallback(ne=>{V(G=>{const w=new Set(G);return w.delete(ne),w})},[]),children:n})}),D?s.jsxs(NC,{"aria-hidden":!0,required:j,tabIndex:-1,name:m,autoComplete:g,value:W,onChange:ne=>$(ne.target.value),disabled:v,form:C,children:[W===void 0?s.jsx("option",{value:""}):null,Array.from(B)]},Y):null]})})};ZS.displayName=Qo;var eC="SelectTrigger",tC=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:o=!1,...a}=e,l=Fd(n),c=io(eC,n),d=c.disabled||o,f=gt(t,c.onTriggerChange),p=Md(n),m=x.useRef("touch"),[g,v,j]=CC(N=>{const S=p().filter(k=>!k.disabled),T=S.find(k=>k.value===c.value),P=kC(S,N,T);P!==void 0&&c.onValueChange(P.value)}),C=N=>{d||(c.onOpenChange(!0),j()),N&&(c.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return s.jsx(gN,{asChild:!0,...l,children:s.jsx(tt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":SC(c.value)?"":void 0,...a,ref:f,onClick:Ye(a.onClick,N=>{N.currentTarget.focus(),m.current!=="mouse"&&C(N)}),onPointerDown:Ye(a.onPointerDown,N=>{m.current=N.pointerType;const S=N.target;S.hasPointerCapture(N.pointerId)&&S.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(C(N),N.preventDefault())}),onKeyDown:Ye(a.onKeyDown,N=>{const S=g.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&v(N.key),!(S&&N.key===" ")&&a6.includes(N.key)&&(C(),N.preventDefault())})})})});tC.displayName=eC;var nC="SelectValue",sC=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:a,children:l,placeholder:c="",...d}=e,f=io(nC,n),{onValueNodeHasChildrenChange:p}=f,m=l!==void 0,g=gt(t,f.onValueNodeChange);return pn(()=>{p(m)},[p,m]),s.jsx(tt.span,{...d,ref:g,style:{pointerEvents:"none"},children:SC(f.value)?s.jsx(s.Fragment,{children:c}):l})});sC.displayName=nC;var h6="SelectIcon",rC=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:o,...a}=e;return s.jsx(tt.span,{"aria-hidden":!0,...a,ref:t,children:o||""})});rC.displayName=h6;var m6="SelectPortal",oC=e=>s.jsx(od,{asChild:!0,...e});oC.displayName=m6;var Yo="SelectContent",iC=x.forwardRef((e,t)=>{const n=io(Yo,e.__scopeSelect),[o,a]=x.useState();if(pn(()=>{a(new DocumentFragment)},[]),!n.open){const l=o;return l?Pl.createPortal(s.jsx(aC,{scope:e.__scopeSelect,children:s.jsx(Ad.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),l):null}return s.jsx(lC,{...e,ref:t})});iC.displayName=Yo;var ls=10,[aC,ao]=ma(Yo),p6="SelectContentImpl",g6=t6("SelectContent.RemoveScroll"),lC=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:p,alignOffset:m,arrowPadding:g,collisionBoundary:v,collisionPadding:j,sticky:C,hideWhenDetached:N,avoidCollisions:S,...T}=e,P=io(Yo,n),[k,E]=x.useState(null),[I,L]=x.useState(null),R=gt(t,le=>E(le)),[_,W]=x.useState(null),[$,M]=x.useState(null),D=Md(n),[B,V]=x.useState(!1),Y=x.useRef(!1);x.useEffect(()=>{if(k)return Ej(k)},[k]),vj();const ne=x.useCallback(le=>{const[ve,...we]=D().map(Ee=>Ee.ref.current),[Ie]=we.slice(-1),ce=document.activeElement;for(const Ee of le)if(Ee===ce||(Ee==null||Ee.scrollIntoView({block:"nearest"}),Ee===ve&&I&&(I.scrollTop=0),Ee===Ie&&I&&(I.scrollTop=I.scrollHeight),Ee==null||Ee.focus(),document.activeElement!==ce))return},[D,I]),G=x.useCallback(()=>ne([_,k]),[ne,_,k]);x.useEffect(()=>{B&&G()},[B,G]);const{onOpenChange:w,triggerPointerDownPosRef:F}=P;x.useEffect(()=>{if(k){let le={x:0,y:0};const ve=Ie=>{var ce,Ee;le={x:Math.abs(Math.round(Ie.pageX)-(((ce=F.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(Ie.pageY)-(((Ee=F.current)==null?void 0:Ee.y)??0))}},we=Ie=>{le.x<=10&&le.y<=10?Ie.preventDefault():k.contains(Ie.target)||w(!1),document.removeEventListener("pointermove",ve),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",we,{capture:!0})}}},[k,w,F]),x.useEffect(()=>{const le=()=>w(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[w]);const[q,O]=CC(le=>{const ve=D().filter(ce=>!ce.disabled),we=ve.find(ce=>ce.ref.current===document.activeElement),Ie=kC(ve,le,we);Ie&&setTimeout(()=>Ie.ref.current.focus())}),Q=x.useCallback((le,ve,we)=>{const Ie=!Y.current&&!we;(P.value!==void 0&&P.value===ve||Ie)&&(W(le),Ie&&(Y.current=!0))},[P.value]),xe=x.useCallback(()=>k==null?void 0:k.focus(),[k]),he=x.useCallback((le,ve,we)=>{const Ie=!Y.current&&!we;(P.value!==void 0&&P.value===ve||Ie)&&M(le)},[P.value]),je=o==="popper"?fp:cC,_e=je===fp?{side:d,sideOffset:f,align:p,alignOffset:m,arrowPadding:g,collisionBoundary:v,collisionPadding:j,sticky:C,hideWhenDetached:N,avoidCollisions:S}:{};return s.jsx(aC,{scope:n,content:k,viewport:I,onViewportChange:L,itemRefCallback:Q,selectedItem:_,onItemLeave:xe,itemTextRefCallback:he,focusSelectedItem:G,selectedItemText:$,position:o,isPositioned:B,searchRef:q,children:s.jsx(Ip,{as:g6,allowPinchZoom:!0,children:s.jsx(Op,{asChild:!0,trapped:P.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Ye(a,le=>{var ve;(ve=P.trigger)==null||ve.focus({preventScroll:!0}),le.preventDefault()}),children:s.jsx(rd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:s.jsx(je,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:le=>le.preventDefault(),...T,..._e,onPlaced:()=>V(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:Ye(T.onKeyDown,le=>{const ve=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ve&&le.key.length===1&&O(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Ie=D().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Ie=Ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const ce=le.target,Ee=Ie.indexOf(ce);Ie=Ie.slice(Ee+1)}setTimeout(()=>ne(Ie)),le.preventDefault()}})})})})})})});lC.displayName=p6;var x6="SelectItemAlignedPosition",cC=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:o,...a}=e,l=io(Yo,n),c=ao(Yo,n),[d,f]=x.useState(null),[p,m]=x.useState(null),g=gt(t,R=>m(R)),v=Md(n),j=x.useRef(!1),C=x.useRef(!0),{viewport:N,selectedItem:S,selectedItemText:T,focusSelectedItem:P}=c,k=x.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&p&&N&&S&&T){const R=l.trigger.getBoundingClientRect(),_=p.getBoundingClientRect(),W=l.valueNode.getBoundingClientRect(),$=T.getBoundingClientRect();if(l.dir!=="rtl"){const ce=$.left-_.left,Ee=W.left-ce,re=R.left-Ee,se=R.width+re,Pe=Math.max(se,_.width),me=window.innerWidth-ls,Be=pw(Ee,[ls,Math.max(ls,me-Pe)]);d.style.minWidth=se+"px",d.style.left=Be+"px"}else{const ce=_.right-$.right,Ee=window.innerWidth-W.right-ce,re=window.innerWidth-R.right-Ee,se=R.width+re,Pe=Math.max(se,_.width),me=window.innerWidth-ls,Be=pw(Ee,[ls,Math.max(ls,me-Pe)]);d.style.minWidth=se+"px",d.style.right=Be+"px"}const M=v(),D=window.innerHeight-ls*2,B=N.scrollHeight,V=window.getComputedStyle(p),Y=parseInt(V.borderTopWidth,10),ne=parseInt(V.paddingTop,10),G=parseInt(V.borderBottomWidth,10),w=parseInt(V.paddingBottom,10),F=Y+ne+B+w+G,q=Math.min(S.offsetHeight*5,F),O=window.getComputedStyle(N),Q=parseInt(O.paddingTop,10),xe=parseInt(O.paddingBottom,10),he=R.top+R.height/2-ls,je=D-he,_e=S.offsetHeight/2,le=S.offsetTop+_e,ve=Y+ne+le,we=F-ve;if(ve<=he){const ce=M.length>0&&S===M[M.length-1].ref.current;d.style.bottom="0px";const Ee=p.clientHeight-N.offsetTop-N.offsetHeight,re=Math.max(je,_e+(ce?xe:0)+Ee+G),se=ve+re;d.style.height=se+"px"}else{const ce=M.length>0&&S===M[0].ref.current;d.style.top="0px";const re=Math.max(he,Y+N.offsetTop+(ce?Q:0)+_e)+we;d.style.height=re+"px",N.scrollTop=ve-he+N.offsetTop}d.style.margin=`${ls}px 0`,d.style.minHeight=q+"px",d.style.maxHeight=D+"px",o==null||o(),requestAnimationFrame(()=>j.current=!0)}},[v,l.trigger,l.valueNode,d,p,N,S,T,l.dir,o]);pn(()=>k(),[k]);const[E,I]=x.useState();pn(()=>{p&&I(window.getComputedStyle(p).zIndex)},[p]);const L=x.useCallback(R=>{R&&C.current===!0&&(k(),P==null||P(),C.current=!1)},[k,P]);return s.jsx(v6,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:j,onScrollButtonChange:L,children:s.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:s.jsx(tt.div,{...a,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});cC.displayName=x6;var y6="SelectPopperPosition",fp=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:o="start",collisionPadding:a=ls,...l}=e,c=Fd(n);return s.jsx(xN,{...c,...l,ref:t,align:o,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fp.displayName=y6;var[v6,Vg]=ma(Yo,{}),hp="SelectViewport",uC=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:o,...a}=e,l=ao(hp,n),c=Vg(hp,n),d=gt(t,l.onViewportChange),f=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(Ad.Slot,{scope:n,children:s.jsx(tt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ye(a.onScroll,p=>{const m=p.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=c;if(v!=null&&v.current&&g){const j=Math.abs(f.current-m.scrollTop);if(j>0){const C=window.innerHeight-ls*2,N=parseFloat(g.style.minHeight),S=parseFloat(g.style.height),T=Math.max(N,S);if(T<C){const P=T+j,k=Math.min(C,P),E=P-k;g.style.height=k+"px",g.style.bottom==="0px"&&(m.scrollTop=E>0?E:0,g.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});uC.displayName=hp;var dC="SelectGroup",[b6,w6]=ma(dC),j6=x.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,a=nr();return s.jsx(b6,{scope:n,id:a,children:s.jsx(tt.div,{role:"group","aria-labelledby":a,...o,ref:t})})});j6.displayName=dC;var fC="SelectLabel",hC=x.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,a=w6(fC,n);return s.jsx(tt.div,{id:a.id,...o,ref:t})});hC.displayName=fC;var Zu="SelectItem",[N6,mC]=ma(Zu),pC=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:o,disabled:a=!1,textValue:l,...c}=e,d=io(Zu,n),f=ao(Zu,n),p=d.value===o,[m,g]=x.useState(l??""),[v,j]=x.useState(!1),C=gt(t,P=>{var k;return(k=f.itemRefCallback)==null?void 0:k.call(f,P,o,a)}),N=nr(),S=x.useRef("touch"),T=()=>{a||(d.onValueChange(o),d.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(N6,{scope:n,value:o,disabled:a,textId:N,isSelected:p,onItemTextChange:x.useCallback(P=>{g(k=>k||((P==null?void 0:P.textContent)??"").trim())},[]),children:s.jsx(Ad.ItemSlot,{scope:n,value:o,disabled:a,textValue:m,children:s.jsx(tt.div,{role:"option","aria-labelledby":N,"data-highlighted":v?"":void 0,"aria-selected":p&&v,"data-state":p?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:C,onFocus:Ye(c.onFocus,()=>j(!0)),onBlur:Ye(c.onBlur,()=>j(!1)),onClick:Ye(c.onClick,()=>{S.current!=="mouse"&&T()}),onPointerUp:Ye(c.onPointerUp,()=>{S.current==="mouse"&&T()}),onPointerDown:Ye(c.onPointerDown,P=>{S.current=P.pointerType}),onPointerMove:Ye(c.onPointerMove,P=>{var k;S.current=P.pointerType,a?(k=f.onItemLeave)==null||k.call(f):S.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ye(c.onPointerLeave,P=>{var k;P.currentTarget===document.activeElement&&((k=f.onItemLeave)==null||k.call(f))}),onKeyDown:Ye(c.onKeyDown,P=>{var E;((E=f.searchRef)==null?void 0:E.current)!==""&&P.key===" "||(l6.includes(P.key)&&T(),P.key===" "&&P.preventDefault())})})})})});pC.displayName=Zu;var rl="SelectItemText",gC=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:a,...l}=e,c=io(rl,n),d=ao(rl,n),f=mC(rl,n),p=f6(rl,n),[m,g]=x.useState(null),v=gt(t,T=>g(T),f.onItemTextChange,T=>{var P;return(P=d.itemTextRefCallback)==null?void 0:P.call(d,T,f.value,f.disabled)}),j=m==null?void 0:m.textContent,C=x.useMemo(()=>s.jsx("option",{value:f.value,disabled:f.disabled,children:j},f.value),[f.disabled,f.value,j]),{onNativeOptionAdd:N,onNativeOptionRemove:S}=p;return pn(()=>(N(C),()=>S(C)),[N,S,C]),s.jsxs(s.Fragment,{children:[s.jsx(tt.span,{id:f.textId,...l,ref:v}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Pl.createPortal(l.children,c.valueNode):null]})});gC.displayName=rl;var xC="SelectItemIndicator",yC=x.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return mC(xC,n).isSelected?s.jsx(tt.span,{"aria-hidden":!0,...o,ref:t}):null});yC.displayName=xC;var mp="SelectScrollUpButton",vC=x.forwardRef((e,t)=>{const n=ao(mp,e.__scopeSelect),o=Vg(mp,e.__scopeSelect),[a,l]=x.useState(!1),c=gt(t,o.onScrollButtonChange);return pn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollTop>0;l(p)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),a?s.jsx(wC,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});vC.displayName=mp;var pp="SelectScrollDownButton",bC=x.forwardRef((e,t)=>{const n=ao(pp,e.__scopeSelect),o=Vg(pp,e.__scopeSelect),[a,l]=x.useState(!1),c=gt(t,o.onScrollButtonChange);return pn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<p;l(m)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),a?s.jsx(wC,{...e,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});bC.displayName=pp;var wC=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:o,...a}=e,l=ao("SelectScrollButton",n),c=x.useRef(null),d=Md(n),f=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>f(),[f]),pn(()=>{var m;const p=d().find(g=>g.ref.current===document.activeElement);(m=p==null?void 0:p.ref.current)==null||m.scrollIntoView({block:"nearest"})},[d]),s.jsx(tt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ye(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(o,50))}),onPointerMove:Ye(a.onPointerMove,()=>{var p;(p=l.onItemLeave)==null||p.call(l),c.current===null&&(c.current=window.setInterval(o,50))}),onPointerLeave:Ye(a.onPointerLeave,()=>{f()})})}),S6="SelectSeparator",jC=x.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return s.jsx(tt.div,{"aria-hidden":!0,...o,ref:t})});jC.displayName=S6;var gp="SelectArrow",C6=x.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,a=Fd(n),l=io(gp,n),c=ao(gp,n);return l.open&&c.position==="popper"?s.jsx(yN,{...a,...o,ref:t}):null});C6.displayName=gp;var k6="SelectBubbleInput",NC=x.forwardRef(({__scopeSelect:e,value:t,...n},o)=>{const a=x.useRef(null),l=gt(o,a),c=$g(t);return x.useEffect(()=>{const d=a.current;if(!d)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==t&&m){const g=new Event("change",{bubbles:!0});m.call(d,t),d.dispatchEvent(g)}},[c,t]),s.jsx(tt.select,{...n,style:{...vN,...n.style},ref:l,defaultValue:t})});NC.displayName=k6;function SC(e){return e===""||e===void 0}function CC(e){const t=Jr(e),n=x.useRef(""),o=x.useRef(0),a=x.useCallback(c=>{const d=n.current+c;t(d),(function f(p){n.current=p,window.clearTimeout(o.current),p!==""&&(o.current=window.setTimeout(()=>f(""),1e3))})(d)},[t]),l=x.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,a,l]}function kC(e,t,n){const a=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let c=_6(e,Math.max(l,0));a.length===1&&(c=c.filter(p=>p!==n));const f=c.find(p=>p.textValue.toLowerCase().startsWith(a.toLowerCase()));return f!==n?f:void 0}function _6(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var E6=ZS,_C=tC,T6=sC,P6=rC,R6=oC,EC=iC,A6=uC,TC=hC,PC=pC,M6=gC,F6=yC,RC=vC,AC=bC,MC=jC;const vt=E6,bt=T6,ht=x.forwardRef(({className:e,children:t,...n},o)=>s.jsxs(_C,{ref:o,className:Ce("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(P6,{asChild:!0,children:s.jsx(Ww,{className:"h-4 w-4 opacity-50"})})]}));ht.displayName=_C.displayName;const FC=x.forwardRef(({className:e,...t},n)=>s.jsx(RC,{ref:n,className:Ce("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(xP,{className:"h-4 w-4"})}));FC.displayName=RC.displayName;const DC=x.forwardRef(({className:e,...t},n)=>s.jsx(AC,{ref:n,className:Ce("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ww,{className:"h-4 w-4"})}));DC.displayName=AC.displayName;const mt=x.forwardRef(({className:e,children:t,position:n="popper",...o},a)=>s.jsx(R6,{children:s.jsxs(EC,{ref:a,className:Ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...o,children:[s.jsx(FC,{}),s.jsx(A6,{className:Ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(DC,{})]})}));mt.displayName=EC.displayName;const D6=x.forwardRef(({className:e,...t},n)=>s.jsx(TC,{ref:n,className:Ce("px-2 py-1.5 text-sm font-semibold",e),...t}));D6.displayName=TC.displayName;const oe=x.forwardRef(({className:e,children:t,...n},o)=>s.jsxs(PC,{ref:o,className:Ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(F6,{children:s.jsx(nd,{className:"h-4 w-4"})})}),s.jsx(M6,{children:t})]}));oe.displayName=PC.displayName;const O6=x.forwardRef(({className:e,...t},n)=>s.jsx(MC,{ref:n,className:Ce("-mx-1 my-1 h-px bg-muted",e),...t}));O6.displayName=MC.displayName;const I6=["Narrativa","Saggistica","Giallo e Thriller","Romantico","Fantascienza e Fantasy","Biografia e Memorie","Storia","Economia e Business","Sviluppo Personale","Poesia","Libri per Bambini","Young Adult","Cucina","Arte e Fotografia","Viaggi","Scienza e Tecnologia","Altro"];function z6({book:e,onSave:t,onCancel:n,isProcessing:o}){const[a,l]=x.useState(e||{title:"",author_name:"",isbn:"",price:0,cost:0,stock_quantity:0,category:"Narrativa",description:"",cover_image_url:"",publisher:"",publication_year:new Date().getFullYear(),pages:0,language:"Italiano",featured:!1}),c=(f,p)=>{l(m=>({...m,[f]:p}))},d=f=>{f.preventDefault(),t(a)};return s.jsxs(ke,{className:"border-slate-200/60 bg-white/80 backdrop-blur-sm shadow-xl",children:[s.jsx(ut,{className:"border-b border-slate-200/60",children:s.jsx(pt,{className:"text-2xl font-bold text-slate-900",children:e?"Modifica Libro":"Aggiungi Nuovo Libro"})}),s.jsxs("form",{onSubmit:d,children:[s.jsxs(Te,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"title",children:"Titolo *"}),s.jsx(fe,{id:"title",value:a.title,onChange:f=>c("title",f.target.value),required:!0,className:"border-slate-300"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"author_name",children:"Autore *"}),s.jsx(fe,{id:"author_name",value:a.author_name,onChange:f=>c("author_name",f.target.value),required:!0,className:"border-slate-300"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"isbn",children:"ISBN"}),s.jsx(fe,{id:"isbn",value:a.isbn,onChange:f=>c("isbn",f.target.value),className:"border-slate-300"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"category",children:"Categoria"}),s.jsxs(vt,{value:a.category,onValueChange:f=>c("category",f),children:[s.jsx(ht,{className:"border-slate-300",children:s.jsx(bt,{})}),s.jsx(mt,{children:I6.map(f=>s.jsx(oe,{value:f,children:f},f))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"price",children:"Prezzo *"}),s.jsx(fe,{id:"price",type:"number",step:"0.01",value:a.price,onChange:f=>c("price",parseFloat(f.target.value)),required:!0,className:"border-slate-300"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"cost",children:"Costo"}),s.jsx(fe,{id:"cost",type:"number",step:"0.01",value:a.cost,onChange:f=>c("cost",parseFloat(f.target.value)),className:"border-slate-300"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"stock_quantity",children:"Quantit in Giacenza"}),s.jsx(fe,{id:"stock_quantity",type:"number",value:a.stock_quantity,onChange:f=>c("stock_quantity",parseInt(f.target.value)),className:"border-slate-300"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"publisher",children:"Editore"}),s.jsx(fe,{id:"publisher",value:a.publisher,onChange:f=>c("publisher",f.target.value),className:"border-slate-300"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"publication_year",children:"Anno di Pubblicazione"}),s.jsx(fe,{id:"publication_year",type:"number",value:a.publication_year,onChange:f=>c("publication_year",parseInt(f.target.value)),className:"border-slate-300"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"pages",children:"Pagine"}),s.jsx(fe,{id:"pages",type:"number",value:a.pages,onChange:f=>c("pages",parseInt(f.target.value)),className:"border-slate-300"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"cover_image_url",children:"URL Immagine Copertina"}),s.jsx(fe,{id:"cover_image_url",value:a.cover_image_url,onChange:f=>c("cover_image_url",f.target.value),placeholder:"https://...",className:"border-slate-300"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"description",children:"Descrizione"}),s.jsx(ur,{id:"description",value:a.description,onChange:f=>c("description",f.target.value),rows:4,className:"border-slate-300"})]})]}),s.jsxs(Sd,{className:"flex justify-end gap-3 border-t border-slate-200/60 pt-6",children:[s.jsxs(Z,{type:"button",variant:"outline",onClick:n,disabled:o,children:[s.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Annulla"]}),s.jsxs(Z,{type:"submit",disabled:o,className:"bg-slate-900 hover:bg-slate-800",children:[s.jsx(Xo,{className:"w-4 h-4 mr-2"}),o?"Salvataggio...":"Salva Libro"]})]})]})]})}function L6({onBookFound:e}){const[t,n]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(""),d=async()=>{if(!t.trim()){c("Inserisci un codice ISBN");return}a(!0),c("");try{const f=await ue.integrations.Core.InvokeLLM({prompt:`Cerca il libro con ISBN: ${t}. Fornisci dettagli completi inclusi titolo, nome autore, descrizione, editore, anno di pubblicazione, numero di pagine e URL dell'immagine di copertina. Sii accurato e dettagliato. Rispondi in italiano.`,add_context_from_internet:!0,response_json_schema:{type:"object",properties:{title:{type:"string"},author_name:{type:"string"},isbn:{type:"string"},description:{type:"string"},publisher:{type:"string"},publication_year:{type:"number"},pages:{type:"number"},cover_image_url:{type:"string"},category:{type:"string"}}}});f.title?(e({...f,isbn:t,price:0,cost:0,stock_quantity:0,language:"Italiano",featured:!1}),n("")):c("Libro non trovato. Verifica il codice ISBN e riprova.")}catch{c("Impossibile cercare il libro. Riprova.")}a(!1)};return s.jsxs(ke,{className:"border-slate-200/60 bg-white/80 backdrop-blur-sm shadow-xl",children:[s.jsx(ut,{className:"border-b border-slate-200/60",children:s.jsxs(pt,{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[s.jsx(Qr,{className:"w-5 h-5 text-amber-500"}),"Aggiunta Rapida tramite ISBN"]})}),s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx(fe,{placeholder:"Inserisci ISBN (es. 978-0-123456-78-9)",value:t,onChange:f=>{n(f.target.value),c("")},onKeyPress:f=>f.key==="Enter"&&d(),className:"border-slate-300 flex-1",disabled:o}),s.jsx(Z,{onClick:d,disabled:o,className:"bg-slate-900 hover:bg-slate-800",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Gi,{className:"w-4 h-4 mr-2 animate-spin"}),"Ricerca..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Xn,{className:"w-4 h-4 mr-2"}),"Cerca"]})})]}),l&&s.jsx("p",{className:"text-red-600 text-sm mt-2",children:l}),s.jsx("p",{className:"text-slate-500 text-xs mt-3",children:"Inserisci un codice ISBN per recuperare automaticamente i dettagli del libro da internet"})]})]})}function OC(){const[e,t]=x.useState(""),[n,o]=x.useState(!1),[a,l]=x.useState(null),[c,d]=x.useState(!1),f=ln(),{data:p=[],isLoading:m}=Je({queryKey:["books"],queryFn:()=>ue.entities.Book.list("-created_date")}),g=Ke({mutationFn:T=>ue.entities.Book.create(T),onSuccess:()=>{f.invalidateQueries({queryKey:["books"]}),o(!1),l(null)}}),v=Ke({mutationFn:({id:T,bookData:P})=>ue.entities.Book.update(T,P),onSuccess:()=>{f.invalidateQueries({queryKey:["books"]}),o(!1),l(null)}}),j=T=>{a?v.mutate({id:a.id,bookData:T}):g.mutate(T)},C=T=>{l(T),o(!0),d(!1)},N=T=>{l(T),d(!1),o(!0)},S=p.filter(T=>{var P,k,E;return((P=T.title)==null?void 0:P.toLowerCase().includes(e.toLowerCase()))||((k=T.author_name)==null?void 0:k.toLowerCase().includes(e.toLowerCase()))||((E=T.category)==null?void 0:E.toLowerCase().includes(e.toLowerCase()))});return s.jsx("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:!n&&!c?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-slate-900 tracking-tight",children:"Libri"}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Gestisci l'inventario della tua libreria"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Z,{onClick:()=>{l(null),d(!0),o(!1)},variant:"outline",className:"shadow-lg",children:[s.jsx(Xn,{className:"w-5 h-5 mr-2"}),"Aggiungi con ISBN"]}),s.jsxs(Z,{onClick:()=>{l(null),o(!0),d(!1)},className:"bg-slate-900 hover:bg-slate-800 shadow-lg",children:[s.jsx(an,{className:"w-5 h-5 mr-2"}),"Aggiungi Nuovo Libro"]})]})]}),s.jsxs("div",{className:"relative mb-8",children:[s.jsx(Xn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),s.jsx(fe,{placeholder:"Cerca libri per titolo, autore o categoria...",value:e,onChange:T=>t(T.target.value),className:"pl-12 h-12 border-slate-300 bg-white/80 backdrop-blur-sm"})]}),m?s.jsx("div",{className:"text-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-900 mx-auto"})}):S.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-slate-500 text-lg",children:"Nessun libro trovato"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.jsx(_d,{mode:"wait",children:S.map(T=>s.jsx(Yn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsx(WV,{book:T,onEdit:C})},T.id))})})]}):c?s.jsxs(Yn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[s.jsx(Z,{variant:"ghost",onClick:()=>d(!1),className:"mb-4",children:" Torna ai Libri"}),s.jsx(L6,{onBookFound:N})]}):s.jsx(Yn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsx(z6,{book:a,onSave:j,onCancel:()=>{o(!1),l(null)},isProcessing:g.isPending||v.isPending})})})}function IC(){const[e,t]=x.useState(!1),[n,o]=x.useState({name:"",bio:"",photo_url:"",nationality:"",birth_year:""}),a=ln(),{data:l=[]}=Je({queryKey:["authors"],queryFn:()=>ue.entities.Author.list("-created_date")}),{data:c=[]}=Je({queryKey:["books"],queryFn:()=>ue.entities.Book.list()}),d=Ke({mutationFn:m=>ue.entities.Author.create(m),onSuccess:()=>{a.invalidateQueries({queryKey:["authors"]}),t(!1),o({name:"",bio:"",photo_url:"",nationality:"",birth_year:""})}}),f=m=>{m.preventDefault(),d.mutate(n)},p=m=>c.filter(g=>g.author_name===m).length;return s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-slate-900 tracking-tight",children:"Autori"}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Gestisci i profili degli autori"})]}),s.jsxs(Z,{onClick:()=>t(!e),className:"bg-slate-900 hover:bg-slate-800 shadow-lg",children:[s.jsx(an,{className:"w-5 h-5 mr-2"}),"Aggiungi Autore"]})]}),s.jsx(_d,{mode:"wait",children:e&&s.jsx(Yn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-8",children:s.jsxs(ke,{className:"border-slate-200/60 bg-white/80 backdrop-blur-sm shadow-xl",children:[s.jsx(ut,{className:"border-b border-slate-200/60",children:s.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Aggiungi Nuovo Autore"})}),s.jsx(Te,{className:"pt-6",children:s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nome *"}),s.jsx(fe,{value:n.name,onChange:m=>o({...n,name:m.target.value}),required:!0,className:"border-slate-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nazionalit"}),s.jsx(fe,{value:n.nationality,onChange:m=>o({...n,nationality:m.target.value}),className:"border-slate-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Anno di Nascita"}),s.jsx(fe,{type:"number",value:n.birth_year,onChange:m=>o({...n,birth_year:parseInt(m.target.value)}),className:"border-slate-300"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"URL Foto"}),s.jsx(fe,{value:n.photo_url,onChange:m=>o({...n,photo_url:m.target.value}),className:"border-slate-300"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Biografia"}),s.jsx("textarea",{value:n.bio,onChange:m=>o({...n,bio:m.target.value}),rows:4,className:"w-full rounded-md border border-slate-300 p-3"})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Annulla"}),s.jsx(Z,{type:"submit",className:"bg-slate-900 hover:bg-slate-800",children:"Salva Autore"})]})]})})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(m=>s.jsx(ke,{className:"border-slate-200/60 bg-white/80 backdrop-blur-sm hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 flex items-center justify-center overflow-hidden",children:m.photo_url?s.jsx("img",{src:m.photo_url,alt:m.name,className:"w-full h-full object-cover"}):s.jsx(_o,{className:"w-8 h-8 text-slate-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-lg text-slate-900",children:m.name}),m.nationality&&s.jsx("p",{className:"text-sm text-slate-500",children:m.nationality}),m.birth_year&&s.jsxs("p",{className:"text-sm text-slate-500",children:["Nato nel ",m.birth_year]}),s.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[s.jsx(Qr,{className:"w-4 h-4 text-amber-500"}),s.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[p(m.name)," libri"]})]})]})]}),m.bio&&s.jsx("p",{className:"text-sm text-slate-600 mt-4 line-clamp-3",children:m.bio})]})},m.id))})]})}const $6={pending:"bg-yellow-100 text-yellow-800 border-yellow-200",processing:"bg-blue-100 text-blue-800 border-blue-200",shipped:"bg-purple-100 text-purple-800 border-purple-200",delivered:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200"},xw={pending:"in attesa",processing:"in elaborazione",shipped:"spedito",delivered:"consegnato",cancelled:"annullato"};function zC(){var l,c;const[e,t]=x.useState(null),n=ln(),{data:o=[]}=Je({queryKey:["orders"],queryFn:()=>ue.entities.Order.list("-created_date")}),a=Ke({mutationFn:({id:d,status:f})=>ue.entities.Order.update(d,{status:f}),onSuccess:()=>{n.invalidateQueries({queryKey:["orders"]})}});return s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-slate-900 tracking-tight",children:"Ordini"}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Traccia e gestisci gli ordini dei clienti"})]})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:o.length===0?s.jsx(ke,{className:"border-slate-200/60 bg-white/80 backdrop-blur-sm",children:s.jsx(Te,{className:"p-12 text-center",children:s.jsx("p",{className:"text-slate-500 text-lg",children:"Nessun ordine ancora"})})}):o.map(d=>{var f,p;return s.jsx(ke,{className:"border-slate-200/60 bg-white/80 backdrop-blur-sm hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>t(d),children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-slate-900",children:d.customer_name}),s.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[d.order_number,"  ",We(new Date(d.created_date),"d MMM yyyy 'alle' HH:mm",{locale:Et})]})]}),s.jsx($e,{className:`${$6[d.status]} border font-medium`,children:xw[d.status]||d.status})]}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-600 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fu,{className:"w-4 h-4"}),d.customer_email]}),d.customer_phone&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vv,{className:"w-4 h-4"}),d.customer_phone]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-200",children:[s.jsxs("span",{className:"text-sm text-slate-500",children:[((f=d.items)==null?void 0:f.length)||0," articoli"]}),s.jsxs("span",{className:"text-2xl font-bold text-slate-900",children:["",(p=d.total_amount)==null?void 0:p.toFixed(2)]})]})]})},d.id)})}),e&&s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(ke,{className:"border-slate-200/60 bg-white/80 backdrop-blur-sm sticky top-6",children:[s.jsx(ut,{className:"border-b border-slate-200/60",children:s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Dettagli Ordine"})}),s.jsxs(Te,{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Info Cliente"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx("p",{className:"text-slate-600",children:e.customer_name}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(Fu,{className:"w-4 h-4"}),e.customer_email]}),e.customer_phone&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(Vv,{className:"w-4 h-4"}),e.customer_phone]})]})]}),e.shipping_address&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Indirizzo di Spedizione"}),s.jsxs("div",{className:"flex items-start gap-2 text-sm text-slate-600",children:[s.jsx(qo,{className:"w-4 h-4 mt-0.5"}),s.jsx("p",{children:e.shipping_address})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Articoli"}),s.jsx("div",{className:"space-y-2",children:(l=e.items)==null?void 0:l.map((d,f)=>{var p;return s.jsxs("div",{className:"flex justify-between text-sm p-3 bg-slate-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-900",children:d.book_title}),s.jsxs("p",{className:"text-slate-500",children:["Qt: ",d.quantity]})]}),s.jsxs("p",{className:"font-semibold text-slate-900",children:["",(p=d.subtotal)==null?void 0:p.toFixed(2)]})]},f)})})]}),s.jsx("div",{className:"pt-4 border-t border-slate-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-bold text-slate-900",children:"Totale"}),s.jsxs("span",{className:"text-2xl font-bold text-slate-900",children:["",(c=e.total_amount)==null?void 0:c.toFixed(2)]})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Aggiorna Stato"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["pending","processing","shipped","delivered"].map(d=>s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>a.mutate({id:e.id,status:d}),className:e.status===d?"border-slate-900 bg-slate-900 text-white":"",children:xw[d]},d))})]})]})]})})]})]})}function V6({book:e,onEdit:t}){var c;const n=d=>{if(!d)return null;if(d.includes("drive.google.com")&&d.includes("/file/d/")){const f=d.match(/\/file\/d\/([^/]+)/);if(f)return`https://drive.google.com/uc?export=view&id=${f[1]}`}return d},o=e.image_urls&&e.image_urls.length>0?e.image_urls:e.photo_url||e.cover_image_url?[e.photo_url||e.cover_image_url]:[],a=o.length>0?n(o[0]):null,l=o.length>1;return s.jsx(ke,{className:"border-slate-200/60 bg-white/80 backdrop-blur-sm hover:shadow-lg transition-all",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4",children:[a&&s.jsxs("div",{className:"w-24 h-32 flex-shrink-0 bg-slate-100 rounded-lg overflow-hidden relative",children:[s.jsx("img",{src:a,alt:e.titolo_composto,className:"w-full h-full object-cover",onError:d=>{d.target.style.display="none"}}),l&&s.jsxs("div",{className:"absolute top-1 right-1 bg-black/70 text-white text-xs px-1.5 py-0.5 rounded flex items-center gap-1",children:[s.jsx(na,{className:"w-3 h-3"}),o.length]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx($e,{style:{backgroundColor:"#45877F"},className:"text-white font-mono font-bold",children:e.id_univoco}),e.is_incomplete&&s.jsx($e,{className:"bg-orange-500 text-white font-semibold",children:"Scheda Incompleta"}),e.collocazione&&s.jsxs($e,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(qo,{className:"w-3 h-3"}),e.collocazione]}),e.condizione==="Nuovo"&&s.jsx($e,{className:"bg-green-600 text-white",children:"Nuovo"}),e.prima_edizione&&s.jsx($e,{className:"bg-purple-600 text-white",children:"Prima Ed."}),e.autografato&&s.jsx($e,{className:"bg-amber-600 text-white",children:"Autografato"})]}),s.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-1 line-clamp-1",children:e.titolo_composto}),e.autore&&s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:e.autore})]}),s.jsxs(Z,{onClick:()=>t(e),size:"sm",variant:"outline",className:"flex-shrink-0",children:[s.jsx(Ap,{className:"w-4 h-4 mr-1"}),"Modifica"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Prezzo"}),s.jsxs("p",{className:"font-bold text-slate-900",children:["",(c=e.prezzo_online)==null?void 0:c.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Stock"}),s.jsx("p",{className:`font-bold ${e.stock<5?"text-red-600":"text-slate-900"}`,children:e.stock||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Stato"}),s.jsx("p",{className:"text-sm text-slate-700",children:e.stato_conservazione})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Anno"}),s.jsx("p",{className:"text-sm text-slate-700",children:e.anno||"-"})]})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 pt-3 border-t border-slate-200 text-xs text-slate-500",children:[e.editore&&s.jsx("span",{children:e.editore}),e.luogo&&s.jsxs("span",{children:[" ",e.luogo]}),e.legatura&&s.jsxs("span",{children:[" ",e.legatura]}),e.lingua&&s.jsxs("span",{children:[" ",e.lingua]})]})]})]})})})}var Dd="Checkbox",[B6]=gs(Dd),[U6,Bg]=B6(Dd);function W6(e){const{__scopeCheckbox:t,checked:n,children:o,defaultChecked:a,disabled:l,form:c,name:d,onCheckedChange:f,required:p,value:m="on",internal_do_not_use_render:g}=e,[v,j]=Xr({prop:n,defaultProp:a??!1,onChange:f,caller:Dd}),[C,N]=x.useState(null),[S,T]=x.useState(null),P=x.useRef(!1),k=C?!!c||!!C.closest("form"):!0,E={checked:v,disabled:l,setChecked:j,control:C,setControl:N,name:d,form:c,value:m,hasConsumerStoppedPropagationRef:P,required:p,defaultChecked:Yr(a)?!1:a,isFormControl:k,bubbleInput:S,setBubbleInput:T};return s.jsx(U6,{scope:t,...E,children:q6(g)?g(E):o})}var LC="CheckboxTrigger",$C=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...o},a)=>{const{control:l,value:c,disabled:d,checked:f,required:p,setControl:m,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:j,bubbleInput:C}=Bg(LC,e),N=gt(a,m),S=x.useRef(f);return x.useEffect(()=>{const T=l==null?void 0:l.form;if(T){const P=()=>g(S.current);return T.addEventListener("reset",P),()=>T.removeEventListener("reset",P)}},[l,g]),s.jsx(tt.button,{type:"button",role:"checkbox","aria-checked":Yr(f)?"mixed":f,"aria-required":p,"data-state":qC(f),"data-disabled":d?"":void 0,disabled:d,value:c,...o,ref:N,onKeyDown:Ye(t,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:Ye(n,T=>{g(P=>Yr(P)?!0:!P),C&&j&&(v.current=T.isPropagationStopped(),v.current||T.stopPropagation())})})});$C.displayName=LC;var Ug=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:o,checked:a,defaultChecked:l,required:c,disabled:d,value:f,onCheckedChange:p,form:m,...g}=e;return s.jsx(W6,{__scopeCheckbox:n,checked:a,defaultChecked:l,disabled:d,required:c,onCheckedChange:p,name:o,form:m,value:f,internal_do_not_use_render:({isFormControl:v})=>s.jsxs(s.Fragment,{children:[s.jsx($C,{...g,ref:t,__scopeCheckbox:n}),v&&s.jsx(WC,{__scopeCheckbox:n})]})})});Ug.displayName=Dd;var VC="CheckboxIndicator",BC=x.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:o,...a}=e,l=Bg(VC,n);return s.jsx(fr,{present:o||Yr(l.checked)||l.checked===!0,children:s.jsx(tt.span,{"data-state":qC(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});BC.displayName=VC;var UC="CheckboxBubbleInput",WC=x.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:o,hasConsumerStoppedPropagationRef:a,checked:l,defaultChecked:c,required:d,disabled:f,name:p,value:m,form:g,bubbleInput:v,setBubbleInput:j}=Bg(UC,e),C=gt(n,j),N=$g(l),S=Qp(o);x.useEffect(()=>{const P=v;if(!P)return;const k=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(k,"checked").set,L=!a.current;if(N!==l&&I){const R=new Event("click",{bubbles:L});P.indeterminate=Yr(l),I.call(P,Yr(l)?!1:l),P.dispatchEvent(R)}},[v,N,l,a]);const T=x.useRef(Yr(l)?!1:l);return s.jsx(tt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??T.current,required:d,disabled:f,name:p,value:m,form:g,...t,tabIndex:-1,ref:C,style:{...t.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});WC.displayName=UC;function q6(e){return typeof e=="function"}function Yr(e){return e==="indeterminate"}function qC(e){return Yr(e)?"indeterminate":e?"checked":"unchecked"}const Wo=x.forwardRef(({className:e,...t},n)=>s.jsx(Ug,{ref:n,className:Ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(BC,{className:Ce("flex items-center justify-center text-current"),children:s.jsx(nd,{className:"h-4 w-4"})})}));Wo.displayName=Ug.displayName;const H6=Jo("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ps=x.forwardRef(({className:e,variant:t,...n},o)=>s.jsx("div",{ref:o,role:"alert",className:Ce(H6({variant:t}),e),...n}));Ps.displayName="Alert";const K6=x.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:Ce("mb-1 font-medium leading-none tracking-tight",e),...t}));K6.displayName="AlertTitle";const Rs=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ce("text-sm [&_p]:leading-relaxed",e),...t}));Rs.displayName="AlertDescription";function G6({book:e,existingBooks:t,onSave:n,onCancel:o,isProcessing:a}){const[l,c]=x.useState(e||{prezzo_online:"",collocazione:"",stock:1,autore:"",autore_alfa:"",titolo_composto:"",descrizione:"",anno:new Date().getFullYear(),luogo:"",editore:"",collana:"",isbn:"",peso_gr:750,prefatori:"",curatori:"",traduttore:"",illustratore:"",soggetti:"",lingua:"Italiano",lingue_specificate:"",stato_conservazione:"Buono",condizione:"Usato",edizione:"",prima_edizione:!1,autografato:!1,sovraccoperta:!1,legatura:"Brossura",formato:"In-8",volumi:1,pagine:0,id_vecchio:"",foto:"NO",photo_url:""}),[d,f]=x.useState([]),[p,m]=x.useState(!1),[g,v]=x.useState(!1),[j,C]=x.useState(!1),[N,S]=x.useState(null),[T,P]=x.useState(""),[k,E]=x.useState([]);x.useEffect(()=>{if(e&&e.id_univoco)P(e.id_univoco);else{const w=t.map(O=>O.id_univoco).filter(O=>O&&String(O).startsWith("A")).map(O=>parseInt(String(O).substring(1))).filter(O=>!isNaN(O)),q=`A${w.length>0?Math.max(...w)+1:1}`;P(q)}},[e,t]),x.useEffect(()=>{l.condizione==="Nuovo"&&l.stato_conservazione==="Buono"?c(w=>({...w,stato_conservazione:"Nuovo"})):l.condizione==="Usato"&&l.stato_conservazione==="Nuovo"&&c(w=>({...w,stato_conservazione:"Buono"}))},[l.condizione]),x.useEffect(()=>{if(!e&&l.titolo_composto&&l.titolo_composto.length>3){const w=t.filter(F=>{var q,O,Q;return((q=F.titolo_composto)==null?void 0:q.toLowerCase().includes(l.titolo_composto.toLowerCase()))||l.autore&&((O=F.autore)==null?void 0:O.toLowerCase())===l.autore.toLowerCase()&&((Q=F.titolo_composto)==null?void 0:Q.toLowerCase().includes(l.titolo_composto.toLowerCase().split(" ")[0]))});w.length>0?(f(w),m(!0)):(f([]),m(!1))}else f([]),m(!1)},[l.titolo_composto,l.autore,e,t]);const I=()=>{const w=[];return(!l.titolo_composto||l.titolo_composto.trim()==="")&&w.push("Titolo Composto"),(!l.prezzo_online||l.prezzo_online===""||l.prezzo_online<=0)&&w.push("Prezzo Online"),w},L=async()=>{if(!l.titolo_composto||!l.autore){alert("Inserisci almeno titolo e autore prima di completare automaticamente i campi");return}v(!0);try{const w=`Libro: "${l.titolo_composto}" di ${l.autore}${l.editore?`, editore ${l.editore}`:""}${l.anno?`, anno ${l.anno}`:""}`,F=await ue.integrations.Core.InvokeLLM({prompt:`Cerca informazioni dettagliate sul seguente libro: ${w}

Fornisci i dati in questo formato JSON preciso. Se un campo non  disponibile, usa stringa vuota "" per testi e 0 per numeri:

{
  "luogo": "citt di pubblicazione",
  "editore": "nome editore",
  "anno": anno_pubblicazione,
  "isbn": "codice ISBN-10 o ISBN-13",
  "lingua": "Italiano/Inglese/Francese/Tedesco/Spagnolo",
  "pagine": numero_pagine,
  "descrizione": "descrizione breve del contenuto del libro (max 200 parole)",
  "collana": "nome della collana editoriale",
  "formato": "In-8",
  "peso_gr": peso_stimato_grammi,
  "photo_url": ""
}

Rispondi SOLO con il JSON valido, senza testo aggiuntivo.`,add_context_from_internet:!0,response_json_schema:{type:"object",properties:{luogo:{type:"string"},editore:{type:"string"},anno:{type:"number"},isbn:{type:"string"},lingua:{type:"string"},pagine:{type:"number"},descrizione:{type:"string"},collana:{type:"string"},formato:{type:"string"},peso_gr:{type:"number"},photo_url:{type:"string"}}}});F&&(c(q=>({...q,luogo:F.luogo||q.luogo,editore:F.editore||q.editore,anno:F.anno||q.anno,isbn:F.isbn||q.isbn,lingua:F.lingua||q.lingua,pagine:F.pagine||q.pagine,descrizione:F.descrizione||q.descrizione,collana:F.collana||q.collana,formato:F.formato||q.formato,peso_gr:F.peso_gr||q.peso_gr,photo_url:F.photo_url||q.photo_url})),alert("Dati completati con successo!"))}catch(w){console.error("Errore nel completamento automatico:",w),alert("Errore nel recupero dei dati. Riprova.")}finally{v(!1)}},R=async()=>{if(!l.autore||!l.titolo_composto){alert("Inserisci autore e titolo prima di cercare il prezzo");return}C(!0),S(null);try{const w=await ue.integrations.Core.InvokeLLM({prompt:`Cerca i prezzi online per il libro "${l.titolo_composto}" di ${l.autore}.
        
        Condizione: ${l.condizione}
        ${l.isbn?`ISBN: ${l.isbn}`:""}
        
        Trova prezzi da marketplace italiani come Amazon, IBS, Libreria Universitaria, librerie antiquarie online, etc.
        
        Fornisci:
        - prezzo_minimo: prezzo pi basso trovato
        - prezzo_massimo: prezzo pi alto trovato
        - prezzo_medio: media dei prezzi
        
        Rispondi in formato JSON`,add_context_from_internet:!0,response_json_schema:{type:"object",properties:{prezzo_minimo:{type:"number"},prezzo_massimo:{type:"number"},prezzo_medio:{type:"number"}}}});w&&(S({min:w.prezzo_minimo,max:w.prezzo_massimo,avg:w.prezzo_medio}),w.prezzo_medio&&c(F=>({...F,prezzo_online:w.prezzo_medio})))}catch(w){console.error("Errore nella ricerca del prezzo:",w),alert("Errore nella ricerca del prezzo. Riprova.")}finally{C(!1)}},_=w=>[...new Set(t.map(F=>F[w]).filter(Boolean))],W=_("autore"),$=_("editore"),M=_("collana"),D=_("edizione"),B=_("collocazione"),V=(w,F)=>{c(q=>({...q,[w]:F})),k.length>0&&E([])},Y=w=>{n({...w,stock:(w.stock||0)+1})},ne=async w=>{w.preventDefault();const F=I(),q=F.length>0||!l.autore||!l.collocazione||!l.edizione;if(q){const Q=[...F];if(l.autore||Q.push("Autore"),l.collocazione||Q.push("Collocazione"),l.edizione||Q.push("Edizione"),!window.confirm(`Attenzione: i seguenti campi non sono compilati:
${Q.join(", ")}

La scheda verr salvata come incompleta e contrassegnata.
Vuoi continuare?`)){E(F),window.scrollTo({top:0,behavior:"smooth"});return}}const O={...l,is_incomplete:q};m(!1),n(O)},G=l.titolo_composto&&l.autore;return s.jsxs(ke,{className:"border-slate-200/60 bg-white/80 backdrop-blur-sm shadow-xl",children:[s.jsx(ut,{className:"border-b border-slate-200/60",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(pt,{className:"text-2xl font-bold text-slate-900",children:e?"Modifica Libro":"Aggiungi Nuovo Libro"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-slate-500",children:"ID Univoco:"}),s.jsx("span",{className:"text-xl font-bold font-mono px-3 py-1 bg-slate-100 rounded",style:{color:"#45877F"},children:T})]})]})}),s.jsxs("form",{onSubmit:ne,children:[s.jsxs(Te,{className:"p-6 space-y-6",children:[k.length>0&&s.jsxs(Ps,{variant:"destructive",children:[s.jsx(An,{className:"h-4 w-4"}),s.jsxs(Rs,{children:[s.jsx("p",{className:"font-semibold mb-2",children:"Attenzione: campi essenziali mancanti"}),s.jsx("ul",{className:"list-disc list-inside space-y-1",children:k.map((w,F)=>s.jsx("li",{children:w},F))}),s.jsx("p",{className:"mt-2 text-sm",children:'Clicca su "Salva Libro" per confermare il salvataggio come scheda incompleta.'})]})]}),p&&d.length>0&&s.jsx(ke,{className:"border-2",style:{borderColor:"#45877F"},children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(An,{className:"w-6 h-6 mt-0.5",style:{color:"#45877F"}}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-bold text-black mb-2",style:{fontFamily:"Montserrat"},children:["Trovati ",d.length," libri simili gi in inventario"]}),s.jsx("p",{className:"text-sm text-slate-700 mb-4",style:{fontFamily:"DM Sans"},children:"Vuoi aumentare lo stock di uno esistente invece di creare una nuova scheda?"}),s.jsx("div",{className:"space-y-3",children:d.slice(0,3).map(w=>s.jsx("div",{className:"bg-white rounded-lg p-4 border-2 border-slate-200 hover:border-slate-300 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($e,{className:"font-mono font-bold",style:{backgroundColor:"#45877F",color:"white"},children:w.id_univoco}),s.jsxs($e,{variant:"outline",className:"text-xs",children:["Stock: ",w.stock||0]})]}),s.jsx("p",{className:"font-bold text-black text-base mb-1",style:{fontFamily:"Montserrat"},children:w.titolo_composto}),s.jsx("p",{className:"text-sm text-slate-600 mb-2",style:{fontFamily:"DM Sans"},children:w.autore}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs mb-3",style:{fontFamily:"DM Sans"},children:[w.editore&&s.jsxs("div",{className:"text-slate-600",children:[s.jsx("span",{className:"font-semibold",children:"Editore:"})," ",w.editore]}),w.anno&&s.jsxs("div",{className:"text-slate-600",children:[s.jsx("span",{className:"font-semibold",children:"Anno:"})," ",w.anno]}),w.stato_conservazione&&s.jsxs("div",{className:"text-slate-600",children:[s.jsx("span",{className:"font-semibold",children:"Stato:"})," ",w.stato_conservazione]}),w.prezzo_online&&s.jsxs("div",{className:"font-bold text-black",children:[s.jsx("span",{className:"font-semibold",children:"Prezzo:"})," ",w.prezzo_online.toFixed(2)]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.prima_edizione&&s.jsx($e,{className:"bg-green-600 text-white text-xs",children:"Prima Edizione"}),w.autografato&&s.jsx($e,{className:"bg-purple-600 text-white text-xs",children:"Autografato"}),w.sovraccoperta&&s.jsx($e,{className:"bg-blue-600 text-white text-xs",children:"Con Sovraccoperta"}),w.condizione==="Nuovo"&&s.jsx($e,{className:"bg-green-700 text-white text-xs",children:"Nuovo"})]})]}),s.jsxs(Z,{type:"button",size:"sm",onClick:()=>Y(w),className:"btn-primary flex-shrink-0",style:{backgroundColor:"#45877F",color:"white",fontFamily:"Montserrat",fontWeight:600},children:[s.jsx(an,{className:"w-4 h-4 mr-1"}),"+1 Stock"]})]})},w.id_univoco))}),s.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>m(!1),className:"mt-3 w-full border-2",style:{borderColor:"#45877F",color:"#45877F",fontFamily:"Montserrat",fontWeight:600},children:"Crea comunque nuova scheda"})]})]})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 border-b pb-2",children:"Informazioni Base"}),s.jsx(Z,{type:"button",onClick:L,disabled:g||!G,variant:"outline",size:"sm",className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:g?s.jsxs(s.Fragment,{children:[s.jsx(Gi,{className:"w-4 h-4 mr-2 animate-spin"}),"Completamento..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qw,{className:"w-4 h-4 mr-2"}),"Completa Automaticamente"]})})]}),!G&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-900",children:[s.jsx("strong",{children:"Info:"})," Compila almeno titolo e autore per abilitare il completamento automatico"]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ae,{htmlFor:"titolo_composto",className:"flex items-center gap-1",children:["Titolo Composto ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(fe,{id:"titolo_composto",value:l.titolo_composto,onChange:w=>V("titolo_composto",w.target.value),className:k.includes("Titolo Composto")?"border-red-500":""})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"autore",children:"Autore"}),s.jsx(fe,{id:"autore",value:l.autore,onChange:w=>{V("autore",w.target.value);const F=w.target.value;if(F.trim()){const q=F.trim().split(" ");if(q.length>=2){const O=q[q.length-1],Q=q.slice(0,-1).join(" ");V("autore_alfa",`${O}, ${Q}`)}}},list:"autori-list"}),s.jsx("datalist",{id:"autori-list",children:W.map(w=>s.jsx("option",{value:w},w))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"autore_alfa",children:"Autore Alfa"}),s.jsx(fe,{id:"autore_alfa",value:l.autore_alfa,onChange:w=>V("autore_alfa",w.target.value),placeholder:"Cognome, Nome (auto)"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ae,{htmlFor:"prezzo_online",className:"flex items-center gap-1",children:["Prezzo Online () ",s.jsx("span",{className:"text-red-600",children:"*"})]}),s.jsx(Z,{type:"button",onClick:R,disabled:j||!l.autore||!l.titolo_composto,variant:"ghost",size:"sm",className:"h-6 text-xs hover:bg-slate-100",style:{color:"#45877F",fontFamily:"Montserrat",fontWeight:600},children:j?s.jsx(Gi,{className:"w-3 h-3 animate-spin"}):"Cerca online"})]}),s.jsx(fe,{id:"prezzo_online",type:"number",step:"0.01",value:l.prezzo_online,onChange:w=>V("prezzo_online",parseFloat(w.target.value)),className:k.includes("Prezzo Online")?"border-red-500":""}),N&&s.jsx("div",{className:"text-xs space-y-1 p-2 bg-blue-50 rounded border border-blue-200",children:N.min&&N.max&&s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-blue-700",children:[s.jsx("strong",{children:"Min:"})," ",N.min.toFixed(2)]}),s.jsxs("p",{className:"text-blue-700",children:[s.jsx("strong",{children:"Max:"})," ",N.max.toFixed(2)]}),N.avg&&s.jsxs("p",{className:"text-blue-900 font-semibold",children:[s.jsx("strong",{children:"Medio:"})," ",N.avg.toFixed(2)]})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"stock",children:"Stock"}),s.jsx(fe,{id:"stock",type:"number",value:l.stock,onChange:w=>V("stock",parseInt(w.target.value)),min:"0"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"collocazione",children:"Collocazione"}),s.jsx(fe,{id:"collocazione",value:l.collocazione,onChange:w=>V("collocazione",w.target.value),list:"collocazioni-list"}),s.jsx("datalist",{id:"collocazioni-list",children:B.map(w=>s.jsx("option",{value:w},w))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"isbn",children:"ISBN"}),s.jsx(fe,{id:"isbn",value:l.isbn,onChange:w=>V("isbn",w.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 border-b pb-2",children:"Dati di Pubblicazione"}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"editore",children:"Editore"}),s.jsx(fe,{id:"editore",value:l.editore,onChange:w=>V("editore",w.target.value),list:"editori-list"}),s.jsx("datalist",{id:"editori-list",children:$.map(w=>s.jsx("option",{value:w},w))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"anno",children:"Anno"}),s.jsx(fe,{id:"anno",type:"number",value:l.anno,onChange:w=>V("anno",parseInt(w.target.value))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"luogo",children:"Luogo"}),s.jsx(fe,{id:"luogo",value:l.luogo,onChange:w=>V("luogo",w.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"collana",children:"Collana"}),s.jsx(fe,{id:"collana",value:l.collana,onChange:w=>V("collana",w.target.value),list:"collane-list"}),s.jsx("datalist",{id:"collane-list",children:M.map(w=>s.jsx("option",{value:w},w))})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 border-b pb-2",children:"Collaboratori"}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"prefatori",children:"Prefatori"}),s.jsx(fe,{id:"prefatori",value:l.prefatori,onChange:w=>V("prefatori",w.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"curatori",children:"Curatori"}),s.jsx(fe,{id:"curatori",value:l.curatori,onChange:w=>V("curatori",w.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"traduttore",children:"Traduttore"}),s.jsx(fe,{id:"traduttore",value:l.traduttore,onChange:w=>V("traduttore",w.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"illustratore",children:"Illustratore"}),s.jsx(fe,{id:"illustratore",value:l.illustratore,onChange:w=>V("illustratore",w.target.value)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 border-b pb-2",children:"Caratteristiche"}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"condizione",children:"Condizione"}),s.jsxs(vt,{value:l.condizione,onValueChange:w=>V("condizione",w),children:[s.jsx(ht,{children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"Usato",children:"Usato"}),s.jsx(oe,{value:"Nuovo",children:"Nuovo"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"stato_conservazione",children:"Stato di Conservazione"}),s.jsxs(vt,{value:l.stato_conservazione,onValueChange:w=>V("stato_conservazione",w),children:[s.jsx(ht,{children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"Nuovo",children:"Nuovo"}),s.jsx(oe,{value:"Come nuovo",children:"Come nuovo"}),s.jsx(oe,{value:"In ottimo stato",children:"In ottimo stato"}),s.jsx(oe,{value:"Molto buono",children:"Molto buono"}),s.jsx(oe,{value:"Buono",children:"Buono"}),s.jsx(oe,{value:"Accettabile",children:"Accettabile"}),s.jsx(oe,{value:"Mediocre",children:"Mediocre"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"legatura",children:"Legatura"}),s.jsxs(vt,{value:l.legatura,onValueChange:w=>V("legatura",w),children:[s.jsx(ht,{children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"Rilegato",children:"Rilegato"}),s.jsx(oe,{value:"Brossura",children:"Brossura"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"formato",children:"Formato"}),s.jsxs(vt,{value:l.formato,onValueChange:w=>V("formato",w),children:[s.jsx(ht,{children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"In folio",children:"In folio"}),s.jsx(oe,{value:"In-4",children:"In-4"}),s.jsx(oe,{value:"In-8",children:"In-8"}),s.jsx(oe,{value:"In-16",children:"In-16"}),s.jsx(oe,{value:"In-32",children:"In-32"})]})]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"lingua",children:"Lingua"}),s.jsxs(vt,{value:l.lingua,onValueChange:w=>V("lingua",w),children:[s.jsx(ht,{children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"Italiano",children:"Italiano"}),s.jsx(oe,{value:"Inglese",children:"Inglese"}),s.jsx(oe,{value:"Francese",children:"Francese"}),s.jsx(oe,{value:"Tedesco",children:"Tedesco"}),s.jsx(oe,{value:"Spagnolo",children:"Spagnolo"}),s.jsx(oe,{value:"Multilingua",children:"Multilingua"})]})]})]}),l.lingua==="Multilingua"&&s.jsxs("div",{className:"space-y-2 md:col-span-3",children:[s.jsx(ae,{htmlFor:"lingue_specificate",children:"Specifica lingue"}),s.jsx(fe,{id:"lingue_specificate",value:l.lingue_specificate||"",onChange:w=>V("lingue_specificate",w.target.value),placeholder:"es. Italiano, Inglese, Francese"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"pagine",children:"Pagine"}),s.jsx(fe,{id:"pagine",type:"number",value:l.pagine,onChange:w=>V("pagine",parseInt(w.target.value))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"volumi",children:"Volumi"}),s.jsx(fe,{id:"volumi",type:"number",value:l.volumi,onChange:w=>V("volumi",parseInt(w.target.value))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"peso_gr",children:"Peso (gr)"}),s.jsx(fe,{id:"peso_gr",type:"number",value:l.peso_gr,onChange:w=>V("peso_gr",parseInt(w.target.value))})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Wo,{id:"prima_edizione",checked:l.prima_edizione,onCheckedChange:w=>V("prima_edizione",w),className:"data-[state=checked]:bg-black data-[state=checked]:border-black",style:l.prima_edizione?{borderColor:"#45877F",borderWidth:"2px"}:{borderColor:"#cbd5e1"}}),s.jsx(ae,{htmlFor:"prima_edizione",className:"cursor-pointer",style:{fontFamily:"DM Sans",color:l.prima_edizione?"#000":"#64748b",fontWeight:l.prima_edizione?600:400},children:"Prima Edizione"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Wo,{id:"autografato",checked:l.autografato,onCheckedChange:w=>V("autografato",w),className:"data-[state=checked]:bg-black data-[state=checked]:border-black",style:l.autografato?{borderColor:"#45877F",borderWidth:"2px"}:{borderColor:"#cbd5e1"}}),s.jsx(ae,{htmlFor:"autografato",className:"cursor-pointer",style:{fontFamily:"DM Sans",color:l.autografato?"#000":"#64748b",fontWeight:l.autografato?600:400},children:"Autografato"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Wo,{id:"sovraccoperta",checked:l.sovraccoperta,onCheckedChange:w=>V("sovraccoperta",w),className:"data-[state=checked]:bg-black data-[state=checked]:border-black",style:l.sovraccoperta?{borderColor:"#45877F",borderWidth:"2px"}:{borderColor:"#cbd5e1"}}),s.jsx(ae,{htmlFor:"sovraccoperta",className:"cursor-pointer",style:{fontFamily:"DM Sans",color:l.sovraccoperta?"#000":"#64748b",fontWeight:l.sovraccoperta?600:400},children:"Sovraccoperta"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 border-b pb-2",children:"Altro"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"soggetti",children:"Soggetti"}),s.jsx(fe,{id:"soggetti",value:l.soggetti,onChange:w=>V("soggetti",w.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"edizione",children:"Edizione"}),s.jsx(fe,{id:"edizione",value:l.edizione,onChange:w=>V("edizione",w.target.value),list:"edizioni-list"}),s.jsx("datalist",{id:"edizioni-list",children:D.map(w=>s.jsx("option",{value:w},w))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"id_vecchio",children:"ID Vecchio"}),s.jsx(fe,{id:"id_vecchio",value:l.id_vecchio,onChange:w=>V("id_vecchio",w.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"foto",children:"Foto"}),s.jsxs(vt,{value:l.foto,onValueChange:w=>V("foto",w),children:[s.jsx(ht,{children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"SI",children:"SI"}),s.jsx(oe,{value:"NO",children:"NO"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"descrizione",children:"Descrizione"}),s.jsx(ur,{id:"descrizione",rows:3,value:l.descrizione,onChange:w=>V("descrizione",w.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"photo_url",children:"URL Foto"}),s.jsx(fe,{id:"photo_url",type:"url",value:l.photo_url||"",onChange:w=>V("photo_url",w.target.value),placeholder:"https://esempio.com/foto.jpg"})]})]})]}),s.jsxs(Sd,{className:"flex justify-end gap-3 border-t border-slate-200/60 pt-6",children:[s.jsxs(Z,{type:"button",variant:"outline",onClick:o,disabled:a,children:[s.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Annulla"]}),s.jsxs(Z,{type:"submit",disabled:a,className:"btn-primary",style:{backgroundColor:"#45877F",color:"white",fontFamily:"Montserrat",fontWeight:600},children:[s.jsx(Xo,{className:"w-4 h-4 mr-2"}),a?"Salvataggio...":"Salva Libro"]})]})]})]})}function Q6({onBookFound:e}){const[t,n]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState([]),d=async()=>{const f=t.split(/[\n,;\s]+/).map(m=>m.trim()).filter(m=>m.length>0);if(f.length===0){alert("Inserisci almeno un ISBN");return}a(!0),c([]);const p=[];for(const m of f)try{const g=await ue.integrations.Core.InvokeLLM({prompt:`Cerca informazioni dettagliate sul libro con ISBN: ${m}
          Fornisci i seguenti dati in formato JSON:
          {
            "titolo_composto": "titolo completo del libro",
            "autore": "nome completo autore",
            "autore_alfa": "Cognome, Nome",
            "editore": "casa editrice",
            "anno": anno_pubblicazione (numero),
            "luogo": "luogo di pubblicazione",
            "isbn": "${m}",
            "lingua": "Italiano/Inglese/etc",
            "pagine": numero_pagine (numero),
            "descrizione": "descrizione del libro",
            "prezzo_online": prezzo_copertina_euro (numero),
            "peso_gr": peso_grammi (numero),
            "collana": "nome collana se disponibile",
            "formato": "In folio/In-4/In-8/In-16/In-32"
          }`,add_context_from_internet:!0,response_json_schema:{type:"object",properties:{titolo_composto:{type:"string"},autore:{type:"string"},autore_alfa:{type:"string"},editore:{type:"string"},anno:{type:"number"},luogo:{type:"string"},isbn:{type:"string"},lingua:{type:"string"},pagine:{type:"number"},descrizione:{type:"string"},prezzo_online:{type:"number"},peso_gr:{type:"number"},collana:{type:"string"},formato:{type:"string"}}}});g&&g.titolo_composto?(p.push(g),c(v=>[...v,{isbn:m,status:"success",data:g}])):c(v=>[...v,{isbn:m,status:"error",message:"Libro non trovato"}])}catch(g){c(v=>[...v,{isbn:m,status:"error",message:g.message}])}a(!1),p.length>0&&(p.length===1?e(p[0]):e(p))};return s.jsxs(ke,{className:"border-2",style:{borderColor:"#45877F"},children:[s.jsx(ut,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(dm,{className:"w-6 h-6",style:{color:"#45877F"}}),"Ricerca ISBN"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Inserisci uno o pi ISBN (separati da virgola, spazio o a capo)"}),s.jsx(ur,{value:t,onChange:f=>n(f.target.value),placeholder:`9788804668237
9788845292613, 9788807884691`,rows:6,className:"font-mono"})]}),s.jsx(Z,{onClick:d,disabled:o||!t.trim(),className:"w-full",style:{backgroundColor:"#45877F"},children:o?s.jsxs(s.Fragment,{children:[s.jsx(Gi,{className:"w-4 h-4 mr-2 animate-spin"}),"Ricerca in corso..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dm,{className:"w-4 h-4 mr-2"}),"Cerca ",t.split(/[\n,;\s]+/).filter(f=>f.trim()).length>1?"Libri":"Libro"]})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-900",children:[s.jsx("p",{className:"font-semibold mb-1",children:" Suggerimento:"}),s.jsx("p",{className:"text-xs",children:"Puoi inserire pi ISBN contemporaneamente separandoli con virgola, spazio o andando a capo"})]}),l.length>0&&s.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[s.jsxs("h3",{className:"font-semibold text-slate-900",children:["Risultati (",l.length,"):"]}),l.map((f,p)=>s.jsxs("div",{className:`p-3 rounded-lg border flex items-start gap-3 ${f.status==="success"?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[f.status==="success"?s.jsx(ml,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}):s.jsx(An,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-sm font-mono",children:f.isbn}),f.status==="success"?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-slate-900 font-medium",children:f.data.titolo_composto}),s.jsx("p",{className:"text-xs text-slate-600",children:f.data.autore})]}):s.jsx("p",{className:"text-xs text-red-600",children:f.message})]})]},p))]})]})]})}function HC({items:e,onClose:t,entityType:n}){const[o,a]=x.useState("csv"),[l,c]=x.useState("all"),[d,f]=x.useState("all"),p=()=>{let m=[...e];if(l!=="all"){const P=parseInt(l),k=new Date;k.setDate(k.getDate()-P),m=m.filter(E=>new Date(E.created_date)>=k)}d==="zero"&&(m=m.filter(P=>(P.stock||0)===0));const g=n==="Book"?["ID Univoco","Prezzo Online","Collocazione","Stock","Autore","Autore Alfa","Titolo Composto","Descrizione","Anno","Luogo","Editore","Collana","ISBN","Peso Gr","Lingua","Stato Conservazione","Condizione"]:["ID Univoco","Tipo Oggetto","Oggetto","Prezzo Pubblico","Stock","Costo","Contovendita","Proprietario","Giacenza"],v=m.map(P=>n==="Book"?[P.id_univoco,P.prezzo_online,P.collocazione,P.stock,P.autore,P.autore_alfa,P.titolo_composto,P.descrizione,P.anno,P.luogo,P.editore,P.collana,P.isbn,P.peso_gr,P.lingua,P.stato_conservazione,P.condizione]:[P.id_univoco,P.tipo_oggetto,P.oggetto,P.prezzo_pubblico,P.stock,P.costo,P.contovendita,P.proprietario,P.giacenza]),j=o==="csv"?",":"	",C=o==="csv"?"csv":"txt",N=[g.join(j),...v.map(P=>P.map(k=>{const E=k!=null?String(k):"";return o==="csv"?`"${E.replace(/"/g,'""')}"`:E.replace(/\t/g," ").replace(/\n/g," ")}).join(j))].join(`
`),S=new Blob([N],{type:o==="csv"?"text/csv;charset=utf-8;":"text/plain;charset=utf-8;"}),T=document.createElement("a");T.href=URL.createObjectURL(S),T.download=`${n==="Book"?"libri":"oggetti"}_${new Date().toISOString().split("T")[0]}.${C}`,T.click(),t()};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs(ke,{className:"w-full max-w-md",children:[s.jsx(ut,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(pt,{children:"Opzioni Esportazione"}),s.jsx(Z,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(Zn,{className:"w-5 h-5"})})]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"format",children:"Formato"}),s.jsxs(vt,{value:o,onValueChange:a,children:[s.jsx(ht,{id:"format",children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"csv",children:"CSV"}),s.jsx(oe,{value:"txt",children:"TXT (con tabulatore)"})]})]})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"period",children:"Periodo"}),s.jsxs(vt,{value:l,onValueChange:c,children:[s.jsx(ht,{id:"period",children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"all",children:"Tutti"}),s.jsx(oe,{value:"7",children:"Ultimi 7 giorni"}),s.jsx(oe,{value:"15",children:"Ultimi 15 giorni"}),s.jsx(oe,{value:"30",children:"Ultimi 30 giorni"})]})]})]}),s.jsxs("div",{children:[s.jsx(ae,{htmlFor:"stock",children:"Disponibilit"}),s.jsxs(vt,{value:d,onValueChange:f,children:[s.jsx(ht,{id:"stock",children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"all",children:"Tutti"}),s.jsx(oe,{value:"zero",children:"Solo con disponibilit 0"})]})]})]}),s.jsxs(Z,{onClick:p,className:"w-full",style:{backgroundColor:"#45877F"},children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"Esporta"]})]})]})})}function KC({items:e,entityType:t,onClose:n,onUpdate:o}){const[a,l]=x.useState(!1),[c,d]=x.useState(null),[f,p]=x.useState([]),m=async g=>{const v=g.target.files[0];if(!v)return;l(!0),d(null);const j=[];try{const N=(await v.text()).split(/\r?\n/).filter(k=>k.trim());j.push(` File caricato: ${N.length} righe`),j.push(` Tipo entit: ${t}`),j.push(` Items disponibili: ${e.length}`),p([...j]);const S={};for(let k=0;k<N.length;k++){const E=N[k].trim();if(!E)continue;const I=E.indexOf(",");if(I===-1){j.push(` Riga ${k+1} ignorata (no comma): ${E}`);continue}const L=E.substring(0,I).replace(/"/g,"").trim();let R=E.substring(I+1).replace(/"/g,"").trim();if(!L||!R){j.push(` Riga ${k+1} ignorata (vuota): ${E}`);continue}if(R.includes("drive.google.com")&&R.includes("/file/d/")){const _=R.match(/\/file\/d\/([^/]+)/);if(_){const W=R;R=`https://drive.google.com/uc?export=view&id=${_[1]}`,j.push(` Convertito link Drive per ${L}`)}}S[L]||(S[L]=[]),S[L].push(R)}j.push(` Parsed ${Object.keys(S).length} ID univoci`),p([...j]);const T={updated:0,notFound:[],errors:[]},P=t==="Book"?"Book":"OtherItem";j.push(` Entity name: ${P}`),p([...j]);for(const[k,E]of Object.entries(S)){const I=e.find(L=>L.id_univoco===k);if(!I){T.notFound.push(k),j.push(` ${k} non trovato nel database`),p([...j]);continue}try{j.push(` Aggiornamento ${k} (${E.length} immagini)...`),p([...j]);const L={...I,photo_url:E[0],image_urls:E};delete L.id,delete L.created_date,delete L.updated_date,delete L.created_by,await ue.entities[P].update(I.id,L),T.updated++,j.push(` ${k} aggiornato con successo`),p([...j])}catch(L){const R=(L==null?void 0:L.message)||(L==null?void 0:L.toString())||"Errore sconosciuto";T.errors.push({id:k,error:R}),j.push(` ${k} errore: ${R}`),p([...j]),console.error(`Error updating ${k}:`,L)}}d(T),l(!1),T.updated>0&&setTimeout(()=>{o()},500)}catch(C){console.error("Error in handleFileUpload:",C),j.push(` ERRORE CRITICO: ${C.message}`),p([...j]),d({updated:0,notFound:[],errors:[{id:"Sistema",error:C.message}]}),l(!1)}g.target.value=null};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(ke,{className:"w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(ut,{className:"border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(pt,{children:"Importa Link Immagini"}),s.jsx(Z,{variant:"ghost",size:"icon",onClick:n,children:s.jsx(Zn,{className:"w-5 h-5"})})]})}),s.jsxs(Te,{className:"space-y-4 pt-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-blue-900 mb-2 font-semibold",children:"Formato CSV richiesto:"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside mb-3",children:[s.jsx("li",{children:"Prima colonna: ID Univoco"}),s.jsx("li",{children:"Seconda colonna: Link immagine"}),s.jsx("li",{children:"Se ci sono pi immagini per lo stesso ID, aggiungi pi righe"})]}),s.jsxs("div",{className:"mt-3 p-3 bg-white rounded border border-blue-300 font-mono text-xs",children:["A123,https://esempio.com/img1.jpg",s.jsx("br",{}),"A123,https://esempio.com/img2.jpg",s.jsx("br",{}),"OGG00001,https://esempio.com/img3.jpg"]})]}),a&&s.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-6 bg-blue-50",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(Gi,{className:"w-6 h-6 animate-spin text-blue-600"}),s.jsx("span",{className:"font-semibold text-blue-900",children:"Importazione in corso..."})]}),f.length>0&&s.jsx("div",{className:"bg-white rounded p-4 max-h-64 overflow-y-auto border border-blue-200",children:s.jsx("div",{className:"text-xs font-mono space-y-1 text-slate-700",children:f.map((g,v)=>s.jsx("div",{className:"py-0.5",children:g},v))})})]}),!c&&!a&&s.jsx("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-12 text-center hover:border-slate-400 transition-colors",children:s.jsxs("label",{className:"cursor-pointer block",children:[s.jsx("input",{type:"file",accept:".csv,.txt",onChange:m,className:"hidden"}),s.jsx(Jn,{className:"w-16 h-16 mx-auto mb-4 text-slate-400"}),s.jsx("p",{className:"text-base font-semibold text-slate-700 mb-2",children:"Clicca per selezionare file CSV"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Accettiamo file .csv e .txt"})]})}),c&&!a&&s.jsxs("div",{className:"space-y-3",children:[c.updated>0&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:[s.jsx(nd,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-green-900 text-lg",children:" Successo!"}),s.jsxs("p",{className:"text-sm text-green-800",children:[c.updated," elementi aggiornati con le immagini"]})]})]}),c.notFound.length>0&&s.jsx("div",{className:"p-4 bg-amber-50 border-2 border-amber-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(An,{className:"w-6 h-6 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-bold text-amber-900 mb-2",children:[" ",c.notFound.length," ID non trovati nell'inventario:"]}),s.jsx("div",{className:"text-sm text-amber-800 bg-amber-100 p-2 rounded max-h-32 overflow-y-auto",children:c.notFound.join(", ")})]})]})}),c.errors.length>0&&s.jsx("div",{className:"p-4 bg-red-50 border-2 border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(An,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-red-900 mb-2",children:" Errori durante l'importazione:"}),s.jsx("div",{className:"text-sm text-red-800 space-y-2 max-h-48 overflow-y-auto",children:c.errors.map((g,v)=>s.jsxs("div",{className:"bg-red-100 p-2 rounded",children:[s.jsxs("span",{className:"font-semibold",children:[g.id,":"]})," ",g.error]},v))})]})]})}),f.length>0&&s.jsxs("details",{className:"bg-slate-100 rounded-lg p-4 border border-slate-300",children:[s.jsx("summary",{className:"cursor-pointer text-sm font-bold text-slate-700 hover:text-slate-900",children:" Log Dettagliato (clicca per espandere)"}),s.jsx("div",{className:"mt-3 bg-white rounded p-3 max-h-64 overflow-y-auto border border-slate-200",children:s.jsx("div",{className:"text-xs font-mono space-y-1 text-slate-600",children:f.map((g,v)=>s.jsx("div",{className:"py-0.5 border-b border-slate-100 last:border-0",children:g},v))})})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[(c.updated>0||c.errors.length>0||c.notFound.length>0)&&s.jsx(Z,{onClick:()=>{d(null),p([])},variant:"outline",className:"flex-1",children:"Importa Altro File"}),s.jsx(Z,{onClick:n,className:"flex-1",style:{backgroundColor:"#45877F"},children:"Chiudi"})]})]})]})]})})}const As=Vp,Y6=Bp,GC=x.forwardRef(({className:e,...t},n)=>s.jsx(Rl,{ref:n,className:Ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));GC.displayName=Rl.displayName;const us=x.forwardRef(({className:e,children:t,...n},o)=>s.jsxs(Y6,{children:[s.jsx(GC,{}),s.jsxs(Al,{ref:o,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(ld,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Zn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));us.displayName=Al.displayName;const ds=({className:e,...t})=>s.jsx("div",{className:Ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ds.displayName="DialogHeader";const Fo=({className:e,...t})=>s.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fo.displayName="DialogFooter";const fs=x.forwardRef(({className:e,...t},n)=>s.jsx(Ml,{ref:n,className:Ce("text-lg font-semibold leading-none tracking-tight",e),...t}));fs.displayName=Ml.displayName;const X6=x.forwardRef(({className:e,...t},n)=>s.jsx(Fl,{ref:n,className:Ce("text-sm text-muted-foreground",e),...t}));X6.displayName=Fl.displayName;function J6({books:e,onClose:t,onUpdate:n}){const[o,a]=x.useState(!1),[l,c]=x.useState(null),[d,f]=x.useState([]),p=async m=>{const g=m.target.files[0];if(!g)return;a(!0),c(null),f([]);const v=C=>{f(N=>[...N,`${new Date().toLocaleTimeString()}: ${C}`])};v("Inizio lettura file CSV...");const j=new FileReader;j.onload=async C=>{var I;const S=C.target.result.split(`
`).filter(L=>L.trim());if(S.length<2){v("Errore: File vuoto o non valido"),c({success:[],notFound:[],errors:["File vuoto o non valido"]}),a(!1);return}v(`File letto: ${S.length-1} righe di dati`);const T=S[0].split(",").map(L=>L.trim().replace(/"/g,""));v(`Colonne rilevate: ${T.join(", ")}`);const P=[],k=[],E=[];v("Inizio elaborazione righe...");for(let L=1;L<S.length;L++)try{const R=((I=S[L].match(/(".*?"|[^,]+)(?=\s*,|\s*$)/g))==null?void 0:I.map(B=>B.replace(/"/g,"").trim()))||[],_={};T.forEach((B,V)=>{_[B.toLowerCase()]=R[V]});const W=_["id univoco"]||_.id_univoco;if(!W){E.push(`Riga ${L+1}: ID univoco mancante`);continue}const $=e.find(B=>B.id_univoco===W);if(!$){v(` ${W}: Libro non trovato`),k.push(W);continue}const M={...$},D=[];_["prima edizione"]!==void 0&&(M.prima_edizione=_["prima edizione"].toLowerCase()==="true"||_["prima edizione"]==="1"||_["prima edizione"].toLowerCase()==="s",D.push("prima_edizione")),_.autografato!==void 0&&(M.autografato=_.autografato.toLowerCase()==="true"||_.autografato==="1"||_.autografato.toLowerCase()==="s",D.push("autografato")),_.sovraccoperta!==void 0&&(M.sovraccoperta=_.sovraccoperta.toLowerCase()==="true"||_.sovraccoperta==="1"||_.sovraccoperta.toLowerCase()==="s",D.push("sovraccoperta")),await ue.entities.Book.update($.id,M),v(` ${W}: Aggiornato (${D.join(", ")})`),P.push(W)}catch(R){const _=`Riga ${L+1}: ${R.message}`;v(` ${_}`),E.push(_)}v(`Completato: ${P.length} successi, ${k.length} non trovati, ${E.length} errori`),c({success:P,notFound:k,errors:E}),a(!1),P.length>0&&n()},j.readAsText(g),m.target.value=null};return s.jsx(As,{open:!0,onOpenChange:t,children:s.jsxs(us,{className:"max-w-2xl max-h-[80vh] overflow-y-auto bg-white",children:[s.jsx(ds,{className:"bg-white",children:s.jsx(fs,{children:"Importa Campi Libri da CSV"})}),s.jsxs("div",{className:"space-y-4 py-4 bg-white",children:[s.jsxs(Ps,{className:"bg-white",children:[s.jsx(An,{className:"h-4 w-4"}),s.jsxs(Rs,{children:[s.jsx("p",{className:"font-semibold mb-2",children:"Formato CSV richiesto:"}),s.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[s.jsxs("li",{children:["Colonne: ",s.jsx("code",{children:"id univoco, prima edizione, autografato, sovraccoperta"})]}),s.jsx("li",{children:"Valori booleani: true/false, 1/0, s/no"}),s.jsx("li",{children:"Prima riga deve contenere i nomi delle colonne"})]})]})]}),s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[s.jsx("input",{type:"file",accept:".csv",onChange:p,disabled:o,className:"hidden",id:"csv-upload-fields"}),s.jsxs("label",{htmlFor:"csv-upload-fields",className:`cursor-pointer flex flex-col items-center gap-3 ${o?"opacity-50":""}`,children:[s.jsx(Jn,{className:"w-12 h-12",style:{color:"#45877F"}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:o?"Elaborazione...":"Clicca per selezionare il file CSV"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Aggiorna i campi prima edizione, autografato e sovraccoperta"})]})]})]}),d.length>0&&s.jsx("div",{className:"bg-slate-900 text-green-400 p-4 rounded-lg font-mono text-xs max-h-64 overflow-y-auto",children:d.map((m,g)=>s.jsx("div",{className:"mb-1",children:m},g))}),l&&s.jsxs("div",{className:"space-y-3",children:[l.success.length>0&&s.jsxs(Ps,{className:"bg-green-50 border-green-200",children:[s.jsx(ml,{className:"h-4 w-4 text-green-600"}),s.jsxs(Rs,{children:[s.jsxs("p",{className:"font-semibold text-green-800 mb-2",children:[l.success.length," libri aggiornati con successo"]}),s.jsx("div",{className:"text-xs text-green-700 max-h-32 overflow-y-auto",children:l.success.join(", ")})]})]}),l.notFound.length>0&&s.jsxs(Ps,{className:"bg-amber-50 border-amber-200",children:[s.jsx(An,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Rs,{children:[s.jsxs("p",{className:"font-semibold text-amber-800 mb-2",children:[l.notFound.length," libri non trovati"]}),s.jsx("div",{className:"text-xs text-amber-700 max-h-32 overflow-y-auto",children:l.notFound.join(", ")})]})]}),l.errors.length>0&&s.jsxs(Ps,{variant:"destructive",children:[s.jsx(qw,{className:"h-4 w-4"}),s.jsxs(Rs,{children:[s.jsxs("p",{className:"font-semibold mb-2",children:[l.errors.length," errori"]}),s.jsx("div",{className:"text-xs max-h-32 overflow-y-auto",children:l.errors.map((m,g)=>s.jsx("div",{children:m},g))})]})]})]})]}),s.jsx("div",{className:"flex justify-end gap-2 pt-4 border-t bg-white",children:s.jsx(Z,{variant:"outline",onClick:t,children:"Chiudi"})})]})})}function Z6({onBack:e}){const[t,n]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(null),[d,f]=x.useState(!1),[p,m]=x.useState(!1),[g,v]=x.useState(!1),[j,C]=x.useState(!1),[N,S]=x.useState(!1),[T,P]=x.useState(null),[k,E]=x.useState(null),[I,L]=x.useState(!1),[R,_]=x.useState(!1),[W,$]=x.useState(!1),[M,D]=x.useState({autore:"",editore:"",lingua:"",condizione:"",minPrezzo:"",maxPrezzo:"",disponibilita:"all",collocazione:"",collana:"",soggetti:""}),[B,V]=x.useState("-created_date"),Y=ln(),{data:ne=[],isLoading:G}=Je({queryKey:["books"],queryFn:()=>ue.entities.Book.list()}),{data:w=[]}=Je({queryKey:["drafts"],queryFn:async()=>(await ue.entities.Draft.list()).filter(Ee=>Ee.type==="Book")});Ke({mutationFn:ce=>ue.entities.Draft.delete(ce),onSuccess:()=>Y.invalidateQueries({queryKey:["drafts"]})}),Ke({mutationFn:async ce=>(await ue.entities.Draft.delete(ce.id),ce.data),onSuccess:ce=>{Y.invalidateQueries({queryKey:["drafts"]}),E(ce),$(!1),a(!0)}});const F=x.useMemo(()=>{const ce=[...ne],Ee=B.startsWith("-")?B.substring(1):B,re=B.startsWith("-");return ce.sort((se,Pe)=>{let me=se[Ee],Be=Pe[Ee];if(Ee==="id_univoco"){const ie=parseInt((me||"").replace(/\D/g,""))||0,Se=parseInt((Be||"").replace(/\D/g,""))||0;return re?Se-ie:ie-Se}if(me==null&&(me=""),Be==null&&(Be=""),typeof me=="string"){const ie=me.localeCompare(Be);return re?-ie:ie}return re?Be-me:me-Be})},[ne,B]),q=Ke({mutationFn:async ce=>{const Ee=ne.map(se=>se.id_univoco).filter(se=>se&&se.startsWith("A")).map(se=>parseInt(se.substring(1))).filter(se=>!isNaN(se)),re=Ee.length>0?Math.max(...Ee)+1:1;return ce.id_univoco=`A${re}`,ue.entities.Book.create(ce)},onSuccess:()=>{Y.invalidateQueries({queryKey:["books"]}),a(!1),c(null),E(null)}}),O=Ke({mutationFn:async ce=>{const Ee=ne.map(se=>se.id_univoco).filter(se=>se&&se.startsWith("A")).map(se=>parseInt(se.substring(1))).filter(se=>!isNaN(se));let re=Ee.length>0?Math.max(...Ee)+1:1;for(const se of ce)se.id_univoco=`A${re}`,await ue.entities.Book.create(se),re++},onSuccess:()=>{Y.invalidateQueries({queryKey:["books"]}),alert("Libri creati con successo!")}}),Q=Ke({mutationFn:({id:ce,bookData:Ee})=>ue.entities.Book.update(ce,Ee),onSuccess:()=>{Y.invalidateQueries({queryKey:["books"]}),a(!1),c(null),E(null)}}),xe=ce=>{l?Q.mutate({id:l.id,bookData:ce}):q.mutate(ce)},he=ce=>{c(ce),E(null),a(!0)},je=ce=>{Array.isArray(ce)?(O.mutate(ce),f(!1)):(E(ce),f(!1),a(!0))},_e=async ce=>{const Ee=ce.target.files[0];if(!Ee)return;const re=new FileReader;re.onload=async se=>{var ie;const me=se.target.result.split(`
`).filter(Se=>Se.trim()!=="");if(me.length<1)return;const Be=me[0].split(",").map(Se=>Se.replace(/"/g,"").trim());for(let Se=1;Se<me.length;Se++){const it=((ie=me[Se].match(/(".*?"|[^,]+)(?=\s*,|\s*$)/g))==null?void 0:ie.map(xt=>xt.replace(/"/g,"").trim()))||[];if(it.length===0||it.every(xt=>xt===""))continue;const Xe={};Be.forEach((xt,tn)=>{const lt=it[tn];if(lt!==void 0){const bn={"ID Univoco":"id_univoco","Prezzo Online":"prezzo_online",Collocazione:"collocazione",Stock:"stock",Autore:"autore","Autore Alfa":"autore_alfa","Titolo Composto":"titolo_composto",Descrizione:"descrizione",Anno:"anno",Luogo:"luogo",Editore:"editore",Collana:"collana",ISBN:"isbn","Peso Gr":"peso_gr",Prefatori:"prefatori",Curatori:"curatori",Traduttore:"traduttore",Illustratore:"illustratore",Soggetti:"soggetti",Lingua:"lingua","Stato Conservazione":"stato_conservazione",Condizione:"condizione",Edizione:"edizione","Prima Edizione":"prima_edizione",Autografato:"autografato",Sovraccoperta:"sovraccoperta",Legatura:"legatura",Formato:"formato",Volumi:"volumi",Pagine:"pagine","ID Vecchio":"id_vecchio",Foto:"foto","Cover Image URL":"cover_image_url"}[xt];bn&&(lt.toLowerCase()==="true"?Xe[bn]=!0:lt.toLowerCase()==="false"?Xe[bn]=!1:!isNaN(Number(lt))&&["prezzo_online","stock","anno","peso_gr","volumi","pagine"].includes(bn)?Xe[bn]=Number(lt):Xe[bn]=lt)}});try{await ue.entities.Book.create(Xe)}catch(xt){console.error("Error creating book:",xt)}}Y.invalidateQueries({queryKey:["books"]})},re.readAsText(Ee),ce.target.value=null},le=ce=>ce?ce.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[]/g,"c").replace(/[]/g,"s").replace(/[]/g,"z").replace(//g,"d").replace(//g,"n").replace(//g,"l").replace(//g,"o").replace(//g,"ae").replace(//g,"oe").replace(//g,"ss"):"",ve=x.useMemo(()=>F.filter(ce=>ce.is_incomplete===!0).length,[F]),{filteredBooks:we,outOfStockMatchingCount:Ie}=x.useMemo(()=>{const ce=t||M.autore||M.editore||M.lingua||M.condizione||M.minPrezzo||M.maxPrezzo||M.collocazione||M.collana||M.soggetti||M.disponibilita!=="all",Ee=F.filter(Pe=>{const me=le(t),Be=t===""||le(Pe.titolo_composto).includes(me)||le(Pe.autore).includes(me)||le(Pe.id_univoco).includes(me)||le(Pe.isbn).includes(me)||le(Pe.editore).includes(me),ie=!M.autore||le(Pe.autore).includes(le(M.autore)),Se=!M.editore||le(Pe.editore).includes(le(M.editore)),it=!M.lingua||Pe.lingua===M.lingua,Xe=!M.condizione||Pe.condizione===M.condizione,xt=!M.collocazione||le(Pe.collocazione).includes(le(M.collocazione)),tn=!M.collana||le(Pe.collana).includes(le(M.collana)),lt=!M.soggetti||le(Pe.soggetti).includes(le(M.soggetti)),Rt=(!M.minPrezzo||Pe.prezzo_online>=parseFloat(M.minPrezzo))&&(!M.maxPrezzo||Pe.prezzo_online<=parseFloat(M.maxPrezzo)),bn=M.disponibilita==="all"||M.disponibilita==="available"&&Pe.stock>0||M.disponibilita==="unavailable"&&Pe.stock===0;return Be&&ie&&Se&&it&&Xe&&Rt&&bn&&xt&&tn&&lt}),re=ce?Ee.filter(Pe=>Pe.stock===0).length:0;return{filteredBooks:R?Ee:Ee.filter(Pe=>Pe.stock>0),outOfStockMatchingCount:re}},[F,t,M,R]);return d?s.jsxs("div",{className:"p-6 md:p-8 max-w-3xl mx-auto",children:[s.jsxs(Z,{variant:"ghost",onClick:()=>f(!1),className:"mb-6",children:[s.jsx(um,{className:"w-5 h-5 mr-2"}),"Torna all'Inventario"]}),s.jsx(Q6,{onBookFound:je})]}):s.jsx("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:o?s.jsx(Yn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsx(G6,{book:l||k,existingBooks:ne,onSave:xe,onCancel:()=>{a(!1),c(null),E(null)},isProcessing:q.isPending||Q.isPending})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx(Z,{variant:"ghost",onClick:e,size:"icon",children:s.jsx(um,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-4xl font-bold text-slate-900 tracking-tight",children:"Inventario Libri"}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Gestisci il catalogo completo dei libri"})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(Z,{variant:"outline",onClick:()=>f(!0),children:[s.jsx(dm,{className:"w-5 h-5 mr-2"}),"ISBN"]}),s.jsxs(Z,{variant:"outline",onClick:()=>C(!0),children:[s.jsx(na,{className:"w-5 h-5 mr-2"}),"Importa Link Immagini"]}),s.jsxs(Z,{variant:"outline",onClick:()=>L(!0),children:[s.jsx(Jn,{className:"w-5 h-5 mr-2"}),"Importa Campi"]}),s.jsxs(Z,{variant:"outline",onClick:()=>v(!0),children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"Esporta"]}),s.jsx(Z,{variant:"outline",asChild:!0,children:s.jsxs("label",{className:"flex items-center cursor-pointer px-4 py-2 text-sm font-medium",children:[s.jsx(Jn,{className:"w-5 h-5 mr-2"}),"Importa",s.jsx("input",{type:"file",accept:".csv",onChange:_e,className:"hidden"})]})}),s.jsxs(Z,{onClick:()=>{c(null),E(null),a(!0)},className:"btn-primary shadow-lg",style:{backgroundColor:"#45877F",color:"white",fontFamily:"Montserrat",fontWeight:600},children:[s.jsx(an,{className:"w-5 h-5 mr-2"}),"Aggiungi"]})]})]}),s.jsxs("div",{className:"space-y-4 mb-8",children:[ve>0&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsxs("p",{className:"text-red-800 font-bold mb-3",children:["Attenzione: ",ve," ",ve===1?"scheda incompleta":"schede incomplete"]}),s.jsx("div",{className:"space-y-2",children:F.filter(ce=>ce.is_incomplete===!0).map(ce=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-red-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{className:"font-mono",style:{backgroundColor:"#45877F",color:"white"},children:ce.id_univoco}),s.jsx("span",{className:"text-sm font-semibold",children:ce.titolo_composto||"Senza titolo"})]}),s.jsx(Z,{size:"sm",onClick:()=>he(ce),style:{backgroundColor:"#45877F"},className:"text-white",children:"Completa"})]},ce.id))})]}),Ie>0&&!R&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 text-sm",children:s.jsxs("p",{className:"text-amber-800",children:[s.jsx("strong",{children:"Nota:"})," ",Ie," ",Ie===1?"libro ha":"libri hanno"," stock = 0 e ",Ie===1?"corrisponde":"corrispondono"," ai criteri di ricerca."," ",s.jsx("button",{onClick:()=>_(!0),className:"underline font-semibold hover:text-amber-900",children:"Vuoi visualizzarli?"})]})}),s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),s.jsx(fe,{placeholder:"Cerca per ID, titolo, autore, ISBN o editore...",value:t,onChange:ce=>n(ce.target.value),className:"pl-12 h-12 border-slate-300 bg-white/80 backdrop-blur-sm"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Z,{variant:"outline",onClick:()=>m(!p),className:"flex items-center gap-2",children:[s.jsx(Rp,{className:"w-4 h-4"}),p?"Nascondi Filtri":"Mostra Filtri"]}),s.jsxs(vt,{value:B,onValueChange:V,children:[s.jsx(ht,{className:"w-48",children:s.jsx(bt,{placeholder:"Ordina per..."})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"-created_date",children:"Pi recenti"}),s.jsx(oe,{value:"created_date",children:"Meno recenti"}),s.jsx(oe,{value:"id_univoco",children:"ID crescente"}),s.jsx(oe,{value:"-id_univoco",children:"ID decrescente"}),s.jsx(oe,{value:"titolo_composto",children:"Titolo A-Z"}),s.jsx(oe,{value:"-titolo_composto",children:"Titolo Z-A"}),s.jsx(oe,{value:"autore",children:"Autore A-Z"}),s.jsx(oe,{value:"-autore",children:"Autore Z-A"}),s.jsx(oe,{value:"prezzo_online",children:"Prezzo crescente"}),s.jsx(oe,{value:"-prezzo_online",children:"Prezzo decrescente"}),s.jsx(oe,{value:"stock",children:"Stock crescente"}),s.jsx(oe,{value:"-stock",children:"Stock decrescente"})]})]})]}),p&&s.jsxs(Yn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Autore"}),s.jsx(fe,{placeholder:"Filtra per autore",value:M.autore,onChange:ce=>D({...M,autore:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Editore"}),s.jsx(fe,{placeholder:"Filtra per editore",value:M.editore,onChange:ce=>D({...M,editore:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Collocazione"}),s.jsx(fe,{placeholder:"Filtra per collocazione",value:M.collocazione,onChange:ce=>D({...M,collocazione:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Collana"}),s.jsx(fe,{placeholder:"Filtra per collana",value:M.collana,onChange:ce=>D({...M,collana:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Soggetti"}),s.jsx(fe,{placeholder:"Filtra per soggetti",value:M.soggetti,onChange:ce=>D({...M,soggetti:ce.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Lingua"}),s.jsxs(vt,{value:M.lingua,onValueChange:ce=>D({...M,lingua:ce}),children:[s.jsx(ht,{children:s.jsx(bt,{placeholder:"Tutte"})}),s.jsxs(mt,{children:[s.jsx(oe,{value:null,children:"Tutte"}),s.jsx(oe,{value:"Italiano",children:"Italiano"}),s.jsx(oe,{value:"Inglese",children:"Inglese"}),s.jsx(oe,{value:"Francese",children:"Francese"}),s.jsx(oe,{value:"Tedesco",children:"Tedesco"}),s.jsx(oe,{value:"Spagnolo",children:"Spagnolo"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Condizione"}),s.jsxs(vt,{value:M.condizione,onValueChange:ce=>D({...M,condizione:ce}),children:[s.jsx(ht,{children:s.jsx(bt,{placeholder:"Tutte"})}),s.jsxs(mt,{children:[s.jsx(oe,{value:null,children:"Tutte"}),s.jsx(oe,{value:"Nuovo",children:"Nuovo"}),s.jsx(oe,{value:"Usato",children:"Usato"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Disponibilit"}),s.jsxs(vt,{value:M.disponibilita,onValueChange:ce=>D({...M,disponibilita:ce}),children:[s.jsx(ht,{children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"all",children:"Tutti"}),s.jsx(oe,{value:"available",children:"Disponibili"}),s.jsx(oe,{value:"unavailable",children:"Non disponibili"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Prezzo min ()"}),s.jsx(fe,{type:"number",step:"0.01",placeholder:"0",value:M.minPrezzo,onChange:ce=>D({...M,minPrezzo:ce.target.value})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Prezzo max ()"}),s.jsx(fe,{type:"number",step:"0.01",placeholder:"",value:M.maxPrezzo,onChange:ce=>D({...M,maxPrezzo:ce.target.value})})]})]})]}),s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>D({autore:"",editore:"",lingua:"",condizione:"",minPrezzo:"",maxPrezzo:"",disponibilita:"all",collocazione:"",collana:"",soggetti:""}),className:"mt-4",children:"Azzera Filtri"})]})]}),s.jsxs("div",{className:"mb-4 text-sm text-slate-600",children:["Trovati ",s.jsx("strong",{children:we.length})," libri"]}),G?s.jsx("div",{className:"text-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-900 mx-auto"})}):we.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-slate-500 text-lg",children:"Nessun libro trovato"})}):s.jsx("div",{className:"space-y-3",children:s.jsx(_d,{mode:"wait",children:we.map(ce=>s.jsx(Yn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsx(V6,{book:ce,onEdit:he})},ce.id))})}),j&&s.jsx(KC,{items:ne,entityType:"Book",onClose:()=>C(!1),onUpdate:()=>Y.invalidateQueries({queryKey:["books"]})}),g&&s.jsx(HC,{items:we,onClose:()=>v(!1),entityType:"Book"}),I&&s.jsx(J6,{books:ne,onClose:()=>L(!1),onUpdate:()=>Y.invalidateQueries({queryKey:["books"]})})]})})}function eB({item:e,onEdit:t}){var f,p,m,g;const n=v=>{if(!v)return null;if(v.includes("drive.google.com")&&v.includes("/file/d/")){const j=v.match(/\/file\/d\/([^/]+)/);if(j)return`https://drive.google.com/uc?export=view&id=${j[1]}`}return v},o=e.image_urls&&e.image_urls.length>0?e.image_urls:e.photo_url||e.cover_image_url?[e.photo_url||e.cover_image_url]:[],a=o.length>0?n(o[0]):null,l=o.length>1,c=e.contovendita==="SI",d=(e.stock||0)-(e.venduto||0);return s.jsx(ke,{className:"border-slate-200/60 bg-white/80 backdrop-blur-sm hover:shadow-lg transition-all",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex gap-4",children:[a&&s.jsxs("div",{className:"w-24 h-32 flex-shrink-0 bg-slate-100 rounded-lg overflow-hidden relative",children:[s.jsx("img",{src:a,alt:e.oggetto,className:"w-full h-full object-cover",onError:v=>{v.target.style.display="none"}}),l&&s.jsxs("div",{className:"absolute top-1 right-1 bg-black/70 text-white text-xs px-1.5 py-0.5 rounded flex items-center gap-1",children:[s.jsx(na,{className:"w-3 h-3"}),o.length]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx($e,{style:{backgroundColor:"#45877F"},className:"text-white font-mono font-bold",children:e.id_univoco}),e.is_incomplete&&s.jsx($e,{className:"bg-orange-500 text-white font-semibold",children:"Scheda Incompleta"}),s.jsx($e,{variant:"outline",children:e.tipo_oggetto}),c&&s.jsx($e,{className:"bg-blue-600 text-white",children:"Conto Vendita"})]}),s.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-1 line-clamp-1",children:e.oggetto}),c&&e.proprietario&&s.jsxs("p",{className:"text-sm text-slate-600",children:["Proprietario: ",e.proprietario]})]}),s.jsxs(Z,{onClick:()=>t(e),size:"sm",variant:"outline",className:"flex-shrink-0",children:[s.jsx(Ap,{className:"w-4 h-4 mr-1"}),"Modifica"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Prezzo"}),s.jsxs("p",{className:"font-bold text-slate-900",children:["",(f=e.prezzo_pubblico)==null?void 0:f.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Stock"}),s.jsx("p",{className:"font-bold text-slate-900",children:e.stock||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Giacenza"}),s.jsx("p",{className:`font-bold ${d<1?"text-red-600":"text-slate-900"}`,children:d})]}),c&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Da Pagare"}),s.jsxs("p",{className:"font-bold text-amber-600",children:["",((p=e.da_pagare_art)==null?void 0:p.toFixed(2))||"0.00"]})]})]}),c&&s.jsx("div",{className:"mt-3 pt-3 border-t border-slate-200",children:s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500",children:"Venduto"}),s.jsx("p",{className:"font-semibold text-slate-700",children:e.venduto||0})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500",children:"Ricavo Fornitore"}),s.jsxs("p",{className:"font-semibold text-blue-600",children:["",((m=e.ricavo_fornitore)==null?void 0:m.toFixed(2))||"0.00"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-500",children:"Ricavo Libreria"}),s.jsxs("p",{className:"font-semibold text-green-600",children:["",((g=e.ricavo_libreria)==null?void 0:g.toFixed(2))||"0.00"]})]})]})})]})]})})})}const tB={Opere:"OPE",Vinili:"VIN",Giochi:"GIO",Oggetti:"OGG","Libri in contovendita":"LIC"};function nB({item:e,existingItems:t,onSave:n,onCancel:o,isProcessing:a}){const[l,c]=x.useState(e||{tipo_oggetto:"Oggetti",contovendita:"NO",proprietario:"",tel_proprietario:"",mail_proprietario:"",oggetto:"",prezzo_pubblico:0,venduto:0,da_pagare:0,stock:0,costo:0,fornitore_pagato:"NO",photo_url:""}),[d,f]=x.useState(""),[p,m]=x.useState([]),[g,v]=x.useState(!1);x.useEffect(()=>{if(e&&e.id_univoco)f(e.id_univoco);else{const k=tB[l.tipo_oggetto]||"OGG",E=t.filter(L=>{var R;return(R=L.id_univoco)==null?void 0:R.startsWith(k)}).map(L=>parseInt(L.id_univoco.substring(k.length))).filter(L=>!isNaN(L)),I=E.length>0?Math.max(...E)+1:1;f(`${k}${String(I).padStart(5,"0")}`)}},[e,t,l.tipo_oggetto]),x.useEffect(()=>{if(!e&&l.oggetto&&l.oggetto.length>3&&l.tipo_oggetto){const k=t.filter(E=>{var I;return((I=E.oggetto)==null?void 0:I.toLowerCase().includes(l.oggetto.toLowerCase()))&&E.tipo_oggetto===l.tipo_oggetto});k.length>0?(m(k),v(!0)):(m([]),v(!1))}else m([]),v(!1)},[l.oggetto,l.tipo_oggetto,e,t]);const C=[...new Set(t.filter(k=>k.contovendita==="SI"&&k.proprietario).map(k=>({nome:k.proprietario,tel:k.tel_proprietario,mail:k.mail_proprietario})))],N=k=>{const E=k.target.value,I=C.find(L=>L.nome===E);c(I?{...l,proprietario:I.nome,tel_proprietario:I.tel||"",mail_proprietario:I.mail||""}:{...l,proprietario:E})},S=async k=>{k.preventDefault();const E=[];(!l.oggetto||l.oggetto.trim()==="")&&E.push("Oggetto"),(!l.prezzo_pubblico||l.prezzo_pubblico===0)&&E.push("Prezzo Pubblico"),l.tipo_oggetto||E.push("Tipo Oggetto");const I=E.length>0;if(I&&!window.confirm(`Attenzione: i seguenti campi non sono compilati:
${E.join(", ")}

La scheda verr salvata come incompleta e contrassegnata.
Vuoi continuare?`))return;const L={...l,is_incomplete:I};v(!1),n(L)},T=k=>{const E=(k.stock||0)+(l.stock||1);n({...k,stock:E})},P=l.contovendita==="SI";return s.jsxs(ke,{className:"border-slate-200/60 bg-white/80 backdrop-blur-sm shadow-xl",children:[s.jsx(ut,{className:"border-b border-slate-200/60",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(pt,{className:"text-2xl font-bold text-slate-900",children:e?"Modifica Oggetto":"Aggiungi Nuovo Oggetto"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-slate-500",children:"ID Univoco:"}),s.jsx("span",{className:"text-xl font-bold font-mono px-3 py-1 bg-slate-100 rounded",style:{color:"#45877F"},children:d})]})]})}),s.jsxs("form",{onSubmit:S,children:[s.jsxs(Te,{className:"p-6 space-y-6",children:[g&&p.length>0&&s.jsx(ke,{className:"border-2",style:{borderColor:"#45877F"},children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(An,{className:"w-6 h-6 mt-0.5",style:{color:"#45877F"}}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-bold text-black mb-2",children:["Trovati ",p.length," oggetti simili gi in inventario"]}),s.jsx("p",{className:"text-sm text-slate-700 mb-4",children:"Vuoi aumentare lo stock di uno esistente invece di creare una nuova scheda?"}),s.jsx("div",{className:"space-y-3",children:p.slice(0,3).map(k=>{var E;return s.jsx("div",{className:"bg-white rounded-lg p-4 border-2 border-slate-200",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($e,{className:"font-mono font-bold",style:{backgroundColor:"#45877F",color:"white"},children:k.id_univoco}),s.jsxs($e,{variant:"outline",children:["Stock: ",k.stock||0]})]}),s.jsx("p",{className:"font-bold text-black mb-1",children:k.oggetto}),s.jsxs("p",{className:"text-sm text-slate-600",children:["",(E=k.prezzo_pubblico)==null?void 0:E.toFixed(2)]})]}),s.jsxs(Z,{type:"button",size:"sm",onClick:()=>T(k),style:{backgroundColor:"#45877F"},className:"text-white",children:[s.jsx(an,{className:"w-4 h-4 mr-1"}),"+",l.stock||1," Stock"]})]})},k.id_univoco)})}),s.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>v(!1),className:"mt-3 w-full border-2",style:{borderColor:"#45877F",color:"#45877F"},children:"Crea comunque nuova scheda"})]})]})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 border-b pb-2",children:"Informazioni Base"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"tipo_oggetto",children:"Tipo Oggetto"}),s.jsxs(vt,{value:l.tipo_oggetto,onValueChange:k=>c({...l,tipo_oggetto:k}),children:[s.jsx(ht,{children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"Opere",children:"Opere (OPE)"}),s.jsx(oe,{value:"Vinili",children:"Vinili (VIN)"}),s.jsx(oe,{value:"Giochi",children:"Giochi (GIO)"}),s.jsx(oe,{value:"Oggetti",children:"Oggetti (OGG)"}),s.jsx(oe,{value:"Libri in contovendita",children:"Libri in contovendita (LIC)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"contovendita",children:"Conto Vendita"}),s.jsxs(vt,{value:l.contovendita,onValueChange:k=>c({...l,contovendita:k}),children:[s.jsx(ht,{children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"SI",children:"SI"}),s.jsx(oe,{value:"NO",children:"NO"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"oggetto",children:"Descrizione Oggetto *"}),s.jsx(fe,{id:"oggetto",value:l.oggetto,onChange:k=>c({...l,oggetto:k.target.value})})]})]}),P&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 border-b pb-2",children:"Dati Proprietario"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"proprietario",children:"Nome Proprietario"}),s.jsx(fe,{id:"proprietario",value:l.proprietario,onChange:N,list:"owners-list"}),s.jsx("datalist",{id:"owners-list",children:C.map((k,E)=>s.jsx("option",{value:k.nome},E))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"tel_proprietario",children:"Telefono"}),s.jsx(fe,{id:"tel_proprietario",value:l.tel_proprietario,onChange:k=>c({...l,tel_proprietario:k.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"mail_proprietario",children:"Email"}),s.jsx(fe,{id:"mail_proprietario",type:"email",value:l.mail_proprietario,onChange:k=>c({...l,mail_proprietario:k.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 border-b pb-2",children:"Prezzi e Quantit"}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"prezzo_pubblico",children:"Prezzo Pubblico () *"}),s.jsx(fe,{id:"prezzo_pubblico",type:"number",step:"0.01",value:l.prezzo_pubblico,onChange:k=>c({...l,prezzo_pubblico:parseFloat(k.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"costo",children:"Costo ()"}),s.jsx(fe,{id:"costo",type:"number",step:"0.01",value:l.costo,onChange:k=>c({...l,costo:parseFloat(k.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"stock",children:"Stock"}),s.jsx(fe,{id:"stock",type:"number",value:l.stock,onChange:k=>c({...l,stock:parseInt(k.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"venduto",children:"Venduto"}),s.jsx(fe,{id:"venduto",type:"number",value:l.venduto,onChange:k=>c({...l,venduto:parseInt(k.target.value)})})]})]}),P&&s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"da_pagare",children:"Da Pagare (pezzi)"}),s.jsx(fe,{id:"da_pagare",type:"number",value:l.da_pagare,onChange:k=>c({...l,da_pagare:parseInt(k.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"fornitore_pagato",children:"Fornitore Pagato"}),s.jsxs(vt,{value:l.fornitore_pagato,onValueChange:k=>c({...l,fornitore_pagato:k}),children:[s.jsx(ht,{children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"SI",children:"SI"}),s.jsx(oe,{value:"NO",children:"NO"})]})]})]})]})]}),s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Giacenza:"}),s.jsx("span",{className:"font-bold",children:(l.stock||0)-(l.venduto||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Ricavo Libreria:"}),s.jsxs("span",{className:"font-bold text-green-600",children:["",((l.prezzo_pubblico||0)-(l.costo||0)).toFixed(2)]})]}),P&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Ricavo Fornitore:"}),s.jsxs("span",{className:"font-bold text-blue-600",children:["",((l.costo||0)*(l.venduto||0)).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Da Pagare per Articolo:"}),s.jsxs("span",{className:"font-bold text-amber-600",children:["",((l.costo||0)*(l.da_pagare||0)).toFixed(2)]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"photo_url",children:"URL Foto"}),s.jsx(fe,{id:"photo_url",type:"url",value:l.photo_url||"",onChange:k=>c({...l,photo_url:k.target.value}),placeholder:"https://esempio.com/foto.jpg"})]})]}),s.jsxs(Sd,{className:"flex justify-end gap-3 border-t border-slate-200/60 pt-6",children:[s.jsxs(Z,{type:"button",variant:"outline",onClick:o,disabled:a,children:[s.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Annulla"]}),s.jsxs(Z,{type:"submit",disabled:a,style:{backgroundColor:"#45877F"},className:"text-white",children:[s.jsx(Xo,{className:"w-4 h-4 mr-2"}),a?"Salvataggio...":"Salva Oggetto"]})]})]})]})}function sB({items:e,onClose:t,onUpdate:n}){const[o,a]=x.useState(!1),[l,c]=x.useState(null),[d,f]=x.useState([]),p=async m=>{const g=m.target.files[0];if(!g)return;a(!0),c(null),f([]);const v=C=>{f(N=>[...N,`${new Date().toLocaleTimeString()}: ${C}`])};v("Inizio lettura file CSV...");const j=new FileReader;j.onload=async C=>{var I;const S=C.target.result.split(`
`).filter(L=>L.trim());if(S.length<2){v("Errore: File vuoto o non valido"),c({success:[],notFound:[],errors:["File vuoto o non valido"]}),a(!1);return}v(`File letto: ${S.length-1} righe di dati`);const T=S[0].split(",").map(L=>L.trim().replace(/"/g,""));v(`Colonne rilevate: ${T.join(", ")}`);const P=[],k=[],E=[];v("Inizio elaborazione righe...");for(let L=1;L<S.length;L++)try{const R=((I=S[L].match(/(".*?"|[^,]+)(?=\s*,|\s*$)/g))==null?void 0:I.map(D=>D.replace(/"/g,"").trim()))||[],_={};T.forEach((D,B)=>{_[D.toLowerCase()]=R[B]});const W=_["id univoco"]||_.id_univoco;if(!W){E.push(`Riga ${L+1}: ID univoco mancante`);continue}const $=e.find(D=>D.id_univoco===W);if(!$){v(` ${W}: Articolo non trovato`),k.push(W);continue}const M={...$};_.oggetto!==void 0&&_.oggetto.trim()!==""?(M.oggetto=_.oggetto,await ue.entities.OtherItem.update($.id,M),v(` ${W}: Aggiornato oggetto`),P.push(W)):v(` ${W}: Campo oggetto vuoto, saltato`)}catch(R){const _=`Riga ${L+1}: ${R.message}`;v(` ${_}`),E.push(_)}v(`Completato: ${P.length} successi, ${k.length} non trovati, ${E.length} errori`),c({success:P,notFound:k,errors:E}),a(!1),P.length>0&&n()},j.readAsText(g),m.target.value=null};return s.jsx(As,{open:!0,onOpenChange:t,children:s.jsxs(us,{className:"max-w-2xl max-h-[80vh] overflow-y-auto bg-white",children:[s.jsx(ds,{className:"bg-white",children:s.jsx(fs,{children:"Importa Campo Oggetto da CSV"})}),s.jsxs("div",{className:"space-y-4 py-4 bg-white",children:[s.jsxs(Ps,{className:"bg-white",children:[s.jsx(An,{className:"h-4 w-4"}),s.jsxs(Rs,{children:[s.jsx("p",{className:"font-semibold mb-2",children:"Formato CSV richiesto:"}),s.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1",children:[s.jsxs("li",{children:["Colonne: ",s.jsx("code",{children:"id univoco, oggetto"})]}),s.jsx("li",{children:"Prima riga deve contenere i nomi delle colonne"})]})]})]}),s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[s.jsx("input",{type:"file",accept:".csv",onChange:p,disabled:o,className:"hidden",id:"csv-upload-items-fields"}),s.jsxs("label",{htmlFor:"csv-upload-items-fields",className:`cursor-pointer flex flex-col items-center gap-3 ${o?"opacity-50":""}`,children:[s.jsx(Jn,{className:"w-12 h-12",style:{color:"#45877F"}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:o?"Elaborazione...":"Clicca per selezionare il file CSV"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Aggiorna il campo oggetto degli articoli"})]})]})]}),d.length>0&&s.jsx("div",{className:"bg-slate-900 text-green-400 p-4 rounded-lg font-mono text-xs max-h-64 overflow-y-auto",children:d.map((m,g)=>s.jsx("div",{className:"mb-1",children:m},g))}),l&&s.jsxs("div",{className:"space-y-3",children:[l.success.length>0&&s.jsxs(Ps,{className:"bg-green-50 border-green-200",children:[s.jsx(ml,{className:"h-4 w-4 text-green-600"}),s.jsxs(Rs,{children:[s.jsxs("p",{className:"font-semibold text-green-800 mb-2",children:[l.success.length," articoli aggiornati con successo"]}),s.jsx("div",{className:"text-xs text-green-700 max-h-32 overflow-y-auto",children:l.success.join(", ")})]})]}),l.notFound.length>0&&s.jsxs(Ps,{className:"bg-amber-50 border-amber-200",children:[s.jsx(An,{className:"h-4 w-4 text-amber-600"}),s.jsxs(Rs,{children:[s.jsxs("p",{className:"font-semibold text-amber-800 mb-2",children:[l.notFound.length," articoli non trovati"]}),s.jsx("div",{className:"text-xs text-amber-700 max-h-32 overflow-y-auto",children:l.notFound.join(", ")})]})]}),l.errors.length>0&&s.jsxs(Ps,{variant:"destructive",children:[s.jsx(qw,{className:"h-4 w-4"}),s.jsxs(Rs,{children:[s.jsxs("p",{className:"font-semibold mb-2",children:[l.errors.length," errori"]}),s.jsx("div",{className:"text-xs max-h-32 overflow-y-auto",children:l.errors.map((m,g)=>s.jsx("div",{children:m},g))})]})]})]})]}),s.jsx("div",{className:"flex justify-end gap-2 pt-4 border-t bg-white",children:s.jsx(Z,{variant:"outline",onClick:t,children:"Chiudi"})})]})})}const rB={Opere:"OPE",Vinili:"VIN",Giochi:"GIO",Oggetti:"OGG","Libri in contovendita":"LIC"};function oB({onBack:e}){const[t,n]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(null),[d,f]=x.useState(!1),[p,m]=x.useState(!1),[g,v]=x.useState(!1),[j,C]=x.useState(!1),[N,S]=x.useState("all"),[T,P]=x.useState("created_date"),k=ln(),{data:E=[],isLoading:I}=Je({queryKey:["otherItems"],queryFn:()=>ue.entities.OtherItem.list("-created_date")}),{data:L=[]}=Je({queryKey:["drafts"],queryFn:async()=>(await ue.entities.Draft.list()).filter(F=>F.type==="OtherItem")});Ke({mutationFn:w=>ue.entities.Draft.delete(w),onSuccess:()=>k.invalidateQueries({queryKey:["drafts"]})}),Ke({mutationFn:async w=>(await ue.entities.Draft.delete(w.id),w.data),onSuccess:w=>{k.invalidateQueries({queryKey:["drafts"]}),c(w),C(!1),a(!0)}});const R=Ke({mutationFn:async w=>{const F=rB[w.tipo_oggetto]||"OGG",q=E.filter(Q=>{var xe;return(xe=Q.id_univoco)==null?void 0:xe.startsWith(F)}).map(Q=>parseInt(Q.id_univoco.substring(F.length))).filter(Q=>!isNaN(Q)),O=q.length>0?Math.max(...q)+1:1;return w.id_univoco=`${F}${String(O).padStart(5,"0")}`,w.stock=Number(w.stock)||0,w.venduto=Number(w.venduto)||0,w.prezzo_pubblico=Number(w.prezzo_pubblico)||0,w.costo=Number(w.costo)||0,w.da_pagare=Number(w.da_pagare)||0,w.giacenza=w.stock-w.venduto,w.ricavo_libreria=w.prezzo_pubblico-w.costo,w.ricavo_fornitore=w.costo*w.venduto,w.da_pagare_art=w.costo*w.da_pagare,ue.entities.OtherItem.create(w)},onSuccess:()=>{k.invalidateQueries({queryKey:["otherItems"]}),a(!1),c(null)}}),_=Ke({mutationFn:({id:w,itemData:F})=>(F.stock=Number(F.stock)||0,F.venduto=Number(F.venduto)||0,F.prezzo_pubblico=Number(F.prezzo_pubblico)||0,F.costo=Number(F.costo)||0,F.da_pagare=Number(F.da_pagare)||0,F.giacenza=F.stock-F.venduto,F.ricavo_libreria=F.prezzo_pubblico-F.costo,F.ricavo_fornitore=F.costo*F.venduto,F.da_pagare_art=F.costo*F.da_pagare,ue.entities.OtherItem.update(w,F)),onSuccess:()=>{k.invalidateQueries({queryKey:["otherItems"]}),a(!1),c(null)}}),W=w=>{l?_.mutate({id:l.id,itemData:w}):R.mutate(w)},$=w=>{c(w),a(!0)},M=async w=>{const F=w.target.files[0];if(!F)return;const q=new FileReader;q.onload=async O=>{var je;const xe=O.target.result.split(`
`).filter(_e=>_e.trim()!=="");if(xe.length===0)return;const he=xe[0].split(",").map(_e=>_e.replace(/"/g,"").trim());for(let _e=1;_e<xe.length;_e++){const ve=((je=xe[_e].match(/(".*?"|[^,]+)(?=\s*,|\s*$)/g))==null?void 0:je.map(ce=>ce?ce.replace(/"/g,"").trim():""))||[],we={},Ie={"ID Univoco":"id_univoco","Tipo Oggetto":"tipo_oggetto",Contovendita:"contovendita",Proprietario:"proprietario","Tel Proprietario":"tel_proprietario","Mail Proprietario":"mail_proprietario",Oggetto:"oggetto","Prezzo Pubblico":"prezzo_pubblico",Venduto:"venduto","Da Pagare":"da_pagare",Stock:"stock",Costo:"costo","Fornitore Pagato":"fornitore_pagato"};if(he.forEach((ce,Ee)=>{const re=ve[Ee],se=Ie[ce];se&&(["prezzo_pubblico","venduto","da_pagare","stock","costo"].includes(se)?we[se]=Number(re)||0:se==="contovendita"||se==="fornitore_pagato"?we[se]=re.toLowerCase()==="true"||re.toLowerCase()==="s"||re==="1":we[se]=re)}),we.stock=Number(we.stock)||0,we.venduto=Number(we.venduto)||0,we.prezzo_pubblico=Number(we.prezzo_pubblico)||0,we.costo=Number(we.costo)||0,we.da_pagare=Number(we.da_pagare)||0,we.giacenza=we.stock-we.venduto,we.ricavo_libreria=we.prezzo_pubblico-we.costo,we.ricavo_fornitore=we.costo*we.venduto,we.da_pagare_art=we.costo*we.da_pagare,we.oggetto)try{await ue.entities.OtherItem.create(we)}catch(ce){console.error("Error creating item from CSV:",we,ce)}}k.invalidateQueries({queryKey:["otherItems"]}),w.target.value=null},q.readAsText(F)},D=w=>w?w.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[]/g,"c").replace(/[]/g,"s").replace(/[]/g,"z").replace(//g,"d").replace(//g,"n").replace(//g,"l").replace(//g,"o").replace(//g,"ae").replace(//g,"oe").replace(//g,"ss"):"",[B,V]=x.useState(!1),Y=x.useMemo(()=>E.filter(w=>w.is_incomplete===!0).length,[E]),{filteredItems:ne,outOfStockMatchingCount:G}=x.useMemo(()=>{const w=t||N!=="all",F=E.filter(he=>{const je=D(t),_e=D(he.oggetto).includes(je)||D(he.tipo_oggetto).includes(je)||D(he.id_univoco).includes(je),le=N==="all"||he.tipo_oggetto===N;return _e&&le}),q=F.filter(he=>(he.stock||0)-(he.venduto||0)===0).length,O=w?q:0;let xe=B?F:F.filter(he=>(he.stock||0)-(he.venduto||0)>0);return xe=xe.sort((he,je)=>{switch(T){case"nome":return(he.oggetto||"").localeCompare(je.oggetto||"");case"id_univoco":const _e=parseInt((he.id_univoco||"").replace(/\D/g,""))||0;return(parseInt((je.id_univoco||"").replace(/\D/g,""))||0)-_e;case"prezzo-asc":return(he.prezzo_pubblico||0)-(je.prezzo_pubblico||0);case"prezzo-desc":return(je.prezzo_pubblico||0)-(he.prezzo_pubblico||0);case"tipo":return(he.tipo_oggetto||"").localeCompare(je.tipo_oggetto||"");case"stock":return(je.stock||0)-(he.stock||0);case"giacenza":return(je.stock||0)-(je.venduto||0)-((he.stock||0)-(he.venduto||0));case"created_date":default:return 0}}),{filteredItems:xe,outOfStockMatchingCount:O}},[E,t,N,T,B]);return s.jsx("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:o?s.jsx(Yn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsx(nB,{item:l,existingItems:E,onSave:W,onCancel:()=>{a(!1),c(null)},isProcessing:R.isPending||_.isPending})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx(Z,{variant:"ghost",onClick:e,size:"icon",children:s.jsx(um,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-4xl font-bold text-slate-900 tracking-tight",children:"Inventario Altro"}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Gestisci opere, vinili, giochi e altri oggetti"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Z,{variant:"outline",onClick:()=>m(!0),children:[s.jsx(na,{className:"w-5 h-5 mr-2"}),"Importa Link Immagini"]}),s.jsxs(Z,{variant:"outline",onClick:()=>v(!0),children:[s.jsx(Jn,{className:"w-5 h-5 mr-2"}),"Importa Campo Oggetto"]}),s.jsxs(Z,{variant:"outline",onClick:()=>f(!0),children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"Esporta"]}),s.jsx(Z,{variant:"outline",asChild:!0,children:s.jsxs("label",{className:"flex items-center cursor-pointer px-4 py-2",children:[s.jsx(Jn,{className:"w-5 h-5 mr-2"}),"Importa",s.jsx("input",{type:"file",accept:".csv",onChange:M,className:"hidden"})]})}),s.jsxs(Z,{onClick:()=>{c(null),a(!0)},style:{backgroundColor:"#45877F"},className:"hover:opacity-90 shadow-lg text-white",children:[s.jsx(an,{className:"w-5 h-5 mr-2"}),"Aggiungi"]})]})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[Y>0&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsxs("p",{className:"text-red-800 font-bold mb-3",children:["Attenzione: ",Y," ",Y===1?"scheda incompleta":"schede incomplete"]}),s.jsx("div",{className:"space-y-2",children:E.filter(w=>w.is_incomplete===!0).map(w=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-red-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($e,{className:"font-mono",style:{backgroundColor:"#45877F",color:"white"},children:w.id_univoco}),s.jsx("span",{className:"text-sm font-semibold",children:w.oggetto||"Senza nome"})]}),s.jsx(Z,{size:"sm",onClick:()=>$(w),style:{backgroundColor:"#45877F"},className:"text-white",children:"Completa"})]},w.id))})]}),G>0&&!B&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 text-sm",children:s.jsxs("p",{className:"text-amber-800",children:[s.jsx("strong",{children:"Nota:"})," ",G," ",G===1?"oggetto ha":"oggetti hanno"," giacenza = 0 e ",G===1?"corrisponde":"corrispondono"," ai criteri di ricerca."," ",s.jsx("button",{onClick:()=>V(!0),className:"underline font-semibold hover:text-amber-900",children:"Vuoi visualizzarli?"})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),s.jsx(fe,{placeholder:"Cerca per ID, nome o tipo oggetto...",value:t,onChange:w=>n(w.target.value),className:"pl-12 h-12 border-slate-300 bg-white/80 backdrop-blur-sm"})]}),s.jsxs(vt,{value:N,onValueChange:S,children:[s.jsx(ht,{className:"h-12",children:s.jsx(bt,{placeholder:"Filtra per tipologia"})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"all",children:"Tutte le tipologie"}),s.jsx(oe,{value:"Opere",children:"Opere"}),s.jsx(oe,{value:"Vinili",children:"Vinili"}),s.jsx(oe,{value:"Giochi",children:"Giochi"}),s.jsx(oe,{value:"Oggetti",children:"Oggetti"}),s.jsx(oe,{value:"Libri in contovendita",children:"Libri in contovendita"})]})]}),s.jsxs(vt,{value:T,onValueChange:P,children:[s.jsx(ht,{className:"h-12",children:s.jsx(bt,{placeholder:"Ordina per"})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"created_date",children:"Pi recenti"}),s.jsx(oe,{value:"id_univoco",children:"ID decrescente"}),s.jsx(oe,{value:"nome",children:"Nome A-Z"}),s.jsx(oe,{value:"prezzo-asc",children:"Prezzo crescente"}),s.jsx(oe,{value:"prezzo-desc",children:"Prezzo decrescente"}),s.jsx(oe,{value:"tipo",children:"Tipologia"}),s.jsx(oe,{value:"stock",children:"Stock decrescente"}),s.jsx(oe,{value:"giacenza",children:"Giacenza decrescente"})]})]})]}),I?s.jsx("div",{className:"text-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-900 mx-auto"})}):ne.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-slate-500 text-lg",children:"Nessun oggetto trovato con giacenza disponibile"})}):s.jsx("div",{className:"space-y-3",children:s.jsx(_d,{mode:"wait",children:ne.map(w=>s.jsx(Yn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:s.jsx(eB,{item:w,onEdit:$})},w.id))})}),p&&s.jsx(KC,{items:E,entityType:"OtherItem",onClose:()=>m(!1),onUpdate:()=>k.invalidateQueries({queryKey:["otherItems"]})}),d&&s.jsx(HC,{items:ne,onClose:()=>f(!1),entityType:"OtherItem"}),g&&s.jsx(sB,{items:E,onClose:()=>v(!1),onUpdate:()=>k.invalidateQueries({queryKey:["otherItems"]})})]})})}function QC(){const[e,t]=x.useState(null);return e?s.jsx("div",{children:e==="books"?s.jsx(Z6,{onBack:()=>t(null)}):s.jsx(oB,{onBack:()=>t(null)})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-white",children:s.jsxs("div",{className:"max-w-4xl w-full",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl font-bold text-black mb-4",style:{fontFamily:"Montserrat"},children:"Inventario"}),s.jsx("p",{className:"text-xl text-slate-500",children:"Cosa desideri catalogare?"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsx(Yn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsx(ke,{className:"group cursor-pointer border-2 border-slate-200 hover:border-black transition-all duration-300 hover:shadow-2xl overflow-hidden",onClick:()=>t("books"),children:s.jsxs(Te,{className:"p-12 text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",style:{backgroundColor:"#45877F"},children:s.jsx(Qr,{className:"w-12 h-12 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-black mb-3",style:{fontFamily:"Montserrat"},children:"Libri"}),s.jsx("p",{className:"text-slate-600",children:"Gestisci l'inventario dei libri con tutti i dettagli bibliografici"})]})})}),s.jsx(Yn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsx(ke,{className:"group cursor-pointer border-2 border-slate-200 hover:border-black transition-all duration-300 hover:shadow-2xl overflow-hidden",onClick:()=>t("other"),children:s.jsxs(Te,{className:"p-12 text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-black rounded-2xl flex items-center justify-center transform group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx(sd,{className:"w-12 h-12",style:{color:"#45877F"}})}),s.jsx("h2",{className:"text-3xl font-bold text-black mb-3",style:{fontFamily:"Montserrat"},children:"Altro"}),s.jsx("p",{className:"text-slate-600",children:"Gestisci opere, vinili, giochi e altri oggetti"})]})})})]})]})})}function YC(){const[e,t]=x.useState(""),[n,o]=x.useState([]),[a,l]=x.useState(!1),[c,d]=x.useState(!1),[f,p]=x.useState(!1),[m,g]=x.useState({autore:"",editore:"",tipo:"",minPrezzo:"",maxPrezzo:"",collocazione:""}),[v,j]=x.useState("name"),C=ln(),{data:N=[]}=Je({queryKey:["books"],queryFn:()=>ue.entities.Book.list()}),{data:S=[]}=Je({queryKey:["otherItems"],queryFn:()=>ue.entities.OtherItem.list()}),{data:T=[]}=Je({queryKey:["saleLogs"],queryFn:()=>ue.entities.SaleLog.list("-created_date",50)}),P=Ke({mutationFn:({id:w,newStock:F})=>ue.entities.Book.update(w,{stock:F})}),k=Ke({mutationFn:({id:w,item:F})=>{const q=F.stock-F.cartQuantity,O=(F.venduto||0)+F.cartQuantity,Q=(F.da_pagare||0)+F.cartQuantity;return ue.entities.OtherItem.update(w,{stock:q,venduto:O,da_pagare:F.contovendita==="SI"?Q:F.da_pagare,giacenza:q-O,ricavo_fornitore:F.costo*O,da_pagare_art:F.costo*(F.contovendita==="SI"?Q:F.da_pagare||0)})}}),E=Ke({mutationFn:w=>ue.entities.SaleLog.create(w),onSuccess:()=>{C.invalidateQueries({queryKey:["saleLogs"]})}});let L=[...N.map(w=>({...w,type:"book",displayName:w.titolo_composto,price:w.prezzo_online,availableStock:w.stock||0})),...S.map(w=>({...w,type:"item",displayName:w.oggetto,price:w.prezzo_pubblico,availableStock:w.stock||0}))].filter(w=>{var je,_e,le,ve,we,Ie,ce,Ee;const F=e===""||((je=w.displayName)==null?void 0:je.toLowerCase().includes(e.toLowerCase()))||w.type==="book"&&((_e=w.autore)==null?void 0:_e.toLowerCase().includes(e.toLowerCase()))||w.type==="book"&&((le=w.isbn)==null?void 0:le.toLowerCase().includes(e.toLowerCase()))||w.type==="book"&&((ve=w.editore)==null?void 0:ve.toLowerCase().includes(e.toLowerCase()))||((we=w.id_univoco)==null?void 0:we.toLowerCase().includes(e.toLowerCase())),q=!m.autore||w.type==="book"&&((Ie=w.autore)==null?void 0:Ie.toLowerCase().includes(m.autore.toLowerCase())),O=!m.editore||w.type==="book"&&((ce=w.editore)==null?void 0:ce.toLowerCase().includes(m.editore.toLowerCase())),Q=!m.tipo||m.tipo==="libri"&&w.type==="book"||m.tipo==="oggetti"&&w.type==="item",xe=!m.collocazione||((Ee=w.collocazione)==null?void 0:Ee.toLowerCase().includes(m.collocazione.toLowerCase())),he=(!m.minPrezzo||w.price>=parseFloat(m.minPrezzo))&&(!m.maxPrezzo||w.price<=parseFloat(m.maxPrezzo));return F&&q&&O&&Q&&xe&&he});L.sort((w,F)=>{switch(v){case"name":return(w.displayName||"").localeCompare(F.displayName||"");case"price-asc":return w.price-F.price;case"price-desc":return F.price-w.price;case"stock-asc":return w.availableStock-F.availableStock;case"stock-desc":return F.availableStock-w.availableStock;default:return 0}});const R=L.filter(w=>w.availableStock>0),_=L.filter(w=>w.availableStock===0),W=a?L:R,$=w=>{if(n.find(q=>q.id===w.id&&q.type===w.type))o(n.map(q=>q.id===w.id&&q.type===w.type?{...q,quantity:q.quantity+1}:q));else{const q=w.type==="book"&&w.condizione==="Nuovo";o([...n,{...w,quantity:1,discount:q?30:0,applyDiscount:q}])}},M=(w,F)=>{o(n.filter(q=>!(q.id===w&&q.type===F)))},D=(w,F,q)=>{o(n.map(O=>{if(O.id===w&&O.type===F){const Q=Math.max(1,Math.min(O.availableStock,O.quantity+q));return{...O,quantity:Q}}return O}))},B=(w,F)=>{o(n.map(q=>q.id===w&&q.type===F?{...q,applyDiscount:!q.applyDiscount}:q))},V=w=>{const F=w.price*w.quantity;return w.applyDiscount&&w.discount>0?F*(1-w.discount/100):F},Y=()=>n.reduce((w,F)=>w+V(F),0),ne=async()=>{for(const F of n)F.type==="book"?await P.mutateAsync({id:F.id,newStock:F.availableStock-F.quantity}):await k.mutateAsync({id:F.id,item:{...F,cartQuantity:F.quantity}});const w={date:We(new Date,"yyyy-MM-dd"),items:n.map(F=>({product_id:F.id_univoco,product_name:F.displayName,product_type:F.type,quantity:F.quantity,price:F.price,discount:F.applyDiscount?F.discount:0,total:V(F)})),total_amount:Y()};await E.mutateAsync(w),C.invalidateQueries({queryKey:["books"]}),C.invalidateQueries({queryKey:["otherItems"]}),o([]),alert("Vendita confermata! Stock aggiornato e log salvato.")},G=()=>{const w=["Data,Articoli,Quantit,Totale",...T.map(O=>{var he,je;const Q=((he=O.items)==null?void 0:he.map(_e=>`${_e.product_id} ${_e.product_name} (x${_e.quantity})`).join("; "))||"",xe=((je=O.items)==null?void 0:je.reduce((_e,le)=>_e+le.quantity,0))||0;return`"${We(new Date(O.date),"dd/MM/yyyy")}","${Q}","${xe}","${O.total_amount.toFixed(2)}"`})].join(`
`),F=new Blob([w],{type:"text/csv;charset=utf-8;"}),q=document.createElement("a");q.href=URL.createObjectURL(F),q.download=`log_vendite_${new Date().toISOString().split("T")[0]}.csv`,q.click()};return f?s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-black tracking-tight flex items-center gap-3",children:[s.jsx(hl,{className:"w-10 h-10",style:{color:"#45877F"}}),"Log delle Vendite"]}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Storico vendite giornaliere"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Z,{onClick:G,variant:"outline",children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"Esporta CSV"]}),s.jsx(Z,{onClick:()=>p(!1),variant:"outline",children:"Torna alla Vendita"})]})]}),s.jsx("div",{className:"space-y-3",children:T.map(w=>{var F,q,O;return s.jsx(ke,{children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:We(new Date(w.date),"EEEE d MMMM yyyy",{locale:Et})}),s.jsxs("p",{className:"text-2xl font-bold",style:{color:"#45877F"},children:["",(F=w.total_amount)==null?void 0:F.toFixed(2)]})]}),s.jsxs($e,{children:[((q=w.items)==null?void 0:q.reduce((Q,xe)=>Q+xe.quantity,0))||0," articoli"]})]}),s.jsx("div",{className:"space-y-2",children:(O=w.items)==null?void 0:O.map((Q,xe)=>{var he,je;return s.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-sm",children:Q.product_name}),s.jsxs("p",{className:"text-xs text-slate-500",children:[Q.product_id,"  Qty: ",Q.quantity,"  ",(he=Q.price)==null?void 0:he.toFixed(2),Q.discount>0&&`  Sconto ${Q.discount}%`]})]}),s.jsxs("p",{className:"font-bold",children:["",(je=Q.total)==null?void 0:je.toFixed(2)]})]},xe)})})]})},w.id)})})]}):s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-black tracking-tight",children:"Vendita in Negozio"}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Seleziona articoli per la vendita"})]}),s.jsxs(Z,{onClick:()=>p(!0),variant:"outline",children:[s.jsx(hl,{className:"w-5 h-5 mr-2"}),"Log Vendite"]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),s.jsx(fe,{placeholder:"Cerca per nome, autore, ISBN, editore...",value:e,onChange:w=>t(w.target.value),className:"pl-12 h-12 border-slate-300"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Z,{variant:"outline",onClick:()=>d(!c),className:"flex items-center gap-2",children:[s.jsx(Rp,{className:"w-4 h-4"}),c?"Nascondi Filtri":"Mostra Filtri"]}),s.jsxs(vt,{value:v,onValueChange:j,children:[s.jsx(ht,{className:"w-48",children:s.jsx(bt,{placeholder:"Ordina per..."})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"name",children:"Nome A-Z"}),s.jsx(oe,{value:"price-asc",children:"Prezzo crescente"}),s.jsx(oe,{value:"price-desc",children:"Prezzo decrescente"}),s.jsx(oe,{value:"stock-asc",children:"Stock crescente"}),s.jsx(oe,{value:"stock-desc",children:"Stock decrescente"})]})]})]}),c&&s.jsxs(Yn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-slate-50 rounded-lg p-4 border border-slate-200",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Autore"}),s.jsx(fe,{placeholder:"Filtra per autore",value:m.autore,onChange:w=>g({...m,autore:w.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Editore"}),s.jsx(fe,{placeholder:"Filtra per editore",value:m.editore,onChange:w=>g({...m,editore:w.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Tipo"}),s.jsxs(vt,{value:m.tipo,onValueChange:w=>g({...m,tipo:w}),children:[s.jsx(ht,{children:s.jsx(bt,{placeholder:"Tutti"})}),s.jsxs(mt,{children:[s.jsx(oe,{value:null,children:"Tutti"}),s.jsx(oe,{value:"libri",children:"Solo Libri"}),s.jsx(oe,{value:"oggetti",children:"Solo Oggetti"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Collocazione"}),s.jsx(fe,{placeholder:"Filtra per collocazione",value:m.collocazione,onChange:w=>g({...m,collocazione:w.target.value})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Prezzo min ()"}),s.jsx(fe,{type:"number",step:"0.01",placeholder:"0",value:m.minPrezzo,onChange:w=>g({...m,minPrezzo:w.target.value})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Prezzo max ()"}),s.jsx(fe,{type:"number",step:"0.01",placeholder:"",value:m.maxPrezzo,onChange:w=>g({...m,maxPrezzo:w.target.value})})]})]})]}),s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>g({autore:"",editore:"",tipo:"",minPrezzo:"",maxPrezzo:"",collocazione:""}),className:"mt-4",children:"Azzera Filtri"})]}),s.jsxs("div",{className:"text-sm text-slate-600",children:["Trovati ",s.jsx("strong",{children:W.length})," articoli"]})]}),e&&_.length>0&&!a&&s.jsx(ke,{className:"mb-4 bg-amber-50 border-amber-200",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(An,{className:"w-5 h-5 text-amber-600"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-amber-900",children:[_.length," articolo/i trovato/i ma non disponibile/i"]}),s.jsx("p",{className:"text-sm text-amber-700",children:"Questi articoli hanno quantit a 0"})]})]}),s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Mostra comunque"})]})})}),a&&_.length>0&&s.jsx(ke,{className:"mb-4 bg-blue-50 border-blue-200",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-blue-900",children:"Stai visualizzando anche articoli non disponibili"}),s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>l(!1),className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:"Nascondi"})]})})}),s.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:W.map(w=>{var F;return s.jsx(ke,{className:`hover:shadow-md transition-shadow ${w.availableStock===0?"opacity-60":""}`,children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx($e,{style:{backgroundColor:"#45877F"},className:"text-white font-mono",children:w.id_univoco}),w.collocazione&&s.jsxs($e,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(qo,{className:"w-3 h-3"}),w.collocazione]}),w.type==="book"&&w.condizione==="Nuovo"&&s.jsx($e,{className:"bg-green-600",children:"Nuovo"}),w.type==="item"&&w.contovendita==="SI"&&s.jsx($e,{className:"bg-blue-600",children:"Conto Vendita"}),w.availableStock===0&&s.jsx($e,{variant:"destructive",children:"Non Disponibile"})]}),s.jsx("h3",{className:"font-semibold text-black",children:w.displayName}),w.type==="book"&&s.jsx("p",{className:"text-sm text-slate-500",children:w.autore}),s.jsxs("p",{className:`text-sm font-medium mt-1 ${w.availableStock===0?"text-red-600":w.availableStock<5?"text-amber-600":"text-slate-600"}`,children:["Stock: ",w.availableStock]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold text-black",children:["",(F=w.price)==null?void 0:F.toFixed(2)]}),s.jsxs(Z,{onClick:()=>$(w),size:"sm",className:"mt-2",style:{backgroundColor:"#45877F"},disabled:w.availableStock<1,children:[s.jsx(an,{className:"w-4 h-4 mr-1"}),"Aggiungi"]})]})]})})},`${w.type}-${w.id}`)})})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(ke,{className:"sticky top-6",children:[s.jsx(ut,{className:"border-b",children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(hm,{className:"w-5 h-5"}),"Carrello (",n.length,")"]})}),s.jsx(Te,{className:"p-4",children:n.length===0?s.jsx("p",{className:"text-center text-slate-500 py-8",children:"Il carrello  vuoto"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3 mb-4 max-h-96 overflow-y-auto",children:n.map(w=>{var F;return s.jsxs("div",{className:"bg-slate-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-black text-sm",children:w.displayName}),s.jsxs("p",{className:"text-xs text-slate-500",children:["",(F=w.price)==null?void 0:F.toFixed(2)," cad."]}),w.type==="item"&&w.contovendita==="SI"&&s.jsx("p",{className:"text-xs text-blue-600 font-semibold",children:"Conto Vendita"})]}),s.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>M(w.id,w.type),className:"h-6 w-6",children:s.jsx(or,{className:"w-4 h-4 text-red-600"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Z,{variant:"outline",size:"icon",onClick:()=>D(w.id,w.type,-1),className:"h-7 w-7",children:s.jsx(Gw,{className:"w-3 h-3"})}),s.jsx("span",{className:"w-8 text-center font-semibold",children:w.quantity}),s.jsx(Z,{variant:"outline",size:"icon",onClick:()=>D(w.id,w.type,1),className:"h-7 w-7",children:s.jsx(an,{className:"w-3 h-3"})})]}),s.jsxs("p",{className:"font-bold text-black",children:["",V(w).toFixed(2)]})]}),w.discount>0&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 pt-2 border-t border-slate-200",children:[s.jsx(Wo,{id:`discount-${w.type}-${w.id}`,checked:w.applyDiscount,onCheckedChange:()=>B(w.id,w.type),className:"data-[state=checked]:bg-black data-[state=checked]:border-black",style:w.applyDiscount?{borderColor:"#45877F",borderWidth:"2px"}:{borderColor:"#cbd5e1"}}),s.jsxs("label",{htmlFor:`discount-${w.type}-${w.id}`,className:"text-xs cursor-pointer",style:{fontFamily:"DM Sans",color:w.applyDiscount?"#15803d":"#64748b",fontWeight:w.applyDiscount?600:400},children:["Sconto ",w.discount,"% (Nuovo)"]})]})]},`cart-${w.type}-${w.id}`)})}),s.jsxs("div",{className:"border-t border-slate-200 pt-4 space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-bold text-black",children:"Totale:"}),s.jsxs("span",{className:"text-3xl font-bold text-black",children:["",Y().toFixed(2)]})]}),s.jsxs(Z,{onClick:ne,className:"w-full btn-primary",style:{backgroundColor:"#45877F",color:"white",fontFamily:"Montserrat",fontWeight:600},size:"lg",children:[s.jsx(nd,{className:"w-5 h-5 mr-2"}),"Conferma Vendita"]}),s.jsxs(Z,{onClick:()=>o([]),variant:"outline",className:"w-full",children:[s.jsx(Zn,{className:"w-5 h-5 mr-2"}),"Svuota Carrello"]})]})]})})]})})]})]})}function XC(){var I,L;const[e,t]=x.useState(!1),[n,o]=x.useState(null),[a,l]=x.useState(""),[c,d]=x.useState({nome:"",cognome:"",tel_cliente:"",mail_cliente:"",prodotto:"",costo:0,prezzo_vendita:0,acconto:0,status:"da cercare",note:""}),f=ln(),{data:p=[]}=Je({queryKey:["desiderata"],queryFn:()=>ue.entities.Desiderata.list("-created_date")}),{data:m=[]}=Je({queryKey:["customers"],queryFn:()=>ue.entities.Customer.list()}),{data:g=[]}=Je({queryKey:["fidelityCards"],queryFn:()=>ue.entities.FidelityCard.list()}),v=Ke({mutationFn:R=>ue.entities.Desiderata.create(R),onSuccess:()=>{f.invalidateQueries({queryKey:["desiderata"]}),t(!1),o(null)}}),j=Ke({mutationFn:({id:R,data:_})=>ue.entities.Desiderata.update(R,_),onSuccess:()=>{f.invalidateQueries({queryKey:["desiderata"]}),t(!1),o(null)}});x.useEffect(()=>{const R=(c.prezzo_vendita||0)-(c.acconto||0),_=(c.prezzo_vendita||0)-(c.costo||0);d(W=>({...W,da_pagare:R,ricavo:_}))},[c.prezzo_vendita,c.acconto,c.costo]);const C=(R,_)=>{const W=`${R} ${_}`.toLowerCase(),$=m.find(D=>`${D.nome} ${D.cognome}`.toLowerCase()===W);if($){d(D=>({...D,tel_cliente:$.telefono||D.tel_cliente,mail_cliente:$.email||D.mail_cliente}));return}const M=g.find(D=>`${D.nome} ${D.cognome}`.toLowerCase()===W);M&&d(D=>({...D,tel_cliente:M.telefono||D.tel_cliente,mail_cliente:M.email||D.mail_cliente}))},N=R=>{R.preventDefault(),n?j.mutate({id:n.id,data:c}):v.mutate(c)},S=R=>{o(R),d({nome:R.nome||"",cognome:R.cognome||"",tel_cliente:R.tel_cliente||"",mail_cliente:R.mail_cliente||"",prodotto:R.prodotto||"",costo:R.costo||0,prezzo_vendita:R.prezzo_vendita||0,acconto:R.acconto||0,status:R.status||"da cercare",note:R.note||""}),t(!0)},T=()=>{const R=["Nome","Cognome","Tel Cliente","Mail Cliente","Prodotto","Costo","Prezzo Vendita","Acconto","Da Pagare","Ricavo","Status","Note"],_=p.map(D=>[D.nome,D.cognome,D.tel_cliente,D.mail_cliente,D.prodotto,D.costo,D.prezzo_vendita,D.acconto,D.da_pagare,D.ricavo,D.status,D.note]),W=[R.join(","),..._.map(D=>D.map(B=>`"${B||""}"`).join(","))].join(`
`),$=new Blob([W],{type:"text/csv;charset=utf-8;"}),M=document.createElement("a");M.href=URL.createObjectURL($),M.download=`desiderata_${new Date().toISOString().split("T")[0]}.csv`,M.click()},P=async R=>{const _=R.target.files[0];if(!_)return;const W=new FileReader;W.onload=async $=>{var B;const D=$.target.result.split(`
`).filter(V=>V.trim()!=="");if(!(D.length<2)){for(let V=1;V<D.length;V++){const Y=((B=D[V].match(/(".*?"|[^,]+)(?=\s*,|\s*$)/g))==null?void 0:B.map(G=>G.replace(/"/g,"").trim()))||[],ne={nome:Y[0]||"",cognome:Y[1]||"",tel_cliente:Y[2]||"",mail_cliente:Y[3]||"",prodotto:Y[4]||"",costo:parseFloat(Y[5])||0,prezzo_vendita:parseFloat(Y[6])||0,acconto:parseFloat(Y[7])||0,da_pagare:parseFloat(Y[8])||0,ricavo:parseFloat(Y[9])||0,status:Y[10]||"da cercare",note:Y[11]||""};try{await ue.entities.Desiderata.create(ne)}catch(G){console.error("Error importing item:",G)}}f.invalidateQueries({queryKey:["desiderata"]}),alert("Importazione completata!")}},W.readAsText(_),R.target.value=null},k=p.filter(R=>{var _,W,$,M,D;return((_=R.nome)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))||((W=R.cognome)==null?void 0:W.toLowerCase().includes(a.toLowerCase()))||(($=R.prodotto)==null?void 0:$.toLowerCase().includes(a.toLowerCase()))||((M=R.tel_cliente)==null?void 0:M.includes(a))||((D=R.mail_cliente)==null?void 0:D.toLowerCase().includes(a.toLowerCase()))}),E={"da cercare":"bg-yellow-100 text-yellow-800",ordinato:"bg-blue-100 text-blue-800",rinuncia:"bg-red-100 text-red-800",completato:"bg-green-100 text-green-800"};return s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-black tracking-tight flex items-center gap-3",children:[s.jsx(Pp,{className:"w-10 h-10",style:{color:"#45877F"}}),"Desiderata/Prenotazioni"]}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Richieste e prenotazioni dei clienti"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Z,{onClick:T,variant:"outline",children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"Esporta"]}),s.jsx(Z,{variant:"outline",asChild:!0,children:s.jsxs("label",{className:"cursor-pointer flex items-center",children:[s.jsx(Jn,{className:"w-5 h-5 mr-2"}),"Importa",s.jsx("input",{type:"file",accept:".csv",onChange:P,className:"hidden"})]})}),s.jsxs(Z,{onClick:()=>{o(null),d({nome:"",cognome:"",tel_cliente:"",mail_cliente:"",prodotto:"",costo:0,prezzo_vendita:0,acconto:0,status:"da cercare",note:""}),t(!0)},style:{backgroundColor:"#45877F"},className:"text-white",children:[s.jsx(an,{className:"w-5 h-5 mr-2"}),"Aggiungi"]})]})]}),e&&s.jsxs(ke,{className:"mb-6 border-2",style:{borderColor:"#45877F"},children:[s.jsx(ut,{children:s.jsx(pt,{children:n?"Modifica Richiesta":"Nuova Richiesta"})}),s.jsx(Te,{children:s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"nome",children:"Nome *"}),s.jsx(fe,{id:"nome",value:c.nome,onChange:R=>{d({...c,nome:R.target.value}),c.cognome&&C(R.target.value,c.cognome)},required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"cognome",children:"Cognome *"}),s.jsx(fe,{id:"cognome",value:c.cognome,onChange:R=>{d({...c,cognome:R.target.value}),c.nome&&C(c.nome,R.target.value)},required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"tel_cliente",children:"Telefono"}),s.jsx(fe,{id:"tel_cliente",value:c.tel_cliente,onChange:R=>d({...c,tel_cliente:R.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"mail_cliente",children:"Email"}),s.jsx(fe,{id:"mail_cliente",type:"email",value:c.mail_cliente,onChange:R=>d({...c,mail_cliente:R.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"prodotto",children:"Prodotto *"}),s.jsx(ur,{id:"prodotto",value:c.prodotto,onChange:R=>d({...c,prodotto:R.target.value}),rows:2,required:!0})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"costo",children:"Costo ()"}),s.jsx(fe,{id:"costo",type:"number",step:"0.01",value:c.costo,onChange:R=>d({...c,costo:parseFloat(R.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"prezzo_vendita",children:"Prezzo Vendita ()"}),s.jsx(fe,{id:"prezzo_vendita",type:"number",step:"0.01",value:c.prezzo_vendita,onChange:R=>d({...c,prezzo_vendita:parseFloat(R.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"acconto",children:"Acconto ()"}),s.jsx(fe,{id:"acconto",type:"number",step:"0.01",value:c.acconto,onChange:R=>d({...c,acconto:parseFloat(R.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"status",children:"Status"}),s.jsxs(vt,{value:c.status,onValueChange:R=>d({...c,status:R}),children:[s.jsx(ht,{children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"da cercare",children:"Da cercare"}),s.jsx(oe,{value:"ordinato",children:"Ordinato"}),s.jsx(oe,{value:"rinuncia",children:"Rinuncia"}),s.jsx(oe,{value:"completato",children:"Completato"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"note",children:"Note"}),s.jsx(ur,{id:"note",value:c.note,onChange:R=>d({...c,note:R.target.value}),rows:2})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 p-4 bg-slate-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Da Pagare"}),s.jsxs("p",{className:"text-2xl font-bold text-black",children:["",((I=c.da_pagare)==null?void 0:I.toFixed(2))||"0.00"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Ricavo"}),s.jsxs("p",{className:"text-2xl font-bold",style:{color:"#45877F"},children:["",((L=c.ricavo)==null?void 0:L.toFixed(2))||"0.00"]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsxs(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:[s.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Annulla"]}),s.jsxs(Z,{type:"submit",style:{backgroundColor:"#45877F"},className:"text-white",children:[s.jsx(Xo,{className:"w-4 h-4 mr-2"}),"Salva"]})]})]})})]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx(Xn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),s.jsx(fe,{placeholder:"Cerca desiderata...",value:a,onChange:R=>l(R.target.value),className:"pl-12 h-12"})]}),s.jsx("div",{className:"space-y-3",children:k.length===0?s.jsx(ke,{children:s.jsx(Te,{className:"p-12 text-center",children:s.jsx("p",{className:"text-slate-500 text-lg",children:"Nessuna richiesta ancora"})})}):k.map(R=>{var _,W,$,M,D;return s.jsx(ke,{className:"hover:shadow-lg transition-shadow",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx($e,{className:E[R.status],children:R.status})}),s.jsxs("h3",{className:"text-xl font-bold text-black mb-1",children:[R.nome," ",R.cognome]}),R.tel_cliente&&s.jsxs("p",{className:"text-sm text-slate-600",children:[" ",R.tel_cliente]}),R.mail_cliente&&s.jsxs("p",{className:"text-sm text-slate-600",children:[" ",R.mail_cliente]}),s.jsx("p",{className:"text-slate-700 mt-3 font-semibold",children:R.prodotto}),R.note&&s.jsxs("div",{className:"mt-3 p-3 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Note:"}),s.jsx("p",{className:"text-sm text-slate-700",children:R.note})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Costo"}),s.jsxs("p",{className:"font-bold",children:["",((_=R.costo)==null?void 0:_.toFixed(2))||"0.00"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Prezzo"}),s.jsxs("p",{className:"font-bold",children:["",((W=R.prezzo_vendita)==null?void 0:W.toFixed(2))||"0.00"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Acconto"}),s.jsxs("p",{className:"font-bold",children:["",(($=R.acconto)==null?void 0:$.toFixed(2))||"0.00"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Da Pagare"}),s.jsxs("p",{className:"font-bold text-red-600",children:["",((M=R.da_pagare)==null?void 0:M.toFixed(2))||"0.00"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Ricavo"}),s.jsxs("p",{className:"font-bold",style:{color:"#45877F"},children:["",((D=R.ricavo)==null?void 0:D.toFixed(2))||"0.00"]})]})]})]}),s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>S(R),children:"Modifica"})]})})},R.id)})})]})}var om="rovingFocusGroup.onEntryFocus",iB={bubbles:!1,cancelable:!0},ql="RovingFocusGroup",[xp,JC,aB]=JS(ql),[lB,Od]=gs(ql,[aB]),[cB,uB]=lB(ql),ZC=x.forwardRef((e,t)=>s.jsx(xp.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(xp.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(dB,{...e,ref:t})})}));ZC.displayName=ql;var dB=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:a=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...g}=e,v=x.useRef(null),j=gt(t,v),C=Rd(l),[N,S]=Xr({prop:c,defaultProp:d??null,onChange:f,caller:ql}),[T,P]=x.useState(!1),k=Jr(p),E=JC(n),I=x.useRef(!1),[L,R]=x.useState(0);return x.useEffect(()=>{const _=v.current;if(_)return _.addEventListener(om,k),()=>_.removeEventListener(om,k)},[k]),s.jsx(cB,{scope:n,orientation:o,dir:C,loop:a,currentTabStopId:N,onItemFocus:x.useCallback(_=>S(_),[S]),onItemShiftTab:x.useCallback(()=>P(!0),[]),onFocusableItemAdd:x.useCallback(()=>R(_=>_+1),[]),onFocusableItemRemove:x.useCallback(()=>R(_=>_-1),[]),children:s.jsx(tt.div,{tabIndex:T||L===0?-1:0,"data-orientation":o,...g,ref:j,style:{outline:"none",...e.style},onMouseDown:Ye(e.onMouseDown,()=>{I.current=!0}),onFocus:Ye(e.onFocus,_=>{const W=!I.current;if(_.target===_.currentTarget&&W&&!T){const $=new CustomEvent(om,iB);if(_.currentTarget.dispatchEvent($),!$.defaultPrevented){const M=E().filter(ne=>ne.focusable),D=M.find(ne=>ne.active),B=M.find(ne=>ne.id===N),Y=[D,B,...M].filter(Boolean).map(ne=>ne.ref.current);nk(Y,m)}}I.current=!1}),onBlur:Ye(e.onBlur,()=>P(!1))})})}),ek="RovingFocusGroupItem",tk=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:a=!1,tabStopId:l,children:c,...d}=e,f=nr(),p=l||f,m=uB(ek,n),g=m.currentTabStopId===p,v=JC(n),{onFocusableItemAdd:j,onFocusableItemRemove:C,currentTabStopId:N}=m;return x.useEffect(()=>{if(o)return j(),()=>C()},[o,j,C]),s.jsx(xp.ItemSlot,{scope:n,id:p,focusable:o,active:a,children:s.jsx(tt.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...d,ref:t,onMouseDown:Ye(e.onMouseDown,S=>{o?m.onItemFocus(p):S.preventDefault()}),onFocus:Ye(e.onFocus,()=>m.onItemFocus(p)),onKeyDown:Ye(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){m.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const T=mB(S,m.orientation,m.dir);if(T!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let k=v().filter(E=>E.focusable).map(E=>E.ref.current);if(T==="last")k.reverse();else if(T==="prev"||T==="next"){T==="prev"&&k.reverse();const E=k.indexOf(S.currentTarget);k=m.loop?pB(k,E+1):k.slice(E+1)}setTimeout(()=>nk(k))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:N!=null}):c})})});tk.displayName=ek;var fB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function mB(e,t,n){const o=hB(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return fB[o]}function nk(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function pB(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var sk=ZC,rk=tk,Id="Tabs",[gB]=gs(Id,[Od]),ok=Od(),[xB,Wg]=gB(Id),ik=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,onValueChange:a,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:f="automatic",...p}=e,m=Rd(d),[g,v]=Xr({prop:o,onChange:a,defaultProp:l??"",caller:Id});return s.jsx(xB,{scope:n,baseId:nr(),value:g,onValueChange:v,orientation:c,dir:m,activationMode:f,children:s.jsx(tt.div,{dir:m,"data-orientation":c,...p,ref:t})})});ik.displayName=Id;var ak="TabsList",lk=x.forwardRef((e,t)=>{const{__scopeTabs:n,loop:o=!0,...a}=e,l=Wg(ak,n),c=ok(n);return s.jsx(sk,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:o,children:s.jsx(tt.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:t})})});lk.displayName=ak;var ck="TabsTrigger",uk=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,disabled:a=!1,...l}=e,c=Wg(ck,n),d=ok(n),f=hk(c.baseId,o),p=mk(c.baseId,o),m=o===c.value;return s.jsx(rk,{asChild:!0,...d,focusable:!a,active:m,children:s.jsx(tt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:f,...l,ref:t,onMouseDown:Ye(e.onMouseDown,g=>{!a&&g.button===0&&g.ctrlKey===!1?c.onValueChange(o):g.preventDefault()}),onKeyDown:Ye(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(o)}),onFocus:Ye(e.onFocus,()=>{const g=c.activationMode!=="manual";!m&&!a&&g&&c.onValueChange(o)})})})});uk.displayName=ck;var dk="TabsContent",fk=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,forceMount:a,children:l,...c}=e,d=Wg(dk,n),f=hk(d.baseId,o),p=mk(d.baseId,o),m=o===d.value,g=x.useRef(m);return x.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),s.jsx(fr,{present:a||m,children:({present:v})=>s.jsx(tt.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!v,id:p,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:v&&l})})});fk.displayName=dk;function hk(e,t){return`${e}-trigger-${t}`}function mk(e,t){return`${e}-content-${t}`}var yB=ik,pk=lk,gk=uk,xk=fk;const yk=yB,qg=x.forwardRef(({className:e,...t},n)=>s.jsx(pk,{ref:n,className:Ce("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));qg.displayName=pk.displayName;const Do=x.forwardRef(({className:e,...t},n)=>s.jsx(gk,{ref:n,className:Ce("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));Do.displayName=gk.displayName;const Oo=x.forwardRef(({className:e,...t},n)=>s.jsx(xk,{ref:n,className:Ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Oo.displayName=xk.displayName;function vk(){const{data:e=[]}=Je({queryKey:["books"],queryFn:()=>ue.entities.Book.list()}),{data:t=[]}=Je({queryKey:["otherItems"],queryFn:()=>ue.entities.OtherItem.list()}),n=g=>{if(!g)return null;if(g.includes("drive.google.com")&&g.includes("/file/d/")){const v=g.match(/\/file\/d\/([^/]+)/);if(v)return`https://drive.google.com/uc?export=view&id=${v[1]}`}return g},o=x.useMemo(()=>e.map(g=>{const v=g.image_urls&&g.image_urls.length>0?g.image_urls:g.photo_url||g.cover_image_url?[g.photo_url||g.cover_image_url]:[];return{...g,imageUrl:v.length>0?n(v[0]):null,hasImages:v.length>0}}),[e]),a=x.useMemo(()=>t.map(g=>{const v=g.image_urls&&g.image_urls.length>0?g.image_urls:g.photo_url||g.cover_image_url?[g.photo_url||g.cover_image_url]:[];return{...g,imageUrl:v.length>0?n(v[0]):null,hasImages:v.length>0}}),[t]),l=o.filter(g=>g.hasImages),c=o.filter(g=>!g.hasImages&&g.stock>0),d=a.filter(g=>g.hasImages),f=a.filter(g=>!g.hasImages&&(g.stock||0)-(g.venduto||0)>0),p=()=>{const g=["ID Univoco","Titolo","Collocazione"],v=c.map(S=>[S.id_univoco||"",S.titolo_composto||"",S.collocazione||""]),j=[g.join(","),...v.map(S=>S.map(T=>`"${T}"`).join(","))].join(`
`),C=new Blob([j],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a");N.href=URL.createObjectURL(C),N.download="libri_senza_immagini.csv",N.click()},m=()=>{const g=["ID Univoco","Oggetto","Tipo"],v=f.map(S=>[S.id_univoco||"",S.oggetto||"",S.tipo_oggetto||""]),j=[g.join(","),...v.map(S=>S.map(T=>`"${T}"`).join(","))].join(`
`),C=new Blob([j],{type:"text/csv;charset=utf-8;"}),N=document.createElement("a");N.href=URL.createObjectURL(C),N.download="oggetti_senza_immagini.csv",N.click()};return s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-4xl font-bold text-black tracking-tight flex items-center gap-3",children:[s.jsx(na,{className:"w-10 h-10",style:{color:"#45877F"}}),"Galleria"]}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Visualizza prodotti con e senza immagini"})]}),s.jsxs(yk,{defaultValue:"books-with",className:"space-y-6",children:[s.jsxs(qg,{className:"grid grid-cols-4 w-full",children:[s.jsxs(Do,{value:"books-with",children:["Libri con Immagini (",l.length,")"]}),s.jsxs(Do,{value:"books-without",children:["Libri senza Immagini (",c.length,")"]}),s.jsxs(Do,{value:"items-with",children:["Oggetti con Immagini (",d.length,")"]}),s.jsxs(Do,{value:"items-without",children:["Oggetti senza Immagini (",f.length,")"]})]}),s.jsx(Oo,{value:"books-with",className:"space-y-4",children:l.length===0?s.jsx("p",{className:"text-center text-slate-500 py-12",children:"Nessun libro con immagini"}):s.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-4",children:l.map(g=>{var v;return s.jsxs(ke,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"aspect-[3/4] bg-slate-100 relative",children:g.imageUrl&&s.jsx("img",{src:g.imageUrl,alt:g.titolo_composto,className:"w-full h-full object-cover",onError:j=>j.target.style.display="none"})}),s.jsxs(Te,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($e,{style:{backgroundColor:"#45877F"},className:"text-white text-xs",children:g.id_univoco}),g.collocazione&&s.jsxs($e,{variant:"outline",className:"text-xs flex items-center gap-1",children:[s.jsx(qo,{className:"w-3 h-3"}),g.collocazione]})]}),s.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:g.titolo_composto}),g.autore&&s.jsx("p",{className:"text-xs text-slate-600 mb-2",children:g.autore}),s.jsxs("p",{className:"text-lg font-bold",style:{color:"#45877F"},children:["",(v=g.prezzo_online)==null?void 0:v.toFixed(2)]})]})]},g.id)})})}),s.jsx(Oo,{value:"books-without",className:"space-y-4",children:c.length===0?s.jsx("p",{className:"text-center text-slate-500 py-12",children:"Nessun libro senza immagini in stock"}):s.jsxs(s.Fragment,{children:[s.jsxs(Z,{onClick:p,style:{backgroundColor:"#45877F"},className:"text-white",children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"Scarica Lista CSV"]}),s.jsx("div",{className:"space-y-2",children:c.map(g=>{var v;return s.jsx(ke,{className:"hover:shadow-md transition-shadow",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($e,{style:{backgroundColor:"#45877F"},className:"text-white font-mono",children:g.id_univoco}),g.collocazione&&s.jsxs($e,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(qo,{className:"w-3 h-3"}),g.collocazione]})]}),s.jsx("h3",{className:"font-bold text-lg mb-1",children:g.titolo_composto}),g.autore&&s.jsx("p",{className:"text-sm text-slate-600 mb-2",children:g.autore}),s.jsxs("div",{className:"flex gap-4 text-sm text-slate-600",children:[g.editore&&s.jsx("span",{children:g.editore}),g.anno&&s.jsxs("span",{children:[" ",g.anno]}),g.lingua&&s.jsxs("span",{children:[" ",g.lingua]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold",style:{color:"#45877F"},children:["",(v=g.prezzo_online)==null?void 0:v.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Stock: ",g.stock||0]})]})]})})},g.id)})})]})}),s.jsx(Oo,{value:"items-with",className:"space-y-4",children:d.length===0?s.jsx("p",{className:"text-center text-slate-500 py-12",children:"Nessun oggetto con immagini"}):s.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-4",children:d.map(g=>{var v;return s.jsxs(ke,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"aspect-[3/4] bg-slate-100 relative",children:g.imageUrl&&s.jsx("img",{src:g.imageUrl,alt:g.oggetto,className:"w-full h-full object-cover",onError:j=>j.target.style.display="none"})}),s.jsxs(Te,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($e,{style:{backgroundColor:"#45877F"},className:"text-white text-xs",children:g.id_univoco}),s.jsx($e,{variant:"outline",className:"text-xs",children:g.tipo_oggetto})]}),s.jsx("h3",{className:"font-semibold text-sm mb-2 line-clamp-2",children:g.oggetto}),s.jsxs("p",{className:"text-lg font-bold",style:{color:"#45877F"},children:["",(v=g.prezzo_pubblico)==null?void 0:v.toFixed(2)]})]})]},g.id)})})}),s.jsx(Oo,{value:"items-without",className:"space-y-4",children:f.length===0?s.jsx("p",{className:"text-center text-slate-500 py-12",children:"Nessun oggetto senza immagini in stock"}):s.jsxs(s.Fragment,{children:[s.jsxs(Z,{onClick:m,style:{backgroundColor:"#45877F"},className:"text-white",children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"Scarica Lista CSV"]}),s.jsx("div",{className:"space-y-2",children:f.map(g=>{var v;return s.jsx(ke,{className:"hover:shadow-md transition-shadow",children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($e,{style:{backgroundColor:"#45877F"},className:"text-white font-mono",children:g.id_univoco}),s.jsx($e,{variant:"outline",children:g.tipo_oggetto})]}),s.jsx("h3",{className:"font-bold text-lg mb-2",children:g.oggetto}),s.jsxs("p",{className:"text-xs text-slate-500",children:["Stock: ",g.stock||0," | Giacenza: ",(g.stock||0)-(g.venduto||0)]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-2xl font-bold",style:{color:"#45877F"},children:["",(v=g.prezzo_pubblico)==null?void 0:v.toFixed(2)]})})]})})},g.id)})})]})})]})]})}const vB=()=>{const e=[];for(let t=2024;t<=2030;t++){const n=t===2024?12:1;for(let o=n;o<=12;o++){const a=`${t}-${String(o).padStart(2,"0")}`,l=new Date(t,o-1);e.push({value:a,label:We(l,"MMMM yyyy",{locale:Et})})}}return e},zr=vB(),bB=["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"];function bk(){const e=We(new Date,"yyyy-MM"),[t,n]=x.useState(e),[o,a]=x.useState(!1),[l,c]=x.useState(!1),[d,f]=x.useState(""),[p,m]=x.useState("accounting"),[g,v]=x.useState(null),j=ln();x.useEffect(()=>{localStorage.getItem("accounting_auth")==="true"&&c(!0)},[]);const C=()=>{d==="stocazzo"?(c(!0),localStorage.setItem("accounting_auth","true"),f("")):(alert("Password errata!"),f(""))},N=()=>{c(!1),localStorage.removeItem("accounting_auth"),f("")},S=()=>{const re=["Data","Prodotti","Quantit Totale","Importo Totale"],se=L.map(ie=>[We(new Date(ie.date),"dd/MM/yyyy"),ie.items.map(Se=>`${Se.product_name} (${Se.quantity})`).join("; "),ie.items.reduce((Se,it)=>Se+it.quantity,0),`${ie.total_amount.toFixed(2)}`]),Pe=[re.join(","),...se.map(ie=>ie.map(Se=>`"${Se}"`).join(","))].join(`
`),me=new Blob([Pe],{type:"text/csv;charset=utf-8;"}),Be=document.createElement("a");Be.href=URL.createObjectURL(me),Be.download=`log_vendite_${We(new Date,"yyyy-MM-dd")}.csv`,Be.click()},{data:T=[]}=Je({queryKey:["dailyAccounting",t],queryFn:()=>ue.entities.DailyAccounting.filter({month_year:t}),enabled:l}),P=Kn.useMemo(()=>{const re={};return T.forEach(se=>{const Pe=new Date(se.updated_date),me=re[se.date]?new Date(re[se.date].updated_date):null;(!re[se.date]||Pe>me)&&(re[se.date]=se)}),Object.values(re)},[T]),{data:k=[]}=Je({queryKey:["onlinePurchases",t],queryFn:()=>ue.entities.OnlinePurchase.filter({month_year:t}),enabled:l}),{data:E=[]}=Je({queryKey:["allDailyAccounting"],queryFn:()=>ue.entities.DailyAccounting.list(),enabled:o&&l}),{data:I=[]}=Je({queryKey:["allOnlinePurchases"],queryFn:()=>ue.entities.OnlinePurchase.list(),enabled:o&&l}),{data:L=[]}=Je({queryKey:["saleLogs"],queryFn:()=>ue.entities.SaleLog.list("-created_date"),enabled:l&&p==="sales"}),[R,_]=x.useState(null),[W,$]=x.useState(!1),M=Ke({mutationFn:({id:re,data:se})=>ue.entities.SaleLog.update(re,se),onSuccess:()=>{j.invalidateQueries({queryKey:["saleLogs"]}),$(!1),_(null)}}),D=Ke({mutationFn:re=>ue.entities.SaleLog.delete(re),onSuccess:()=>{j.invalidateQueries({queryKey:["saleLogs"]})}}),B=L.reduce((re,se)=>re+se.total_amount,0),V=L.reduce((re,se)=>re+se.items.reduce((Pe,me)=>Pe+me.quantity,0),0),Y=Ke({mutationFn:({id:re,data:se})=>ue.entities.DailyAccounting.update(re,se),onSuccess:()=>{j.invalidateQueries({queryKey:["dailyAccounting"]}),j.invalidateQueries({queryKey:["allDailyAccounting"]})}}),ne=Ke({mutationFn:re=>ue.entities.DailyAccounting.create(re),onSuccess:()=>{j.invalidateQueries({queryKey:["dailyAccounting"]}),j.invalidateQueries({queryKey:["allDailyAccounting"]})}}),G=Ke({mutationFn:re=>ue.entities.OnlinePurchase.create(re),onSuccess:()=>{j.invalidateQueries({queryKey:["onlinePurchases"]}),j.invalidateQueries({queryKey:["allOnlinePurchases"]})}}),w=Ke({mutationFn:re=>ue.entities.OnlinePurchase.delete(re),onSuccess:()=>{j.invalidateQueries({queryKey:["onlinePurchases"]}),j.invalidateQueries({queryKey:["allOnlinePurchases"]})}}),[F,q]=t.split("-").map(Number),O=Um(new Date(F,q-1)),Q=Bm(new Date(F,q-1)),xe=Ku({start:O,end:Q}),he=re=>{const se=We(re,"yyyy-MM-dd");return P.find(Pe=>Pe.date===se)},je=async(re,se)=>{const Pe=We(re,"yyyy-MM-dd");if(se)await Y.mutateAsync({id:se.id,data:{...se,is_open:!se.is_open}});else{const me=Br(re)===1;await ne.mutateAsync({date:Pe,month_year:t,is_open:!me,pos:0,contanti:0})}},_e=async(re,se,Pe,me)=>{const Be=We(re,"yyyy-MM-dd"),ie=parseFloat(Pe)||0;me?await Y.mutateAsync({id:me.id,data:{...me,[se]:ie}}):await ne.mutateAsync({date:Be,month_year:t,is_open:!0,pos:se==="pos"?ie:0,contanti:se==="contanti"?ie:0})},le=(re,se)=>{const Pe=re.filter(lt=>lt.is_open),me=Pe.reduce((lt,Rt)=>lt+(Rt.contanti||0),0),Be=Pe.reduce((lt,Rt)=>lt+(Rt.pos||0),0),ie=Be*.98,Se=se.reduce((lt,Rt)=>lt+(Rt.importo||0),0),it=me+ie+Se,Xe=Pe.length>0?it/Pe.length:0,xt={};Pe.forEach(lt=>{const Rt=Br(new Date(lt.date));xt[Rt]||(xt[Rt]={total:0,count:0}),xt[Rt].total+=(lt.contanti||0)+(lt.pos||0)*.98,xt[Rt].count+=1});const tn=Object.entries(xt).map(([lt,Rt])=>({day:parseInt(lt),dayName:bB[parseInt(lt)],average:Rt.total/Rt.count})).sort((lt,Rt)=>Rt.average-lt.average);return{totalContanti:me,totalPosWithCommission:Be,totalPosWithoutCommission:ie,totalOnline:Se,totalGeneral:it,openDaysCount:Pe.length,dailyAverage:Xe,bestDay:tn[0],worstDay:tn.length>1?tn[tn.length-1]:null,dayRanking:tn}},ve=le(P,k),we=async()=>{await G.mutateAsync({month_year:t,numero_ordine:"",libro:"",importo:0})},Ie=async re=>{const se=re.target.files[0];if(!se)return;const Pe=new FileReader;Pe.onload=async me=>{const ie=me.target.result.split(`
`).filter(Se=>Se.trim());for(let Se=1;Se<ie.length;Se++){const it=ie[Se].split(",").map(Xe=>Xe.trim());if(it.length>=3){const[Xe,xt,tn]=it;try{await ne.mutateAsync({date:Xe,month_year:t,is_open:!0,pos:parseFloat(xt)||0,contanti:parseFloat(tn)||0})}catch(lt){console.error("Import error:",lt)}}}j.invalidateQueries({queryKey:["dailyAccounting"]})},Pe.readAsText(se)},ce=()=>{var ie;const re=((ie=zr.find(Se=>Se.value===t))==null?void 0:ie.label)||t;let se=`
      <html>
        <head>
          <title>Contabilit ${re}</title>
          <style>
            body { font-family: 'Montserrat', Arial, sans-serif; padding: 20px; }
            h1 { color: #45877F; }
            table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #45877F; color: white; }
            .stats { background-color: #f5f5f5; padding: 15px; margin: 20px 0; }
            .stat-item { margin: 10px 0; }
          </style>
        </head>
        <body>
          <h1>Contabilit ${re}</h1>
          
          <div class="stats">
            <h2>Statistiche</h2>
            <div class="stat-item"><strong>Totale Contanti:</strong> ${ve.totalContanti.toFixed(2)}</div>
            <div class="stat-item"><strong>Totale POS (con commissioni):</strong> ${ve.totalPosWithCommission.toFixed(2)}</div>
            <div class="stat-item"><strong>Totale POS (senza commissioni):</strong> ${ve.totalPosWithoutCommission.toFixed(2)}</div>
            <div class="stat-item"><strong>Totale Acquisti Online:</strong> ${ve.totalOnline.toFixed(2)}</div>
            <div class="stat-item"><strong>Totale Generale:</strong> ${ve.totalGeneral.toFixed(2)}</div>
            <div class="stat-item"><strong>Giorni Apertura:</strong> ${ve.openDaysCount}</div>
            <div class="stat-item"><strong>Media Giornaliera:</strong> ${ve.dailyAverage.toFixed(2)}</div>
          </div>

          <h2>Incassi Giornalieri</h2>
          <table>
            <tr><th>Data</th><th>POS</th><th>Contanti</th><th>Totale</th></tr>
            ${P.filter(Se=>Se.is_open).map(Se=>`
              <tr>
                <td>${We(new Date(Se.date),"d MMMM yyyy",{locale:Et})}</td>
                <td>${(Se.pos||0).toFixed(2)}</td>
                <td>${(Se.contanti||0).toFixed(2)}</td>
                <td>${((Se.pos||0)+(Se.contanti||0)).toFixed(2)}</td>
              </tr>
            `).join("")}
          </table>

          <h2>Acquisti Online</h2>
          <table>
            <tr><th>Data</th><th>N. Ordine</th><th>Libro</th><th>Importo</th></tr>
            ${k.map(Se=>`
              <tr>
                <td>${We(new Date(Se.created_date),"d MMM yyyy",{locale:Et})}</td>
                <td>${Se.numero_ordine}</td>
                <td>${Se.libro}</td>
                <td>${(Se.importo||0).toFixed(2)}</td>
              </tr>
            `).join("")}
          </table>
        </body>
      </html>
    `;const Pe=new Blob([se],{type:"text/html"}),me=URL.createObjectURL(Pe),Be=document.createElement("a");Be.href=me,Be.download=`Contabilita_${re.replace(" ","_")}.html`,Be.click(),URL.revokeObjectURL(me)},Ee=zr.findIndex(re=>re.value===t);if(!l)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white p-6",children:s.jsxs(ke,{className:"w-full max-w-md",children:[s.jsx(ut,{children:s.jsxs(pt,{className:"flex items-center gap-3 text-2xl",children:[s.jsx($P,{className:"w-8 h-8",style:{color:"#45877F"}}),"Accesso Contabilit"]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Password"}),s.jsx(fe,{type:"password",value:d,onChange:re=>f(re.target.value),onKeyPress:re=>re.key==="Enter"&&C(),placeholder:"Inserisci password"})]}),s.jsx(Z,{onClick:C,className:"w-full text-white",style:{backgroundColor:"#45877F"},children:"Accedi"})]})]})});if(o){const re=Kn.useMemo(()=>{const me={};return E.forEach(Be=>{const ie=new Date(Be.updated_date),Se=me[Be.date]?new Date(me[Be.date].updated_date):null;(!me[Be.date]||ie>Se)&&(me[Be.date]=Be)}),Object.values(me)},[E]),se=zr.map(me=>{const Be=re.filter(Se=>Se.month_year===me.value),ie=I.filter(Se=>Se.month_year===me.value);return{month:me.label,monthValue:me.value,...le(Be,ie)}}).filter(me=>me.openDaysCount>0),Pe=()=>{let me=`
        <html>
          <head>
            <title>Riepilogo Annuale Contabilit</title>
            <style>
              body { font-family: 'Montserrat', Arial, sans-serif; padding: 20px; }
              h1 { color: #45877F; }
              table { width: 100%; border-collapse: collapse; margin: 20px 0; }
              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              th { background-color: #45877F; color: white; }
            </style>
          </head>
          <body>
            <h1>Riepilogo Annuale Contabilit</h1>
            <table>
              <tr>
                <th>Mese</th>
                <th>Giorni Apertura</th>
                <th>Totale Generale</th>
                <th>Media Giornaliera</th>
                <th>Totale Online</th>
              </tr>
              ${se.map(it=>`
                <tr>
                  <td>${it.month}</td>
                  <td>${it.openDaysCount}</td>
                  <td>${it.totalGeneral.toFixed(2)}</td>
                  <td>${it.dailyAverage.toFixed(2)}</td>
                  <td>${it.totalOnline.toFixed(2)}</td>
                </tr>
              `).join("")}
            </table>
          </body>
        </html>
      `;const Be=new Blob([me],{type:"text/html"}),ie=URL.createObjectURL(Be),Se=document.createElement("a");Se.href=ie,Se.download="Riepilogo_Annuale_Contabilita.html",Se.click(),URL.revokeObjectURL(ie)};return s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-black tracking-tight flex items-center gap-3",children:[s.jsx(fm,{className:"w-10 h-10",style:{color:"#45877F"}}),"Riepilogo Annuale"]}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Statistiche di tutti i mesi"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Z,{onClick:Pe,variant:"outline",children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"Esporta PDF"]}),s.jsx(Z,{onClick:()=>a(!1),variant:"outline",children:"Torna ai Mesi"})]})]}),s.jsx("div",{className:"space-y-4",children:se.map((me,Be)=>s.jsx(ke,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-black mb-4",children:me.month}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Giorni Apertura"}),s.jsx("p",{className:"text-2xl font-bold",children:me.openDaysCount})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Totale Generale"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",me.totalGeneral.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Media Giornaliera"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",me.dailyAverage.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Totale Online"}),s.jsxs("p",{className:"text-2xl font-bold",style:{color:"#45877F"},children:["",me.totalOnline.toFixed(2)]})]})]}),me.bestDay&&s.jsxs("div",{className:"mt-4 pt-4 border-t grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Uv,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Giorno migliore"}),s.jsxs("p",{className:"font-bold text-green-600",children:[me.bestDay.dayName,": ",me.bestDay.average.toFixed(2)]})]})]}),me.worstDay&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bv,{className:"w-5 h-5 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Giorno peggiore"}),s.jsxs("p",{className:"font-bold text-red-600",children:[me.worstDay.dayName,": ",me.worstDay.average.toFixed(2)]})]})]})]})]})},Be))})]})}return s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-black tracking-tight flex items-center gap-3",children:[s.jsx(fm,{className:"w-10 h-10",style:{color:"#45877F"}}),"Contabilit"]}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Gestione incassi e log vendite"})]}),s.jsxs(Z,{variant:"outline",onClick:N,children:[s.jsx(EP,{className:"w-5 h-5 mr-2"}),"Disconnetti"]})]}),s.jsxs(yk,{value:p,onValueChange:m,className:"space-y-6",children:[s.jsxs(qg,{className:"grid w-full grid-cols-2",children:[s.jsx(Do,{value:"accounting",children:"Incassi"}),s.jsx(Do,{value:"sales",children:"Log Vendite"})]}),s.jsxs(Oo,{value:"accounting",className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{variant:"outline",asChild:!0,children:s.jsxs("label",{className:"cursor-pointer",children:[s.jsx(Jn,{className:"w-5 h-5 mr-2"}),"Importa Excel",s.jsx("input",{type:"file",accept:".csv",onChange:Ie,className:"hidden"})]})}),s.jsxs(Z,{onClick:ce,variant:"outline",children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"Esporta PDF"]}),s.jsx(Z,{onClick:()=>a(!0),style:{backgroundColor:"#45877F"},className:"text-white",children:"Vedi Riepilogo"})]})}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx(Z,{variant:"outline",onClick:()=>n(zr[Math.max(0,Ee-1)].value),disabled:Ee===0,children:s.jsx(Ep,{className:"w-5 h-5"})}),s.jsx("h2",{className:"text-2xl font-bold text-black",children:zr[Ee].label}),s.jsx(Z,{variant:"outline",onClick:()=>n(zr[Math.min(zr.length-1,Ee+1)].value),disabled:Ee===zr.length-1,children:s.jsx(Tp,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 mb-6",children:[s.jsxs(ke,{className:"lg:col-span-2",children:[s.jsx(ut,{children:s.jsx(pt,{children:"Incassi Giornalieri"})}),s.jsx(Te,{children:s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:xe.map(re=>{const se=he(re),Pe=Br(re)===1,me=se?se.is_open:!Pe,Be=((se==null?void 0:se.pos)||0)+((se==null?void 0:se.contanti)||0);return s.jsxs("div",{className:`flex items-center gap-4 p-3 rounded-lg border ${me?"bg-white":"bg-slate-50 opacity-60"}`,children:[s.jsx(Wo,{checked:me,onCheckedChange:()=>je(re,se)}),s.jsxs("div",{className:"w-32",children:[s.jsx("p",{className:"font-semibold text-sm",children:We(re,"EEEE",{locale:Et})}),s.jsx("p",{className:"text-xs text-slate-500",children:We(re,"d MMMM",{locale:Et})})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"POS ()"}),s.jsx(fe,{type:"number",step:"0.01",value:(se==null?void 0:se.pos)||"",onChange:ie=>_e(re,"pos",ie.target.value,se),onBlur:ie=>{ie.target.value&&(!se||!se.is_open)&&je(re,se)},disabled:!me,className:"h-9"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Contanti ()"}),s.jsx(fe,{type:"number",step:"0.01",value:(se==null?void 0:se.contanti)||"",onChange:ie=>_e(re,"contanti",ie.target.value,se),onBlur:ie=>{ie.target.value&&(!se||!se.is_open)&&je(re,se)},disabled:!me,className:"h-9"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Totale"}),s.jsxs("div",{className:"h-9 flex items-center px-3 bg-slate-100 rounded border font-bold",style:{color:"#45877F"},children:["",Be.toFixed(2)]})]})]})]},re.toString())})})})]}),s.jsxs(ke,{children:[s.jsx(ut,{children:s.jsx(pt,{children:"Statistiche Mese"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Totale Contanti"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",ve.totalContanti.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Totale POS (con commissioni)"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",ve.totalPosWithCommission.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Totale POS (senza commissioni)"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",ve.totalPosWithoutCommission.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Totale Acquisti Online"}),s.jsxs("p",{className:"text-2xl font-bold",style:{color:"#45877F"},children:["",ve.totalOnline.toFixed(2)]})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Totale Generale"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["",ve.totalGeneral.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Giorni Apertura"}),s.jsx("p",{className:"text-xl font-bold",children:ve.openDaysCount})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Media Giornaliera"}),s.jsxs("p",{className:"text-xl font-bold",children:["",ve.dailyAverage.toFixed(2)]})]}),ve.dayRanking&&ve.dayRanking.length>0&&s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Classifica Giorni Settimana"}),s.jsx("div",{className:"space-y-2",children:ve.dayRanking.map((re,se)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[se===0&&s.jsx(Uv,{className:"w-4 h-4 text-green-600"}),se===ve.dayRanking.length-1&&s.jsx(Bv,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-sm font-medium",children:re.dayName})]}),s.jsxs("span",{className:`text-sm font-bold ${se===0?"text-green-600":se===ve.dayRanking.length-1?"text-red-600":"text-slate-700"}`,children:["",re.average.toFixed(2)]})]},re.day))})]})]})]})]}),s.jsxs(ke,{children:[s.jsx(ut,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(pt,{children:"Acquisti Online"}),s.jsxs(Z,{onClick:we,size:"sm",style:{backgroundColor:"#45877F"},className:"text-white",children:[s.jsx(an,{className:"w-4 h-4 mr-2"}),"Aggiungi"]})]})}),s.jsx(Te,{children:s.jsxs("div",{className:"space-y-2",children:[k.map(re=>s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg border bg-white",children:[s.jsx("div",{className:"text-sm text-slate-500 w-32",children:We(new Date(re.created_date),"d MMM yyyy",{locale:Et})}),s.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-4",children:[s.jsx(fe,{type:"text",placeholder:"N. Ordine",value:re.numero_ordine,onChange:async se=>{await ue.entities.OnlinePurchase.update(re.id,{numero_ordine:se.target.value}),j.invalidateQueries({queryKey:["onlinePurchases"]})},className:"h-9"}),s.jsx(fe,{type:"text",placeholder:"Libro",value:re.libro,onChange:async se=>{await ue.entities.OnlinePurchase.update(re.id,{libro:se.target.value}),j.invalidateQueries({queryKey:["onlinePurchases"]})},className:"h-9"}),s.jsx(fe,{type:"number",step:"0.01",placeholder:"Importo",value:re.importo,onChange:async se=>{await ue.entities.OnlinePurchase.update(re.id,{importo:parseFloat(se.target.value)||0}),j.invalidateQueries({queryKey:["onlinePurchases"]})},className:"h-9"})]}),s.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>w.mutate(re.id),className:"text-red-600",children:s.jsx(or,{className:"w-4 h-4"})})]},re.id)),k.length===0&&s.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nessun acquisto online ancora"})]})})]})]}),s.jsxs(Oo,{value:"sales",className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(Z,{variant:"outline",onClick:S,disabled:L.length===0,children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"Esporta CSV"]})}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsx(ke,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Vendite Totali"}),s.jsxs("p",{className:"text-3xl font-bold",style:{color:"#45877F"},children:["",B.toFixed(2)]})]})}),s.jsx(ke,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Numero Vendite"}),s.jsx("p",{className:"text-3xl font-bold text-slate-900",children:L.length})]})}),s.jsx(ke,{children:s.jsxs(Te,{className:"p-6",children:[s.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Articoli Venduti"}),s.jsx("p",{className:"text-3xl font-bold text-slate-900",children:V})]})})]}),s.jsxs(ke,{children:[s.jsx(ut,{children:s.jsx(pt,{children:"Storico Vendite"})}),s.jsx(Te,{children:L.length===0?s.jsx("p",{className:"text-center text-slate-500 py-8",children:"Nessuna vendita registrata"}):s.jsx("div",{className:"space-y-4",children:L.map(re=>s.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("p",{className:"font-semibold text-lg",children:We(new Date(re.date),"d MMMM yyyy",{locale:Et})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("p",{className:"text-xl font-bold",style:{color:"#45877F"},children:["",re.total_amount.toFixed(2)]}),s.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>{_(re),$(!0)},children:s.jsx(QP,{className:"w-4 h-4"})}),s.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>{confirm("Eliminare questa vendita?")&&D.mutate(re.id)},className:"text-red-600 hover:text-red-700",children:s.jsx(or,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"space-y-2",children:re.items.map((se,Pe)=>s.jsxs("div",{className:"flex items-center justify-between text-sm bg-slate-50 p-2 rounded",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-semibold",children:se.product_name}),s.jsxs("span",{className:"text-slate-600 ml-2",children:["(",se.product_id,")"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"text-slate-600",children:["",se.quantity]}),s.jsxs("span",{className:"ml-3 font-semibold",children:["",se.total.toFixed(2)]})]})]},Pe))})]},re.id))})})]}),s.jsx(As,{open:W,onOpenChange:$,children:s.jsxs(us,{className:"max-w-2xl",children:[s.jsx(ds,{children:s.jsx(fs,{children:"Modifica Vendita"})}),R&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{children:[s.jsx(ae,{children:"Data"}),s.jsx(fe,{type:"date",value:R.date,onChange:re=>_({...R,date:re.target.value})})]}),s.jsxs("div",{children:[s.jsx(ae,{children:"Articoli"}),s.jsx("div",{className:"space-y-2",children:R.items.map((re,se)=>s.jsxs("div",{className:"grid grid-cols-3 gap-2 p-2 border rounded",children:[s.jsx(fe,{placeholder:"Nome",value:re.product_name,onChange:Pe=>{const me=[...R.items];me[se].product_name=Pe.target.value,_({...R,items:me})}}),s.jsx(fe,{type:"number",placeholder:"Quantit",value:re.quantity,onChange:Pe=>{const me=[...R.items];me[se].quantity=parseInt(Pe.target.value),me[se].total=me[se].price*me[se].quantity,_({...R,items:me,total_amount:me.reduce((Be,ie)=>Be+ie.total,0)})}}),s.jsx(fe,{type:"number",step:"0.01",placeholder:"Prezzo",value:re.price,onChange:Pe=>{const me=[...R.items];me[se].price=parseFloat(Pe.target.value),me[se].total=me[se].price*me[se].quantity,_({...R,items:me,total_amount:me.reduce((Be,ie)=>Be+ie.total,0)})}})]},se))})]}),s.jsx("div",{children:s.jsxs(ae,{children:["Totale: ",R.total_amount.toFixed(2)]})})]}),s.jsxs(Fo,{children:[s.jsx(Z,{variant:"outline",onClick:()=>$(!1),children:"Annulla"}),s.jsx(Z,{onClick:()=>M.mutate({id:R.id,data:R}),style:{backgroundColor:"#45877F"},className:"text-white",children:"Salva"})]})]})})]})]})]})}function wk(){const[e,t]=x.useState(!1),[n,o]=x.useState(null),[a,l]=x.useState(""),[c,d]=x.useState({numero_tessera:0,nome:"",cognome:"",telefono:"",email:"",accenti:Array(10).fill(!1),libri_donati:0}),f=ln(),{data:p=[]}=Je({queryKey:["fidelityCards"],queryFn:()=>ue.entities.FidelityCard.list("numero_tessera")}),{data:m=[]}=Je({queryKey:["customers"],queryFn:()=>ue.entities.Customer.list()}),{data:g=[]}=Je({queryKey:["desiderata"],queryFn:()=>ue.entities.Desiderata.list()});x.useEffect(()=>{if(!n&&e){const R=p.length>0?Math.max(...p.map(_=>_.numero_tessera))+1:1;d(_=>({..._,numero_tessera:R}))}},[p,n,e]);const v=Ke({mutationFn:R=>ue.entities.FidelityCard.create(R),onSuccess:()=>{f.invalidateQueries({queryKey:["fidelityCards"]}),t(!1),o(null)}}),j=Ke({mutationFn:({id:R,data:_})=>ue.entities.FidelityCard.update(R,_),onSuccess:()=>{f.invalidateQueries({queryKey:["fidelityCards"]}),t(!1),o(null)}}),C=(R,_)=>{const W=`${R} ${_}`.toLowerCase(),$=m.find(D=>`${D.nome} ${D.cognome}`.toLowerCase()===W);if($){d(D=>({...D,telefono:$.telefono||D.telefono,email:$.email||D.email}));return}const M=g.find(D=>`${D.nome} ${D.cognome}`.toLowerCase()===W);M&&d(D=>({...D,telefono:M.tel_cliente||D.telefono,email:M.mail_cliente||D.email}))},N=R=>{R.preventDefault(),n?j.mutate({id:n.id,data:c}):v.mutate(c)},S=R=>{o(R),d({numero_tessera:R.numero_tessera,nome:R.nome,cognome:R.cognome,telefono:R.telefono||"",email:R.email||"",accenti:R.accenti||Array(10).fill(!1),libri_donati:R.libri_donati||0}),t(!0)},T=R=>{const _=[...c.accenti];_[R]=!_[R],d({...c,accenti:_})},P=()=>{const R=["Numero Tessera","Nome","Cognome","Telefono","Email","Accento 1","Accento 2","Accento 3","Accento 4","Accento 5","Accento 6","Accento 7","Accento 8","Accento 9","Accento 10","Libri Donati"],_=p.map(D=>[D.numero_tessera,D.nome,D.cognome,D.telefono||"",D.email||"",...(D.accenti||Array(10).fill(!1)).map(B=>B?"SI":"NO"),D.libri_donati||0]),W=[R.join(","),..._.map(D=>D.map(B=>`"${B}"`).join(","))].join(`
`),$=new Blob([W],{type:"text/csv;charset=utf-8;"}),M=document.createElement("a");M.href=URL.createObjectURL($),M.download=`fidelity_cards_${new Date().toISOString().split("T")[0]}.csv`,M.click()},k=async R=>{const _=R.target.files[0];if(!_)return;const W=new FileReader;W.onload=async $=>{var B;const D=$.target.result.split(`
`).filter(V=>V.trim()!=="");if(!(D.length<2)){for(let V=1;V<D.length;V++){const Y=((B=D[V].match(/(".*?"|[^,]+)(?=\s*,|\s*$)/g))==null?void 0:B.map(G=>G.replace(/"/g,"").trim()))||[],ne={numero_tessera:parseInt(Y[0])||0,nome:Y[1]||"",cognome:Y[2]||"",telefono:Y[3]||"",email:Y[4]||"",accenti:Y.slice(5,15).map(G=>(G==null?void 0:G.toUpperCase())==="SI"),libri_donati:parseInt(Y[15])||0};try{await ue.entities.FidelityCard.create(ne)}catch(G){console.error("Error importing card:",G)}}f.invalidateQueries({queryKey:["fidelityCards"]}),alert("Importazione completata!")}},W.readAsText(_),R.target.value=null},E=p.filter(R=>{var _,W,$,M,D;return((_=R.nome)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))||((W=R.cognome)==null?void 0:W.toLowerCase().includes(a.toLowerCase()))||(($=R.telefono)==null?void 0:$.includes(a))||((M=R.email)==null?void 0:M.toLowerCase().includes(a.toLowerCase()))||((D=R.numero_tessera)==null?void 0:D.toString().includes(a))}),I=R=>(R.accenti||[]).filter(_=>_).length,L=R=>I(R)>=10;return s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-black tracking-tight flex items-center gap-3",children:[s.jsx(Uw,{className:"w-10 h-10",style:{color:"#45877F"}}),"Fidelity Card"]}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Gestisci le tessere fedelt dei clienti"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Z,{variant:"outline",onClick:P,children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"Esporta CSV"]}),s.jsx(Z,{variant:"outline",asChild:!0,children:s.jsxs("label",{className:"cursor-pointer flex items-center",children:[s.jsx(Jn,{className:"w-5 h-5 mr-2"}),"Importa CSV",s.jsx("input",{type:"file",accept:".csv",onChange:k,className:"hidden"})]})}),s.jsxs(Z,{onClick:()=>{o(null);const R=p.length>0?Math.max(...p.map(_=>_.numero_tessera))+1:1;d({numero_tessera:R,nome:"",cognome:"",telefono:"",email:"",accenti:Array(10).fill(!1),libri_donati:0}),t(!0)},style:{backgroundColor:"#45877F"},className:"text-white hover:opacity-90",children:[s.jsx(an,{className:"w-5 h-5 mr-2"}),"Nuova Tessera"]})]})]}),e&&s.jsxs(ke,{className:"mb-6 border-2",style:{borderColor:"#45877F"},children:[s.jsx(ut,{className:"border-b",style:{borderColor:"#45877F20"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(pt,{children:n?"Modifica Tessera":"Nuova Tessera"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-slate-500",children:"Numero Tessera:"}),s.jsxs($e,{className:"text-xl font-bold font-mono px-3 py-1",style:{backgroundColor:"#45877F",color:"white"},children:["#",c.numero_tessera]})]})]})}),s.jsx(Te,{className:"pt-6",children:s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"nome",children:"Nome *"}),s.jsx(fe,{id:"nome",value:c.nome,onChange:R=>{d({...c,nome:R.target.value}),c.cognome&&C(R.target.value,c.cognome)},required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"cognome",children:"Cognome *"}),s.jsx(fe,{id:"cognome",value:c.cognome,onChange:R=>{d({...c,cognome:R.target.value}),c.nome&&C(c.nome,R.target.value)},required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"telefono",children:"Telefono"}),s.jsx(fe,{id:"telefono",value:c.telefono,onChange:R=>d({...c,telefono:R.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"email",children:"Email"}),s.jsx(fe,{id:"email",type:"email",value:c.email,onChange:R=>d({...c,email:R.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"libri_donati",children:"Libri Donati"}),s.jsx(fe,{id:"libri_donati",type:"number",value:c.libri_donati,onChange:R=>d({...c,libri_donati:parseInt(R.target.value)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{style:{fontFamily:"Montserrat",fontWeight:600},children:"Accenti (10 caselle)"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:c.accenti.map((R,_)=>s.jsx("button",{type:"button",onClick:()=>T(_),className:`w-12 h-12 rounded-lg border-2 flex items-center justify-center transition-all ${R?"bg-black":"bg-white hover:bg-slate-50"}`,style:R?{borderColor:"#45877F"}:{borderColor:"#cbd5e1"},children:R?s.jsx(ml,{className:"w-6 h-6 text-white"}):s.jsx(Hw,{className:"w-6 h-6 text-slate-400"})},_))})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsxs(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:[s.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Annulla"]}),s.jsxs(Z,{type:"submit",style:{backgroundColor:"#45877F"},className:"text-white",children:[s.jsx(Xo,{className:"w-4 h-4 mr-2"}),"Salva"]})]})]})})]}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx(Xn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),s.jsx(fe,{placeholder:"Cerca per nome, cognome, numero tessera...",value:a,onChange:R=>l(R.target.value),className:"pl-12 h-12"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.length===0?s.jsx(ke,{className:"md:col-span-2 lg:col-span-3",children:s.jsx(Te,{className:"p-12 text-center",children:s.jsx("p",{className:"text-slate-500 text-lg",children:"Nessuna tessera trovata"})})}):E.map(R=>s.jsx(ke,{className:`hover:shadow-lg transition-shadow ${L(R)?"border-2 border-green-600":""}`,children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs($e,{className:"mb-2 font-mono text-lg",style:{backgroundColor:"#45877F"},children:["#",R.numero_tessera]}),L(R)&&s.jsx($e,{className:"ml-2 bg-green-600 text-white",children:"Completata!"}),s.jsxs("h3",{className:"text-xl font-bold text-black",children:[R.nome," ",R.cognome]}),R.telefono&&s.jsx("p",{className:"text-sm text-slate-600",children:R.telefono}),R.email&&s.jsx("p",{className:"text-sm text-slate-500",children:R.email})]}),s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>S(R),children:"Modifica"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex gap-1",children:(R.accenti||Array(10).fill(!1)).map((_,W)=>s.jsx("div",{className:`w-8 h-8 rounded-lg border-2 flex items-center justify-center ${_?"bg-green-600 border-green-600":"bg-slate-100 border-slate-200"}`,children:_&&s.jsx(ml,{className:"w-5 h-5 text-white"})},W))}),s.jsxs("div",{className:"pt-3 border-t",children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Libri donati"}),s.jsx("p",{className:"text-2xl font-bold text-black",children:R.libri_donati||0})]})]})]})},R.id))})]})}function jk(){const e=new Date,[t,n]=x.useState(e),o=We(t,"yyyy-MM-dd");We(t,"yyyy-MM-dd"),We(e,"yyyy-MM-dd");const[a,l]=x.useState(0),[c,d]=x.useState(!1),[f,p]=x.useState(null),m=ln(),{data:g=[]}=Je({queryKey:["catalogedBooks"],queryFn:async()=>{const $=await ue.entities.CatalogedBooks.list("-date"),M=We(Pi(e,35),"yyyy-MM-dd");return $.filter(D=>D.date>=M)}}),{data:v}=Je({queryKey:["catalogedBooks",o],queryFn:async()=>(await ue.entities.CatalogedBooks.filter({date:o}))[0]}),j=Ke({mutationFn:$=>ue.entities.CatalogedBooks.create($),onSuccess:()=>{m.invalidateQueries({queryKey:["catalogedBooks"]}),d(!0)}}),C=Ke({mutationFn:({id:$,data:M})=>ue.entities.CatalogedBooks.update($,M),onSuccess:()=>{m.invalidateQueries({queryKey:["catalogedBooks"]}),d(!0)}}),N=Ke({mutationFn:async()=>{const $=await ue.entities.CatalogedBooks.list();for(const M of $)await ue.entities.CatalogedBooks.delete(M.id)},onSuccess:()=>{m.invalidateQueries({queryKey:["catalogedBooks"]}),l(0),d(!1),alert("Tutti i dati sono stati azzerati!")}}),S=Ke({mutationFn:async()=>{const $=await ue.entities.CatalogedBooks.list(),M=We(Pi(e,35),"yyyy-MM-dd"),D=$.filter(B=>B.date<M);for(const B of D)await ue.entities.CatalogedBooks.delete(B.id)},onSuccess:()=>{m.invalidateQueries({queryKey:["catalogedBooks"]})}});x.useEffect(()=>{S.mutate()},[]),x.useEffect(()=>{v?(l(v.total||0),d(!0)):(l(0),d(!1))},[v,o]),x.useEffect(()=>()=>{a>0&&T()},[]);const T=async()=>{const $=We(t,"EEEE",{locale:Et}),M=We(t,"yyyy-MM"),D={date:o,day_of_week:$,month_year:M,is_open:!0,total:a};v?await C.mutateAsync({id:v.id,data:D}):await j.mutateAsync(D)},P=()=>{d(!1),f&&clearTimeout(f);const $=setTimeout(()=>{T()},1e3);p($)};x.useEffect(()=>{(v||a>0)&&P()},[a]);const k=()=>{const $=Pi(t,1),M=Pi(e,35);$>=M&&n($)},E=()=>{const $=d1(t,1);$<=e&&n($)},L=(()=>{const $=g.filter(D=>D.is_open);return{totalBooks:$.reduce((D,B)=>D+(B.total||0),0),openDaysCount:$.length}})(),R=()=>{const $=["Data","Giorno","Totale"],M=g.filter(Y=>Y.is_open).map(Y=>[We(new Date(Y.date),"dd/MM/yyyy"),Y.day_of_week,Y.total||0]),D=[$.join(","),...M.map(Y=>Y.join(","))].join(`
`),B=new Blob([D],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a");V.href=URL.createObjectURL(B),V.download=`libri_catalogati_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(V.href)},_=async $=>{const M=$.target.files[0];if(!M)return;const D=new FileReader;D.onload=async B=>{const Y=B.target.result.split(`
`).filter(G=>G.trim()!=="");if(Y.length<2){alert("Il file CSV  vuoto o non contiene dati validi.");return}const ne=[];for(let G=1;G<Y.length;G++){const w=Y[G].split(",");if(w.length!==3){console.warn(`Skipping invalid row (incorrect column count): ${Y[G]}`);continue}try{const F=w[0].split("/");if(F.length!==3||isNaN(parseInt(F[0]))||isNaN(parseInt(F[1]))||isNaN(parseInt(F[2]))){console.warn(`Skipping invalid row (invalid date format): ${Y[G]}`);continue}const q=`${F[2]}-${F[1]}-${F[0]}`,O=parseInt(w[2])||0,Q={date:q,day_of_week:w[1],month_year:We(new Date(q),"yyyy-MM"),is_open:!0,total:O},xe=await ue.entities.CatalogedBooks.filter({date:Q.date});xe.length>0?ne.push(ue.entities.CatalogedBooks.update(xe[0].id,Q)):ne.push(ue.entities.CatalogedBooks.create(Q))}catch(F){console.error("Error importing row:",Y[G],F)}}try{await Promise.all(ne),m.invalidateQueries({queryKey:["catalogedBooks"]}),alert("Importazione completata!")}catch(G){console.error("Error during batch import:",G),alert("Si  verificato un errore durante l'importazione. Controlla la console per i dettagli.")}},D.readAsText(M),$.target.value=null},W=()=>{let $=`
      <html>
        <head>
          <title>Libri Catalogati</title>
          <style>
            body { font-family: 'Montserrat', Arial, sans-serif; padding: 20px; }
            h1 { color: #45877F; }
            table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #45877F; color: white; }
            .stats { background-color: #f5f5f5; padding: 15px; margin: 20px 0; }
          </style>
        </head>
        <body>
          <h1>Libri Catalogati - Ultimi 35 Giorni</h1>
          
          <div class="stats">
            <h2>Statistiche</h2>
            <p><strong>Totale Libri:</strong> ${L.totalBooks}</p>
            <p><strong>Giorni Lavorati:</strong> ${L.openDaysCount}</p>
          </div>

          <h2>Dettaglio Giornaliero</h2>
          <table>
            <tr><th>Data</th><th>Totale</th></tr>
            ${g.filter(V=>V.is_open).map(V=>`
              <tr>
                <td>${We(new Date(V.date),"d MMMM yyyy",{locale:Et})}</td>
                <td><strong>${V.total||0}</strong></td>
              </tr>
            `).join("")}
          </table>
        </body>
      </html>
    `;const M=new Blob([$],{type:"text/html"}),D=URL.createObjectURL(M),B=document.createElement("a");B.href=D,B.download="Libri_Catalogati.html",document.body.appendChild(B),B.click(),document.body.removeChild(B),URL.revokeObjectURL(D)};return s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-black tracking-tight flex items-center gap-3",children:[s.jsx(Qr,{className:"w-10 h-10",style:{color:"#45877F"}}),"Libri Catalogati"]}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Inserimento giornaliero"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Z,{onClick:R,variant:"outline",children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"Esporta CSV"]}),s.jsx(Z,{variant:"outline",asChild:!0,children:s.jsxs("label",{className:"cursor-pointer flex items-center",children:[s.jsx(Jn,{className:"w-5 h-5 mr-2"}),"Importa CSV",s.jsx("input",{type:"file",accept:".csv",onChange:_,className:"hidden"})]})}),s.jsxs(Z,{onClick:W,variant:"outline",children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"Esporta PDF"]}),s.jsxs(Z,{onClick:()=>N.mutate(),variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-50",children:[s.jsx(or,{className:"w-5 h-5 mr-2"}),"Azzera Tutto"]})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-6",children:[s.jsxs(ke,{className:"border-2",style:{borderColor:"#45877F"},children:[s.jsx(ut,{children:s.jsxs(pt,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Z,{variant:"ghost",size:"icon",onClick:k,disabled:We(Pi(t,1),"yyyy-MM-dd")<We(Pi(e,35),"yyyy-MM-dd"),children:s.jsx(Ep,{className:"w-5 h-5"})}),s.jsx("span",{children:We(t,"EEEE d MMMM yyyy",{locale:Et})}),s.jsx(Z,{variant:"ghost",size:"icon",onClick:E,disabled:t>=e,children:s.jsx(Tp,{className:"w-5 h-5"})})]}),c&&s.jsx("span",{className:"text-sm text-green-600",children:" Salvato"})]})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Numero libri catalogati"}),s.jsx(fe,{type:"number",value:a,onChange:$=>l(parseInt($.target.value)||0),className:"text-xl font-bold h-16 text-center",placeholder:"0"})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs(Z,{onClick:T,className:"w-full btn-primary",style:{backgroundColor:"#45877F",color:"white",fontFamily:"Montserrat",fontWeight:600},size:"lg",children:[s.jsx(Xo,{className:"w-5 h-5 mr-2"}),"Salva Giornata"]})})]})]}),s.jsxs(ke,{children:[s.jsx(ut,{children:s.jsx(pt,{children:"Statistiche Ultimi 35 Giorni"})}),s.jsxs(Te,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Totale Libri Catalogati"}),s.jsx("p",{className:"text-4xl font-bold",style:{color:"#45877F"},children:L.totalBooks})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Giorni Lavorati"}),s.jsx("p",{className:"text-2xl font-bold",children:L.openDaysCount})]})]})]})]}),s.jsxs(ke,{children:[s.jsx(ut,{children:s.jsx(pt,{children:"Storico Ultimi 35 Giorni"})}),s.jsx(Te,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-4 font-semibold",children:"Data"}),s.jsx("th",{className:"text-center py-3 px-4 font-semibold",children:"Totale"})]})}),s.jsx("tbody",{children:g.filter($=>$.is_open).length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"2",className:"text-center py-8 text-slate-500",children:"Nessun dato ancora"})}):g.filter($=>$.is_open).map($=>s.jsxs("tr",{className:"border-b hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:We(new Date($.date),"EEEE",{locale:Et})}),s.jsx("p",{className:"text-sm text-slate-500",children:We(new Date($.date),"d MMM yyyy",{locale:Et})})]})}),s.jsx("td",{className:"text-center py-3 px-4 font-bold text-black text-lg",children:$.total||0})]},$.id))})]})})})]})]})}const Lr=e=>e?e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):"";function Nk(){const[e,t]=x.useState(!1),[n,o]=x.useState(null),[a,l]=x.useState(""),[c,d]=x.useState(!1),[f,p]=x.useState({nome:"",cognome:"",telefono:"",email:"",note:""}),m=ln(),{data:g=[]}=Je({queryKey:["customers"],queryFn:()=>ue.entities.Customer.list("-created_date")}),{data:v=[]}=Je({queryKey:["desiderata"],queryFn:()=>ue.entities.Desiderata.list()}),{data:j=[]}=Je({queryKey:["fidelityCards"],queryFn:()=>ue.entities.FidelityCard.list()}),C=Ke({mutationFn:M=>ue.entities.Customer.create(M),onSuccess:()=>{m.invalidateQueries({queryKey:["customers"]}),t(!1),o(null)}}),N=Ke({mutationFn:({id:M,data:D})=>ue.entities.Customer.update(M,D),onSuccess:()=>{m.invalidateQueries({queryKey:["customers"]}),t(!1),o(null)}}),S=Ke({mutationFn:M=>ue.entities.Customer.delete(M),onSuccess:()=>{m.invalidateQueries({queryKey:["customers"]})}}),T=x.useMemo(()=>{const M=new Map;return g.map(D=>{var B,V,Y;return{...D,nome:Lr(D.nome),cognome:Lr(D.cognome),telefono:((B=D.telefono)==null?void 0:B.toLowerCase())==="unknown"?"-":D.telefono,email:((V=D.email)==null?void 0:V.toLowerCase())==="unknown"?"-":D.email,note:((Y=D.note)==null?void 0:Y.toLowerCase())==="unknown"?"-":D.note}}).filter(D=>{var V,Y;const B=`${(V=D.nome)==null?void 0:V.toLowerCase()}_${(Y=D.cognome)==null?void 0:Y.toLowerCase()}`;return M.has(B)?!1:(M.set(B,!0),!0)})},[g]),P=()=>{const M=new Map,D=new Map,B=[];return g.forEach(V=>{if(V.telefono&&V.telefono.toLowerCase()!=="unknown"){const Y=V.telefono.trim();M.has(Y)||M.set(Y,[]),M.get(Y).push(V)}if(V.email&&V.email.toLowerCase()!=="unknown"){const Y=V.email.toLowerCase().trim();D.has(Y)||D.set(Y,[]),D.get(Y).push(V)}}),M.forEach((V,Y)=>{V.length>1&&B.push({type:"telefono",value:Y,customers:V})}),D.forEach((V,Y)=>{V.length>1&&B.push({type:"email",value:Y,customers:V})}),B},k=async()=>{const M=P();if(M.length===0){alert("Nessun duplicato trovato (stesso telefono o email)");return}let D=`Trovati ${M.length} gruppi di duplicati:

`;if(M.forEach((V,Y)=>{D+=`${Y+1}. ${V.type==="telefono"?"Tel":"Email"}: ${V.value}
`,V.customers.forEach(ne=>{D+=`   - ${ne.nome} ${ne.cognome}
`}),D+=`
`}),D+="Vuoi unire i clienti duplicati? Il primo di ogni gruppo verr mantenuto, gli altri eliminati.",!confirm(D))return;let B=0;for(const V of M)for(let Y=1;Y<V.customers.length;Y++)try{await S.mutateAsync(V.customers[Y].id),B++}catch{console.log(`Cliente ${V.customers[Y].id} gi eliminato o non trovato`)}alert(`Unificati ${B} clienti duplicati!`)},E=async()=>{d(!0);try{const M=g.map(D=>`${D.nome} ${D.cognome}`.toLowerCase());for(const D of v){const B=`${D.nome} ${D.cognome}`.toLowerCase();if(!M.includes(B)){const V=j.some(Y=>`${Y.nome} ${Y.cognome}`.toLowerCase()===B);await ue.entities.Customer.create({nome:Lr(D.nome)||"",cognome:Lr(D.cognome)||"",telefono:D.tel_cliente||"",email:D.mail_cliente||"",note:V?"":"Da desiderata"})}}for(const D of j){const B=`${D.nome} ${D.cognome}`.toLowerCase();if(!M.includes(B)){const V=v.some(Y=>`${Y.nome} ${Y.cognome}`.toLowerCase()===B);await ue.entities.Customer.create({nome:Lr(D.nome),cognome:Lr(D.cognome),telefono:D.telefono||"",email:D.email||"",note:V?"":"Da fidelity card"})}}m.invalidateQueries({queryKey:["customers"]}),alert("Clienti sincronizzati con successo!")}catch(M){console.error("Errore sincronizzazione:",M)}finally{d(!1)}};x.useEffect(()=>{const M=localStorage.getItem("customers_last_sync"),D=new Date().toISOString().split("T")[0];(M!==D&&g.length>0&&(v.length>0||j.length>0)||g.length===0&&(v.length>0||j.length>0))&&(E(),localStorage.setItem("customers_last_sync",D))},[]);const I=M=>{M.preventDefault();const D={...f,nome:Lr(f.nome),cognome:Lr(f.cognome)};n?N.mutate({id:n.id,data:D}):C.mutate(D)},L=M=>{o(M),p({nome:M.nome,cognome:M.cognome,telefono:M.telefono||"",email:M.email||"",note:M.note||""}),t(!0)},R=()=>{const M=["Nome","Cognome","Telefono","Email","Note"],D=T.map(ne=>[ne.nome,ne.cognome,ne.telefono,ne.email,ne.note]),B=[M.join(","),...D.map(ne=>ne.map(G=>`"${G||""}"`).join(","))].join(`
`),V=new Blob([B],{type:"text/csv;charset=utf-8;"}),Y=document.createElement("a");Y.href=URL.createObjectURL(V),Y.download=`clienti_${new Date().toISOString().split("T")[0]}.csv`,Y.click()},_=()=>{const M=["Email Address,First Name,Last Name,Phone Number",...T.filter(V=>V.email).map(V=>`${V.email},"${V.nome}","${V.cognome}","${V.telefono||""}"`)].join(`
`),D=new Blob([M],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a");B.href=URL.createObjectURL(D),B.download=`mailchimp_export_${new Date().toISOString().split("T")[0]}.csv`,B.click()},W=()=>{const M=T.filter(D=>D.telefono).map(D=>D.telefono).join(", ");alert(`Numeri WhatsApp:
${M}`)},$=T.filter(M=>{var D,B,V,Y;return((D=M.nome)==null?void 0:D.toLowerCase().includes(a.toLowerCase()))||((B=M.cognome)==null?void 0:B.toLowerCase().includes(a.toLowerCase()))||((V=M.email)==null?void 0:V.toLowerCase().includes(a.toLowerCase()))||((Y=M.telefono)==null?void 0:Y.includes(a))});return s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-start mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-black tracking-tight flex items-center gap-3",children:[s.jsx(Yw,{className:"w-10 h-10",style:{color:"#45877F"}}),"Clienti"]}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Gestisci i contatti dei clienti"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{onClick:E,disabled:c,variant:"outline",className:"border-2",style:c?{}:{borderColor:"#45877F",color:"#45877F"},children:c?"Sincronizzazione...":"Sincronizza"}),s.jsxs(Z,{onClick:k,variant:"outline",children:[s.jsx(or,{className:"w-5 h-5 mr-2"}),"Duplicati"]}),s.jsxs(Z,{onClick:R,variant:"outline",children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"CSV"]}),s.jsxs(Z,{onClick:_,variant:"outline",children:[s.jsx(Fu,{className:"w-5 h-5 mr-2"}),"Mail"]}),s.jsxs(Z,{onClick:W,variant:"outline",children:[s.jsx($v,{className:"w-5 h-5 mr-2"}),"WhatsApp"]}),s.jsxs(Z,{onClick:()=>{o(null),p({nome:"",cognome:"",telefono:"",email:"",note:""}),t(!0)},style:{backgroundColor:"#45877F"},className:"text-white",children:[s.jsx(an,{className:"w-5 h-5 mr-2"}),"Nuovo"]})]})]}),e&&s.jsx(ke,{className:"mb-6 border-2",style:{borderColor:"#45877F"},children:s.jsx(Te,{className:"p-6",children:s.jsxs("form",{onSubmit:I,className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"nome",children:"Nome *"}),s.jsx(fe,{id:"nome",value:f.nome,onChange:M=>p({...f,nome:M.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"cognome",children:"Cognome *"}),s.jsx(fe,{id:"cognome",value:f.cognome,onChange:M=>p({...f,cognome:M.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"telefono",children:"Telefono"}),s.jsx(fe,{id:"telefono",value:f.telefono,onChange:M=>p({...f,telefono:M.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{htmlFor:"email",children:"Email"}),s.jsx(fe,{id:"email",type:"email",value:f.email,onChange:M=>p({...f,email:M.target.value})})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(ae,{htmlFor:"note",children:"Note"}),s.jsx(ur,{id:"note",value:f.note,onChange:M=>p({...f,note:M.target.value}),rows:3})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsxs(Z,{type:"button",variant:"outline",onClick:()=>t(!1),children:[s.jsx(Zn,{className:"w-4 h-4 mr-2"}),"Annulla"]}),s.jsxs(Z,{type:"submit",style:{backgroundColor:"#45877F"},className:"text-white",children:[s.jsx(Xo,{className:"w-4 h-4 mr-2"}),"Salva"]})]})]})})}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx(Xn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),s.jsx(fe,{placeholder:"Cerca clienti...",value:a,onChange:M=>l(M.target.value),className:"pl-12 h-12"})]}),s.jsx("div",{className:"space-y-3",children:$.length===0?s.jsx(ke,{children:s.jsx(Te,{className:"p-12 text-center",children:s.jsx("p",{className:"text-slate-500 text-lg",children:"Nessun cliente ancora"})})}):$.map(M=>s.jsx(ke,{className:"hover:shadow-lg transition-shadow",children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-xl font-bold text-black mb-2",children:[M.nome," ",M.cognome]}),s.jsxs("div",{className:"space-y-1",children:[M.telefono&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[s.jsx($v,{className:"w-4 h-4"}),s.jsx("a",{href:`https://wa.me/${M.telefono.replace(/\D/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:M.telefono})]}),M.email&&M.email!=="-"&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[s.jsx(Fu,{className:"w-4 h-4"}),s.jsx("a",{href:`mailto:${M.email}`,className:"hover:underline",children:M.email})]}),M.note&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Note:"}),s.jsx("p",{className:"text-sm text-slate-700",children:M.note})]})]})]}),s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>L(M),children:"Modifica"})]})})},M.id))})]})}function Sk(){const e=ln(),{data:t=[]}=Je({queryKey:["otherItems"],queryFn:()=>ue.entities.OtherItem.list()}),n=Ke({mutationFn:({id:d,data:f})=>ue.entities.OtherItem.update(d,f),onSuccess:()=>{e.invalidateQueries({queryKey:["otherItems"]})}}),o=async d=>{const f=Math.max(0,(d.da_pagare||0)-1),p={...d,da_pagare:f,fornitore_pagato:f===0?"SI":"NO",giacenza:d.stock-d.venduto,ricavo_libreria:d.prezzo_pubblico-d.costo,ricavo_fornitore:d.costo*d.venduto,da_pagare_art:d.costo*f};await n.mutateAsync({id:d.id,data:p})},a=t.filter(d=>d.contovendita==="SI"&&d.fornitore_pagato!=="SI"&&d.da_pagare>0).reduce((d,f)=>{const p=f.proprietario||"Sconosciuto";d[p]||(d[p]={nome:f.proprietario||"Sconosciuto",telefono:f.tel_proprietario||"",email:f.mail_proprietario||"",items:[],totalToPay:0});const m=f.da_pagare_art||0;return d[p].items.push({...f,amountToPay:m}),d[p].totalToPay+=m,d},{}),l=Object.values(a),c=l.reduce((d,f)=>d+f.totalToPay,0);return s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-4xl font-bold text-black tracking-tight flex items-center gap-3",children:[s.jsx(Xw,{className:"w-10 h-10",style:{color:"#45877F"}}),"Fornitori da Pagare"]}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Riepilogo pagamenti conto vendita"})]}),l.length===0?s.jsx(ke,{children:s.jsx(Te,{className:"p-12 text-center",children:s.jsx("p",{className:"text-slate-500 text-lg",children:"Nessun fornitore da pagare"})})}):s.jsxs(s.Fragment,{children:[s.jsx(ke,{className:"mb-6 bg-amber-50 border-amber-200 border-2",children:s.jsx(Te,{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(An,{className:"w-6 h-6 text-amber-600"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-bold text-lg text-amber-900",children:["Totale da Pagare: ",c.toFixed(2)]}),s.jsxs("p",{className:"text-sm text-amber-700",children:[l.length," fornitore/i in attesa di pagamento"]})]})]})})})}),s.jsx("div",{className:"space-y-4",children:l.map((d,f)=>s.jsxs(ke,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(ut,{className:"border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pt,{className:"text-2xl",children:d.nome}),d.telefono&&s.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[" ",d.telefono]}),d.email&&s.jsxs("p",{className:"text-sm text-slate-500",children:[" ",d.email]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Totale da Pagare"}),s.jsxs("p",{className:"text-3xl font-bold text-red-600",children:["",d.totalToPay.toFixed(2)]})]})]})}),s.jsx(Te,{className:"p-6",children:s.jsx("div",{className:"space-y-3",children:d.items.map(p=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx(Wo,{checked:!1,onCheckedChange:()=>o(p),className:"data-[state=checked]:bg-amber-600 data-[state=checked]:border-amber-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx($e,{style:{backgroundColor:"#45877F"},className:"text-white font-mono",children:p.id_univoco}),s.jsx($e,{className:"bg-blue-600 text-white",children:"Conto Vendita"})]}),s.jsx("p",{className:"font-semibold text-black",children:p.oggetto}),s.jsxs("div",{className:"flex gap-4 text-sm text-slate-600 mt-1",children:[s.jsxs("span",{children:["Venduto: ",p.venduto||0]}),s.jsxs("span",{children:["Da Pagare: ",p.da_pagare||0," pz"]}),s.jsxs("span",{children:["Costo: ",(p.costo||0).toFixed(2)]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Importo"}),s.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",p.amountToPay.toFixed(2)]})]})]},p.id))})})]},f))})]})]})}var wB=Symbol("radix.slottable");function jB(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=wB,t}var Ck="AlertDialog",[NB]=gs(Ck,[Pj]),hr=Pj(),kk=e=>{const{__scopeAlertDialog:t,...n}=e,o=hr(t);return s.jsx(Vp,{...o,...n,modal:!0})};kk.displayName=Ck;var SB="AlertDialogTrigger",CB=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...o}=e,a=hr(n);return s.jsx(QM,{...a,...o,ref:t})});CB.displayName=SB;var kB="AlertDialogPortal",_k=e=>{const{__scopeAlertDialog:t,...n}=e,o=hr(t);return s.jsx(Bp,{...o,...n})};_k.displayName=kB;var _B="AlertDialogOverlay",Ek=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...o}=e,a=hr(n);return s.jsx(Rl,{...a,...o,ref:t})});Ek.displayName=_B;var $i="AlertDialogContent",[EB,TB]=NB($i),PB=jB("AlertDialogContent"),Tk=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:o,...a}=e,l=hr(n),c=x.useRef(null),d=gt(t,c),f=x.useRef(null);return s.jsx(qM,{contentName:$i,titleName:Pk,docsSlug:"alert-dialog",children:s.jsx(EB,{scope:n,cancelRef:f,children:s.jsxs(Al,{role:"alertdialog",...l,...a,ref:d,onOpenAutoFocus:Ye(a.onOpenAutoFocus,p=>{var m;p.preventDefault(),(m=f.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[s.jsx(PB,{children:o}),s.jsx(AB,{contentRef:c})]})})})});Tk.displayName=$i;var Pk="AlertDialogTitle",Rk=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...o}=e,a=hr(n);return s.jsx(Ml,{...a,...o,ref:t})});Rk.displayName=Pk;var Ak="AlertDialogDescription",Mk=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...o}=e,a=hr(n);return s.jsx(Fl,{...a,...o,ref:t})});Mk.displayName=Ak;var RB="AlertDialogAction",Fk=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...o}=e,a=hr(n);return s.jsx(ld,{...a,...o,ref:t})});Fk.displayName=RB;var Dk="AlertDialogCancel",Ok=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...o}=e,{cancelRef:a}=TB(Dk,n),l=hr(n),c=gt(t,a);return s.jsx(ld,{...l,...o,ref:c})});Ok.displayName=Dk;var AB=({contentRef:e})=>{const t=`\`${$i}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$i}\` by passing a \`${Ak}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$i}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var o;document.getElementById((o=e.current)==null?void 0:o.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},MB=kk,FB=_k,Ik=Ek,zk=Tk,Lk=Fk,$k=Ok,Vk=Rk,Bk=Mk;const DB=MB,OB=FB,Uk=x.forwardRef(({className:e,...t},n)=>s.jsx(Ik,{className:Ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Uk.displayName=Ik.displayName;const Wk=x.forwardRef(({className:e,...t},n)=>s.jsxs(OB,{children:[s.jsx(Uk,{}),s.jsx(zk,{ref:n,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Wk.displayName=zk.displayName;const qk=({className:e,...t})=>s.jsx("div",{className:Ce("flex flex-col space-y-2 text-center sm:text-left",e),...t});qk.displayName="AlertDialogHeader";const Hk=({className:e,...t})=>s.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Hk.displayName="AlertDialogFooter";const Kk=x.forwardRef(({className:e,...t},n)=>s.jsx(Vk,{ref:n,className:Ce("text-lg font-semibold",e),...t}));Kk.displayName=Vk.displayName;const Gk=x.forwardRef(({className:e,...t},n)=>s.jsx(Bk,{ref:n,className:Ce("text-sm text-muted-foreground",e),...t}));Gk.displayName=Bk.displayName;const Qk=x.forwardRef(({className:e,...t},n)=>s.jsx(Lk,{ref:n,className:Ce(Dp(),e),...t}));Qk.displayName=Lk.displayName;const Yk=x.forwardRef(({className:e,...t},n)=>s.jsx($k,{ref:n,className:Ce(Dp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Yk.displayName=$k.displayName;function Xk(){const[e,t]=x.useState(new Date),[n,o]=x.useState(!1),[a,l]=x.useState(null),[c,d]=x.useState(!1),f=ln(),p=We(e,"yyyy-MM"),{data:m=[]}=Je({queryKey:["shifts",p],queryFn:()=>ue.entities.Shift.filter({month_year:p})}),g=Ke({mutationFn:_=>ue.entities.Shift.create(_),onSuccess:()=>f.invalidateQueries({queryKey:["shifts"]})}),v=Ke({mutationFn:({id:_,data:W})=>ue.entities.Shift.update(_,W),onSuccess:()=>{f.invalidateQueries({queryKey:["shifts"]}),l(null)}}),j=Ke({mutationFn:async _=>{for(const W of _)await ue.entities.Shift.create(W)},onSuccess:()=>{f.invalidateQueries({queryKey:["shifts"]}),alert("Piano turni generato!")}}),C=Ke({mutationFn:async()=>{for(const _ of m)await ue.entities.Shift.delete(_.id)},onSuccess:()=>{f.invalidateQueries({queryKey:["shifts"]}),d(!1),alert("Tutti i turni sono stati eliminati!")}}),N=_=>[`${_}-01-01`,`${_}-01-06`,`${_}-04-25`,`${_}-05-01`,`${_}-06-02`,`${_}-08-15`,`${_}-11-01`,`${_}-12-08`,`${_}-12-25`,`${_}-12-26`],S=(_,W)=>N(W).includes(_),T=()=>{const _=Um(e),W=Bm(e),$=Ku({start:_,end:W}),M=e.getFullYear(),D=N(M),B=$.map(ie=>{const Se=Br(ie),it=We(ie,"yyyy-MM-dd"),Xe=We(ie,"EEEE",{locale:Et}),xt=D.includes(it);return{date:it,month_year:p,day_of_week:Xe,morning_shift:"Chiuso",afternoon_shift:"Chiuso",notes:"",dayOfWeek:Se,isHoliday:xt,isSaturday:Se===6,isSunday:Se===0,isMonday:Se===1}});B.forEach(ie=>{ie.isHoliday?ie.notes="Festivit":ie.isMonday||(ie.isSunday?ie.morning_shift="Chiuso":(ie.morning_shift="LIBERO",ie.afternoon_shift="LIBERO")),ie.isSunday&&!ie.isHoliday&&(ie.afternoon_shift="LIBERO")});const V=B.filter(ie=>ie.morning_shift==="LIBERO"||ie.afternoon_shift==="LIBERO").reduce((ie,Se)=>ie+(Se.morning_shift==="LIBERO"?1:0)+(Se.afternoon_shift==="LIBERO"?1:0),0),Y=B.filter(ie=>ie.isSaturday||ie.isSunday).reduce((ie,Se)=>ie+(Se.morning_shift==="LIBERO"?1:0)+(Se.afternoon_shift==="LIBERO"?1:0),0),ne=16,G=V-ne,w=Math.floor(G/2),F=Math.floor(G/2),q=ne+G%2,O=[];B.forEach(ie=>{(ie.isSaturday||ie.isSunday)&&!ie.isHoliday&&(ie.morning_shift==="LIBERO"&&O.push({shift:ie,period:"morning"}),ie.afternoon_shift==="LIBERO"&&O.push({shift:ie,period:"afternoon"}))});const Q=Math.floor(Y/3),xe=Y%3;let he=0,je=0,_e=0;const le=Q,ve=Q,we=Q+xe;O.forEach(ie=>{ie.period==="morning"&&he<le?(ie.shift.morning_shift="Dario",he++):ie.period==="afternoon"&&je<ve?(ie.shift.afternoon_shift="Marco",je++):_e<we&&(ie.period==="morning"?ie.shift.morning_shift="Morena":ie.shift.afternoon_shift="Morena",_e++)});const Ie=B.filter(ie=>!ie.isHoliday&&!ie.isMonday&&!ie.isSaturday&&!ie.isSunday),ce=[];let Ee=[];Ie.forEach((ie,Se)=>{Ee.push(ie),(ie.dayOfWeek===5||Se===Ie.length-1)&&Ee.length>0&&(ce.push([...Ee]),Ee=[])});let re=0;ce.forEach((ie,Se)=>{if(re>=8)return;const it=ie.find(xt=>xt.dayOfWeek===3),Xe=ie.find(xt=>xt.dayOfWeek===4);Se%2===0?(it&&it.morning_shift==="LIBERO"&&re<8&&(it.morning_shift="Morena",re++),Xe&&Xe.afternoon_shift==="LIBERO"&&re<8&&(Xe.afternoon_shift="Morena",re++)):(Xe&&Xe.morning_shift==="LIBERO"&&re<8&&(Xe.morning_shift="Morena",re++),it&&it.afternoon_shift==="LIBERO"&&re<8&&(it.afternoon_shift="Morena",re++))});let se=he,Pe=je,me=_e+re;B.forEach(ie=>{ie.morning_shift==="LIBERO"&&se<w&&(ie.morning_shift="Dario",se++),ie.afternoon_shift==="LIBERO"&&Pe<F&&(ie.afternoon_shift="Marco",Pe++)}),B.forEach(ie=>{me>=q||(ie.morning_shift==="LIBERO"?(ie.morning_shift="Morena",me++):ie.afternoon_shift==="LIBERO"&&(ie.afternoon_shift="Morena",me++))});const Be=B.map(ie=>({date:ie.date,month_year:ie.month_year,day_of_week:ie.day_of_week,morning_shift:ie.morning_shift==="LIBERO"?"Chiuso":ie.morning_shift,afternoon_shift:ie.afternoon_shift==="LIBERO"?"Chiuso":ie.afternoon_shift,notes:ie.notes}));j.mutate(Be)},P=_=>{const W=m.filter(B=>B.morning_shift===_||B.afternoon_shift===_);if(W.length===0){alert("Nessun turno da esportare per questa persona");return}let $=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Libera//Turni//IT","CALSCALE:GREGORIAN","METHOD:PUBLISH"];W.forEach(B=>{if(!B.date)return;const V=new Date(B.date);if(isNaN(V.getTime()))return;const Y=We(V,"yyyyMMdd");B.morning_shift===_&&$.push("BEGIN:VEVENT",`DTSTART:${Y}T100000`,`DTEND:${Y}T130000`,`SUMMARY:Turno Mattina - ${_}`,"DESCRIPTION:Turno mattina presso Libera","END:VEVENT"),B.afternoon_shift===_&&$.push("BEGIN:VEVENT",`DTSTART:${Y}T170000`,`DTEND:${Y}T200000`,`SUMMARY:Turno Pomeriggio - ${_}`,"DESCRIPTION:Turno pomeriggio presso Libera","END:VEVENT")}),$.push("END:VCALENDAR");const M=new Blob([$.join(`
`)],{type:"text/calendar;charset=utf-8"}),D=document.createElement("a");D.href=URL.createObjectURL(M),D.download=`turni_${_}_${p}.ics`,D.click()},E=(()=>{const _=e.getFullYear(),W=N(_),$=M=>{const D=m.filter(F=>F.morning_shift===M).length,B=m.filter(F=>F.afternoon_shift===M).length,V=D+B,Y=m.filter(F=>{if(!F.date)return!1;const q=new Date(F.date);return isNaN(q.getTime())?!1:Br(q)===6&&(F.morning_shift===M||F.afternoon_shift===M)}).reduce((F,q)=>F+(q.morning_shift===M?1:0)+(q.afternoon_shift===M?1:0),0),ne=m.filter(F=>{if(!F.date)return!1;const q=new Date(F.date);return isNaN(q.getTime())?!1:Br(q)===0&&(F.morning_shift===M||F.afternoon_shift===M)}).reduce((F,q)=>F+(q.morning_shift===M?1:0)+(q.afternoon_shift===M?1:0),0),G=m.filter(F=>F.date&&W.includes(F.date)&&(F.morning_shift===M||F.afternoon_shift===M)).reduce((F,q)=>F+(q.morning_shift===M?1:0)+(q.afternoon_shift===M?1:0),0),w=m.filter(F=>{if(!F.date)return!1;const q=new Date(F.date);if(isNaN(q.getTime()))return!1;const O=new Date(q);O.setDate(O.getDate()+1);const Q=We(O,"yyyy-MM-dd");return W.includes(Q)&&(F.morning_shift===M||F.afternoon_shift===M)}).reduce((F,q)=>F+(q.morning_shift===M?1:0)+(q.afternoon_shift===M?1:0),0);return{total:V,saturday:Y,sunday:ne,holiday:G,preHoliday:w,special:Y+ne+G+w}};return{dario:$("Dario"),marco:$("Marco"),morena:$("Morena")}})(),I=()=>{const _=["Data","Giorno","Turno Mattina","Turno Pomeriggio","Note"],W=m.filter(B=>B.date).map(B=>{const V=new Date(B.date);return[isNaN(V.getTime())?B.date:We(V,"dd/MM/yyyy"),B.day_of_week,B.morning_shift||"",B.afternoon_shift||"",B.notes||""]}),$=[_.join(","),...W.map(B=>B.map(V=>`"${V}"`).join(","))].join(`
`),M=new Blob([$],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a");D.href=URL.createObjectURL(M),D.download=`turni_${p}.csv`,D.click()},L=async _=>{const W=_.target.files[0];if(!W)return;const $=new FileReader;$.onload=async M=>{var V;const B=M.target.result.split(`
`).filter(Y=>Y.trim()!=="");if(!(B.length<2)){for(let Y=1;Y<B.length;Y++){const ne=((V=B[Y].match(/(".*?"|[^,]+)(?=\s*,|\s*$)/g))==null?void 0:V.map(q=>q.replace(/"/g,"").trim()))||[];if(ne.length<3)continue;const G=ne[0].split("/");if(G.length!==3)continue;const w=`${G[2]}-${G[1]}-${G[0]}`,F={date:w,month_year:We(new Date(w),"yyyy-MM"),day_of_week:ne[1],morning_shift:ne[2]||"Chiuso",afternoon_shift:ne[3]||"Chiuso",notes:ne[4]||""};try{await ue.entities.Shift.create(F)}catch(q){console.error("Error importing shift:",q)}}f.invalidateQueries({queryKey:["shifts"]}),alert("Importazione completata!")}},$.readAsText(W),_.target.value=null},R=()=>{let _=`
      <html>
        <head>
          <title>Piano Turni</title>
          <style>
            body { font-family: 'Montserrat', Arial, sans-serif; padding: 20px; }
            h1 { color: #45877F; }
            table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
            th { background-color: #45877F; color: white; }
            .stats { background-color: #f5f5f5; padding: 15px; margin: 20px 0; }
          </style>
        </head>
        <body>
          <h1>Piano Turni - ${We(e,"MMMM yyyy",{locale:Et})}</h1>
          
          <div class="stats">
            <h2>Statistiche</h2>
            <p><strong>Totale Turni Dario:</strong> ${E.dario}</p>
            <p><strong>Totale Turni Marco:</strong> ${E.marco}</p>
            <p><strong>Totale Turni Morena:</strong> ${E.morena}</p>
          </div>

          <h2>Dettaglio Turni</h2>
          <table>
            <tr>
              <th>Data</th>
              <th>Giorno</th>
              <th>Turno Mattina</th>
              <th>Turno Pomeriggio</th>
              <th>Note</th>
            </tr>
            ${m.filter(D=>D.date).map(D=>{const B=new Date(D.date);return`
              <tr>
                <td>${isNaN(B.getTime())?D.date:We(B,"d MMMM yyyy",{locale:Et})}</td>
                <td>${D.day_of_week}</td>
                <td><strong>${D.morning_shift}</strong></td>
                <td><strong>${D.afternoon_shift}</strong></td>
                <td>${D.notes||"-"}</td>
              </tr>
            `}).join("")}
          </table>
        </body>
      </html>
    `;const W=new Blob([_],{type:"text/html"}),$=URL.createObjectURL(W),M=document.createElement("a");M.href=$,M.download=`Piano_Turni_${p}.html`,document.body.appendChild(M),M.click(),document.body.removeChild(M),URL.revokeObjectURL($)};return s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsx(DB,{open:c,onOpenChange:d,children:s.jsxs(Wk,{children:[s.jsxs(qk,{children:[s.jsx(Kk,{children:"Elimina Tutti i Turni"}),s.jsxs(Gk,{children:["Sei sicuro di voler eliminare tutti i ",m.length," turni di questo mese? Questa azione non pu essere annullata."]})]}),s.jsxs(Hk,{children:[s.jsx(Yk,{children:"Annulla"}),s.jsx(Qk,{onClick:()=>C.mutate(),className:"bg-red-600 hover:bg-red-700",children:"Elimina Tutti"})]})]})}),s.jsx(As,{open:a!==null,onOpenChange:_=>!_&&l(null),children:s.jsxs(us,{className:"bg-white border-2 shadow-2xl",style:{borderColor:"#45877F"},children:[s.jsx(ds,{className:"bg-white border-b pb-4",children:s.jsxs(fs,{className:"text-xl font-bold",children:["Modifica Turno - ",a&&a.date&&(()=>{const _=new Date(a.date);return isNaN(_.getTime())?a.date:We(_,"d MMMM yyyy",{locale:Et})})()]})}),a&&s.jsxs("div",{className:"space-y-4 py-4 bg-white",children:[s.jsxs("div",{children:[s.jsx(ae,{className:"font-semibold text-base mb-2 block",children:"Turno Mattina (10:00-13:00)"}),s.jsxs(vt,{value:a.morning_shift,onValueChange:_=>l({...a,morning_shift:_}),children:[s.jsx(ht,{className:"h-12 text-base",children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"Dario",children:"Dario"}),s.jsx(oe,{value:"Marco",children:"Marco (eccezionale)"}),s.jsx(oe,{value:"Morena",children:"Morena"}),s.jsx(oe,{value:"Doppia presenza",children:"Doppia presenza"}),s.jsx(oe,{value:"Chiuso",children:"Chiuso"})]})]})]}),s.jsxs("div",{children:[s.jsx(ae,{className:"font-semibold text-base mb-2 block",children:"Turno Pomeriggio (17:00-20:00)"}),s.jsxs(vt,{value:a.afternoon_shift,onValueChange:_=>l({...a,afternoon_shift:_}),children:[s.jsx(ht,{className:"h-12 text-base",children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"Marco",children:"Marco"}),s.jsx(oe,{value:"Dario",children:"Dario (eccezionale)"}),s.jsx(oe,{value:"Morena",children:"Morena"}),s.jsx(oe,{value:"Doppia presenza",children:"Doppia presenza"}),s.jsx(oe,{value:"Chiuso",children:"Chiuso"})]})]})]}),s.jsxs("div",{children:[s.jsx(ae,{className:"font-semibold text-base mb-2 block",children:"Note"}),s.jsx(ur,{value:a.notes||"",onChange:_=>l({...a,notes:_.target.value}),placeholder:"Note aggiuntive...",className:"min-h-[100px]"})]})]}),s.jsxs(Fo,{className:"bg-white border-t pt-4",children:[s.jsx(Z,{variant:"outline",onClick:()=>l(null),className:"px-6",children:"Annulla"}),s.jsx(Z,{onClick:()=>v.mutate({id:a.id,data:a}),style:{backgroundColor:"#45877F"},className:"text-white px-6",children:"Salva Modifiche"})]})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-black tracking-tight flex items-center gap-3",children:[s.jsx(hl,{className:"w-10 h-10",style:{color:"#45877F"}}),"Turni"]}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Gestione turni mensili"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{variant:"outline",onClick:()=>t(AL(e)),children:s.jsx(Ep,{className:"w-5 h-5"})}),s.jsx(Z,{variant:"outline",disabled:!0,className:"min-w-[200px]",children:We(e,"MMMM yyyy",{locale:Et})}),s.jsx(Z,{variant:"outline",onClick:()=>t(f1(e,1)),children:s.jsx(Tp,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(Z,{onClick:T,style:{backgroundColor:"#45877F"},className:"text-white",disabled:m.length>0,children:[s.jsx(an,{className:"w-5 h-5 mr-2"}),"Genera Turni"]}),s.jsxs(Z,{variant:"outline",onClick:I,disabled:m.length===0,children:[s.jsx(en,{className:"w-5 h-5 mr-2"}),"Esporta CSV"]}),s.jsx(Z,{variant:"outline",asChild:!0,children:s.jsxs("label",{className:"cursor-pointer flex items-center",children:[s.jsx(Jn,{className:"w-5 h-5 mr-2"}),"Importa CSV",s.jsx("input",{type:"file",accept:".csv",onChange:L,className:"hidden"})]})}),s.jsxs(Z,{variant:"outline",onClick:R,disabled:m.length===0,children:[s.jsx(PP,{className:"w-5 h-5 mr-2"}),"Esporta PDF"]}),s.jsxs(Z,{variant:"outline",onClick:()=>d(!0),disabled:m.length===0,className:"border-red-300 text-red-700 hover:bg-red-50",children:[s.jsx(or,{className:"w-5 h-5 mr-2"}),"Elimina Tutto"]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[s.jsx(ke,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>o(!0),children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold text-slate-900",children:"Dario"}),s.jsx(_o,{className:"w-5 h-5",style:{color:"#45877F"}})]}),s.jsx("p",{className:"text-3xl font-bold mb-2",style:{color:"#45877F"},children:E.dario.total}),s.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Clicca per dettagli"}),s.jsxs(Z,{variant:"outline",size:"sm",disabled:E.dario.total===0,onClick:_=>{_.stopPropagation(),P("Dario")},className:"w-full",children:[s.jsx(en,{className:"w-4 h-4 mr-2"}),"Scarica Calendario"]})]})}),s.jsx(ke,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>o(!0),children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold text-slate-900",children:"Marco"}),s.jsx(_o,{className:"w-5 h-5 text-blue-600"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-600 mb-2",children:E.marco.total}),s.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Clicca per dettagli"}),s.jsxs(Z,{variant:"outline",size:"sm",disabled:E.marco.total===0,onClick:_=>{_.stopPropagation(),P("Marco")},className:"w-full",children:[s.jsx(en,{className:"w-4 h-4 mr-2"}),"Scarica Calendario"]})]})}),s.jsx(ke,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>o(!0),children:s.jsxs(Te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold text-slate-900",children:"Morena"}),s.jsx(_o,{className:"w-5 h-5 text-purple-600"})]}),s.jsx("p",{className:"text-3xl font-bold text-purple-600 mb-2",children:E.morena.total}),s.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"Clicca per dettagli"}),s.jsxs(Z,{variant:"outline",size:"sm",disabled:E.morena.total===0,onClick:_=>{_.stopPropagation(),P("Morena")},className:"w-full",children:[s.jsx(en,{className:"w-4 h-4 mr-2"}),"Scarica Calendario"]})]})})]}),s.jsx(As,{open:n,onOpenChange:o,children:s.jsxs(us,{className:"max-w-4xl bg-white",children:[s.jsx(ds,{children:s.jsxs(fs,{className:"text-2xl",children:["Statistiche Dettagliate - ",We(e,"MMMM yyyy",{locale:Et})]})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs(ke,{children:[s.jsx(ut,{className:"pb-3",children:s.jsxs(pt,{className:"text-lg flex items-center gap-2",children:[s.jsx(_o,{className:"w-5 h-5",style:{color:"#45877F"}}),"Dario"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Totali:"}),s.jsx("span",{className:"font-bold",children:E.dario.total})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Sabato:"}),s.jsx("span",{className:"font-semibold",children:E.dario.saturday})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Domenica:"}),s.jsx("span",{className:"font-semibold",children:E.dario.sunday})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Festivi:"}),s.jsx("span",{className:"font-semibold",children:E.dario.holiday})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Prefestivi:"}),s.jsx("span",{className:"font-semibold",children:E.dario.preHoliday})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2 mt-2",children:[s.jsx("span",{className:"text-sm font-semibold",children:"Turni Speciali:"}),s.jsx("span",{className:"font-bold",style:{color:"#45877F"},children:E.dario.special})]})]})]}),s.jsxs(ke,{children:[s.jsx(ut,{className:"pb-3",children:s.jsxs(pt,{className:"text-lg flex items-center gap-2",children:[s.jsx(_o,{className:"w-5 h-5 text-blue-600"}),"Marco"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Totali:"}),s.jsx("span",{className:"font-bold",children:E.marco.total})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Sabato:"}),s.jsx("span",{className:"font-semibold",children:E.marco.saturday})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Domenica:"}),s.jsx("span",{className:"font-semibold",children:E.marco.sunday})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Festivi:"}),s.jsx("span",{className:"font-semibold",children:E.marco.holiday})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Prefestivi:"}),s.jsx("span",{className:"font-semibold",children:E.marco.preHoliday})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2 mt-2",children:[s.jsx("span",{className:"text-sm font-semibold",children:"Turni Speciali:"}),s.jsx("span",{className:"font-bold text-blue-600",children:E.marco.special})]})]})]}),s.jsxs(ke,{children:[s.jsx(ut,{className:"pb-3",children:s.jsxs(pt,{className:"text-lg flex items-center gap-2",children:[s.jsx(_o,{className:"w-5 h-5 text-purple-600"}),"Morena"]})}),s.jsxs(Te,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Totali:"}),s.jsx("span",{className:"font-bold",children:E.morena.total})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Sabato:"}),s.jsx("span",{className:"font-semibold",children:E.morena.saturday})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Domenica:"}),s.jsx("span",{className:"font-semibold",children:E.morena.sunday})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Festivi:"}),s.jsx("span",{className:"font-semibold",children:E.morena.holiday})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Turni Prefestivi:"}),s.jsx("span",{className:"font-semibold",children:E.morena.preHoliday})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2 mt-2",children:[s.jsx("span",{className:"text-sm font-semibold",children:"Turni Speciali:"}),s.jsx("span",{className:"font-bold text-purple-600",children:E.morena.special})]})]})]})]}),s.jsx(ke,{className:"bg-slate-50",children:s.jsxs(Te,{className:"p-4",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Riepilogo Equit"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Dario vs Marco:"})," ",E.dario.total===E.marco.total?" Perfettamente bilanciati":` Differenza di ${Math.abs(E.dario.total-E.marco.total)} turni`]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Morena:"})," ",E.morena.total," turni su 16 massimi"]})]})]})})]})]})}),m.length===0?s.jsx(ke,{children:s.jsxs(Te,{className:"p-12 text-center",children:[s.jsx(hl,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),s.jsx("p",{className:"text-slate-500 text-lg mb-4",children:"Nessun turno presente per questo mese"}),s.jsxs(Z,{onClick:T,style:{backgroundColor:"#45877F",color:"white",fontFamily:"Montserrat",fontWeight:600},children:[s.jsx(an,{className:"w-5 h-5 mr-2"}),"Genera Turni Vuoti"]})]})}):s.jsxs(ke,{children:[s.jsx(ut,{children:s.jsxs(pt,{children:["Piano Turni ",We(e,"MMMM yyyy",{locale:Et})]})}),s.jsxs(Te,{children:[s.jsx("div",{className:"mb-4 grid grid-cols-7 gap-2",children:["Lun","Mar","Mer","Gio","Ven","Sab","Dom"].map((_,W)=>s.jsx("div",{className:`text-center font-semibold text-sm py-2 ${W>=5?"text-red-600":"text-slate-700"}`,children:_},_))}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:(()=>{const _=Um(e),W=Bm(e),$=Ku({start:_,end:W}),M=Br(_),D=M===0?6:M-1,B=[];for(let V=0;V<D;V++)B.push(null);return B.push(...$),B.map((V,Y)=>{if(!V)return s.jsx("div",{className:"p-2 min-h-[140px]"},`empty-${Y}`);const ne=We(V,"yyyy-MM-dd"),G=m.find(Q=>Q.date===ne),w=We(new Date,"yyyy-MM-dd")===ne,F=Br(V),q=e.getFullYear(),O=S(ne,q);return s.jsxs("div",{className:`p-2 border rounded-lg min-h-[140px] ${w?"border-2 border-blue-500 bg-blue-50":(G==null?void 0:G.morning_shift)==="Chiuso"&&(G==null?void 0:G.afternoon_shift)==="Chiuso"?"border-slate-400 bg-slate-200":O?"border-red-300 bg-red-100":F===0?"border-red-200 bg-red-50":"border-slate-200"}`,children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("p",{className:`font-bold text-sm ${O?"text-red-600":"text-black"}`,children:We(V,"d")}),O&&s.jsx("p",{className:"text-[9px] text-red-600 font-semibold",children:"FESTIVIT"}),(G==null?void 0:G.morning_shift)==="Chiuso"&&(G==null?void 0:G.afternoon_shift)==="Chiuso"&&s.jsx("p",{className:"text-[9px] text-slate-600 font-semibold",children:"CHIUSO"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{children:[s.jsx(ae,{className:"text-[10px] text-slate-500 block",children:"Mattina"}),s.jsxs(vt,{value:(G==null?void 0:G.morning_shift)||"Chiuso",onValueChange:Q=>{G?v.mutate({id:G.id,data:{...G,morning_shift:Q}}):g.mutate({date:ne,month_year:p,day_of_week:We(V,"EEEE",{locale:Et}),morning_shift:Q,afternoon_shift:"Chiuso"})},children:[s.jsx(ht,{className:"h-7 text-[11px]",children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"Dario",className:"bg-blue-50",children:"Dario"}),s.jsx(oe,{value:"Marco",className:"bg-green-50",children:"Marco"}),s.jsx(oe,{value:"Morena",className:"bg-purple-50",children:"Morena"}),s.jsx(oe,{value:"Doppia presenza",className:"bg-yellow-50",children:"Doppia"}),s.jsx(oe,{value:"Chiuso",className:"bg-slate-100",children:"Chiuso"})]})]})]}),s.jsxs("div",{children:[s.jsx(ae,{className:"text-[10px] text-slate-500 block",children:"Pomeriggio"}),s.jsxs(vt,{value:(G==null?void 0:G.afternoon_shift)||"Chiuso",onValueChange:Q=>{G?v.mutate({id:G.id,data:{...G,afternoon_shift:Q}}):g.mutate({date:ne,month_year:p,day_of_week:We(V,"EEEE",{locale:Et}),morning_shift:"Chiuso",afternoon_shift:Q})},children:[s.jsx(ht,{className:"h-7 text-[11px]",children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"Marco",className:"bg-green-50",children:"Marco"}),s.jsx(oe,{value:"Dario",className:"bg-blue-50",children:"Dario"}),s.jsx(oe,{value:"Morena",className:"bg-purple-50",children:"Morena"}),s.jsx(oe,{value:"Doppia presenza",className:"bg-yellow-50",children:"Doppia"}),s.jsx(oe,{value:"Chiuso",className:"bg-slate-100",children:"Chiuso"})]})]})]})]}),(G==null?void 0:G.notes)&&s.jsxs("p",{className:"text-[9px] text-slate-500 mt-1 italic truncate",children:[" ",G.notes]})]},ne)})})()})]})]})]})}function Jk(){var T,P,k;const[e,t]=x.useState(""),[n,o]=x.useState(!1),[a,l]=x.useState([]),[c,d]=x.useState("compatibility"),[f,p]=x.useState(null),{data:m=[]}=Je({queryKey:["books"],queryFn:()=>ue.entities.Book.list()}),g=async()=>{if(!e.trim()){alert("Inserisci una descrizione di ci che il cliente cerca");return}o(!0);try{const I=m.filter(R=>R.stock>0).map(R=>({id:R.id,id_univoco:R.id_univoco,titolo:R.titolo_composto,autore:R.autore,editore:R.editore,descrizione:R.descrizione,soggetti:R.soggetti,anno:R.anno,lingua:R.lingua,prezzo:R.prezzo_online,stock:R.stock,collocazione:R.collocazione})).slice(0,50),L=await ue.integrations.Core.InvokeLLM({prompt:`Hai a disposizione il seguente catalogo di libri (primi 50 disponibili):

${JSON.stringify(I,null,2)}

Un cliente cerca: "${e}"

Analizza il catalogo e suggerisci i libri pi adatti alla richiesta del cliente.
Per ogni libro suggerito, calcola una percentuale di compatibilit (0-100) basata su:
- Pertinenza del titolo
- Autore e stile
- Soggetti/categorie
- Descrizione
- Lingua se specificata
- Anno se rilevante

Restituisci MASSIMO 10 suggerimenti, ordinati per compatibilit decrescente.
Fornisci il risultato in formato JSON.`,response_json_schema:{type:"object",properties:{suggerimenti:{type:"array",items:{type:"object",properties:{id_univoco:{type:"string"},compatibilita:{type:"number"},motivazione:{type:"string"}}}}}}});if(L&&L.suggerimenti){const R=L.suggerimenti.map(_=>{const W=m.find($=>$.id_univoco===_.id_univoco);return{..._,book:W}}).filter(_=>_.book);l(R)}}catch(E){console.error("Errore nella ricerca:",E),alert("Errore nella ricerca dei consigli. Riprova.")}finally{o(!1)}};let v=[...a];c==="compatibility"?v.sort((E,I)=>I.compatibilita-E.compatibilita):c==="price-asc"?v.sort((E,I)=>E.book.prezzo_online-I.book.prezzo_online):c==="price-desc"&&v.sort((E,I)=>I.book.prezzo_online-E.book.prezzo_online);const[j,C]=x.useState(""),N=m.filter(E=>{var L,R;if(!j.trim()||E.stock<=0)return!1;const I=j.toLowerCase();return((L=E.soggetti)==null?void 0:L.toLowerCase().includes(I))||((R=E.descrizione)==null?void 0:R.toLowerCase().includes(I))}).slice(0,20),S=E=>{const I=JSON.parse(localStorage.getItem("cassaCart")||"[]"),L=I.find(R=>R.id===E.id&&R.type==="book");L?L.quantity+=1:I.push({id:E.id,type:"book",name:E.titolo_composto,price:E.prezzo_online,quantity:1,id_univoco:E.id_univoco,hasDiscount:E.condizione==="Nuovo",discountApplied:E.condizione==="Nuovo"}),localStorage.setItem("cassaCart",JSON.stringify(I)),alert(`"${E.titolo_composto}" aggiunto al carrello!`)};return s.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-4xl font-bold text-black tracking-tight flex items-center gap-3",children:[s.jsx(Kw,{className:"w-10 h-10",style:{color:"#45877F"}}),"Consigli per Clienti"]}),s.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Trova i libri perfetti per i tuoi clienti"})]}),s.jsx(ke,{className:"mb-8 border-2",style:{borderColor:"#45877F"},children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold text-slate-700 mb-2 block",children:"Cosa cerca il cliente?"}),s.jsx(ur,{value:e,onChange:E=>t(E.target.value),placeholder:"Es: Libri divertenti per ragazzi di 12 anni, romanzi storici ambientati in Italia, poesie contemporanee...",rows:4,className:"resize-none"})]}),s.jsx(Z,{onClick:g,disabled:n||!e.trim(),className:"w-full btn-primary",style:{backgroundColor:"#45877F",color:"white",fontFamily:"Montserrat",fontWeight:600},size:"lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Gi,{className:"w-5 h-5 mr-2 animate-spin"}),"Ricerca in corso..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Xn,{className:"w-5 h-5 mr-2"}),"Trova Consigli"]})})]})})}),s.jsxs(ke,{className:"mb-8",children:[s.jsx(ut,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Xn,{className:"w-5 h-5",style:{color:"#45877F"}}),"Ricerca Rapida per Soggetto/Descrizione"]})}),s.jsxs(Te,{children:[s.jsx(fe,{placeholder:"Cerca nei soggetti e descrizioni...",value:j,onChange:E=>C(E.target.value),className:"mb-4"}),N.length>0&&s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:N.map(E=>{var I;return s.jsx("div",{className:"p-3 bg-slate-50 rounded-lg hover:bg-slate-100",children:s.jsxs("div",{className:"flex justify-between items-start gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[E.collocazione&&s.jsxs($e,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(qo,{className:"w-3 h-3"}),E.collocazione]}),E.soggetti&&s.jsx($e,{variant:"outline",children:E.soggetti})]}),s.jsx("p",{className:"font-bold",children:E.titolo_composto}),E.autore&&s.jsx("p",{className:"text-sm text-slate-600 mb-1",children:E.autore}),E.descrizione&&s.jsx("div",{className:"group relative",children:s.jsx("p",{className:"text-xs text-slate-500 mb-2 line-clamp-2 group-hover:line-clamp-none transition-all",children:E.descrizione})})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsxs("p",{className:"font-bold",style:{color:"#45877F"},children:["",(I=E.prezzo_online)==null?void 0:I.toFixed(2)]}),s.jsxs(Z,{size:"sm",onClick:L=>{L.stopPropagation(),S(E)},style:{backgroundColor:"#45877F",color:"white"},children:[s.jsx(hm,{className:"w-3 h-3 mr-1"}),"Aggiungi"]})]})]})},E.id)})})]})]}),a.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qw,{className:"w-5 h-5",style:{color:"#45877F"}}),s.jsxs("h2",{className:"text-2xl font-bold text-black",children:[a.length," Suggerimenti Trovati"]})]}),s.jsxs(vt,{value:c,onValueChange:d,children:[s.jsx(ht,{className:"w-56",children:s.jsx(bt,{})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"compatibility",children:"Compatibilit decrescente"}),s.jsx(oe,{value:"price-asc",children:"Prezzo crescente"}),s.jsx(oe,{value:"price-desc",children:"Prezzo decrescente"})]})]})]}),s.jsx("div",{className:"space-y-4",children:v.map((E,I)=>{var L;return s.jsx(ke,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>p(E.book),children:s.jsx(Te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:E.book.cover_image_url?s.jsx("img",{src:E.book.cover_image_url,alt:E.book.titolo_composto,className:"w-24 h-32 object-cover rounded-lg shadow-md"}):s.jsx("div",{className:"w-24 h-32 bg-slate-100 rounded-lg flex items-center justify-center",children:s.jsx(Qr,{className:"w-8 h-8 text-slate-400"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[s.jsx($e,{className:"font-mono",style:{backgroundColor:"#45877F",color:"white"},children:E.book.id_univoco}),E.book.collocazione&&s.jsxs($e,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(qo,{className:"w-3 h-3"}),E.book.collocazione]}),s.jsxs($e,{className:`text-lg font-bold ${E.compatibilita>=80?"bg-green-600":E.compatibilita>=60?"bg-blue-600":E.compatibilita>=40?"bg-amber-600":"bg-slate-600"} text-white`,children:[E.compatibilita,"% Compatibile"]})]}),s.jsx("h3",{className:"text-xl font-bold text-black mb-1",children:E.book.titolo_composto}),E.book.autore&&s.jsx("p",{className:"text-slate-600 mb-2",children:E.book.autore})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Prezzo"}),s.jsxs("p",{className:"text-2xl font-bold text-black",children:["",(L=E.book.prezzo_online)==null?void 0:L.toFixed(2)]})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"Perch consigliato:"})," ",E.motivazione]})}),E.book.descrizione&&s.jsxs("div",{className:"text-sm text-slate-600 mb-3 p-3 bg-slate-50 rounded group relative",children:[s.jsx("strong",{className:"block mb-1",children:"Descrizione:"}),s.jsx("p",{className:"line-clamp-3 group-hover:line-clamp-none transition-all",children:E.book.descrizione}),s.jsx("span",{className:"text-xs text-slate-400 mt-1 block group-hover:hidden",children:"(passa il mouse per leggere tutto)"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[E.book.editore&&s.jsx($e,{variant:"outline",children:E.book.editore}),E.book.anno&&s.jsx($e,{variant:"outline",children:E.book.anno}),E.book.lingua&&s.jsx($e,{variant:"outline",children:E.book.lingua}),E.book.soggetti&&s.jsx($e,{variant:"outline",children:E.book.soggetti}),s.jsxs($e,{className:`${E.book.stock>5?"bg-green-100 text-green-800":E.book.stock>0?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:["Stock: ",E.book.stock]})]}),s.jsxs(Z,{onClick:R=>{R.stopPropagation(),S(E.book)},className:"w-full",style:{backgroundColor:"#45877F",color:"white",fontFamily:"Montserrat",fontWeight:600},children:[s.jsx(hm,{className:"w-4 h-4 mr-2"}),"Aggiungi in Cassa"]})]})]})})},E.book.id)})})]}),!n&&a.length===0&&e&&s.jsx(ke,{children:s.jsxs(Te,{className:"p-12 text-center",children:[s.jsx(Qr,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),s.jsx("p",{className:"text-slate-500 text-lg",children:"Nessun suggerimento trovato per questa ricerca"})]})}),s.jsx(As,{open:f!==null,onOpenChange:E=>!E&&p(null),children:s.jsxs(us,{className:"max-w-3xl max-h-[90vh] overflow-y-auto bg-white",children:[s.jsx(ds,{children:s.jsx(fs,{className:"text-2xl font-bold",children:f==null?void 0:f.titolo_composto})}),f&&s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"flex gap-6",children:[s.jsx("div",{className:"w-48 h-64 bg-slate-100 rounded flex-shrink-0 flex items-center justify-center overflow-hidden",children:(T=f.image_urls)!=null&&T[0]||f.photo_url||f.cover_image_url?s.jsx("img",{src:((P=f.image_urls)==null?void 0:P[0])||f.photo_url||f.cover_image_url,alt:f.titolo_composto,className:"w-full h-full object-cover"}):s.jsx(Qr,{className:"w-12 h-12 text-slate-400"})}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"Autore"}),s.jsx("p",{className:"text-lg font-semibold",children:f.autore||"-"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"Editore"}),s.jsx("p",{children:f.editore||"-"})]}),s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"Anno"}),s.jsx("p",{children:f.anno||"-"})]}),s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"Lingua"}),s.jsx("p",{children:f.lingua||"-"})]}),s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"Condizione"}),s.jsx("p",{children:f.condizione||"-"})]}),s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"Prezzo"}),s.jsxs("p",{className:"text-2xl font-bold",style:{color:"#45877F"},children:["",(k=f.prezzo_online)==null?void 0:k.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"Stock"}),s.jsx("p",{className:"text-lg font-semibold",children:f.stock||0})]})]})]})]}),f.descrizione&&s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"Descrizione"}),s.jsx("p",{className:"text-slate-700 mt-2",children:f.descrizione})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.isbn&&s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"ISBN"}),s.jsx("p",{children:f.isbn})]}),f.pagine&&s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"Pagine"}),s.jsx("p",{children:f.pagine})]}),f.collana&&s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"Collana"}),s.jsx("p",{children:f.collana})]}),f.edizione&&s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"Edizione"}),s.jsx("p",{children:f.edizione})]}),f.stato_conservazione&&s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"Stato Conservazione"}),s.jsx("p",{children:f.stato_conservazione})]}),f.legatura&&s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"Legatura"}),s.jsx("p",{children:f.legatura})]}),f.collocazione&&s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"Collocazione"}),s.jsx("p",{className:"font-mono font-semibold",children:f.collocazione})]}),f.id_univoco&&s.jsxs("div",{children:[s.jsx(ae,{className:"text-sm text-slate-500",children:"ID Univoco"}),s.jsx("p",{className:"font-mono font-bold",style:{color:"#45877F"},children:f.id_univoco})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[f.prima_edizione&&s.jsx($e,{className:"bg-green-600 text-white",children:"Prima Edizione"}),f.autografato&&s.jsx($e,{className:"bg-purple-600 text-white",children:"Autografato"}),f.sovraccoperta&&s.jsx($e,{className:"bg-blue-600 text-white",children:"Con Sovraccoperta"})]})]})]})})]})}var Hg="Radio",[IB,Zk]=gs(Hg),[zB,LB]=IB(Hg),e2=x.forwardRef((e,t)=>{const{__scopeRadio:n,name:o,checked:a=!1,required:l,disabled:c,value:d="on",onCheck:f,form:p,...m}=e,[g,v]=x.useState(null),j=gt(t,S=>v(S)),C=x.useRef(!1),N=g?p||!!g.closest("form"):!0;return s.jsxs(zB,{scope:n,checked:a,disabled:c,children:[s.jsx(tt.button,{type:"button",role:"radio","aria-checked":a,"data-state":r2(a),"data-disabled":c?"":void 0,disabled:c,value:d,...m,ref:j,onClick:Ye(e.onClick,S=>{a||f==null||f(),N&&(C.current=S.isPropagationStopped(),C.current||S.stopPropagation())})}),N&&s.jsx(s2,{control:g,bubbles:!C.current,name:o,value:d,checked:a,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});e2.displayName=Hg;var t2="RadioIndicator",n2=x.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:o,...a}=e,l=LB(t2,n);return s.jsx(fr,{present:o||l.checked,children:s.jsx(tt.span,{"data-state":r2(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:t})})});n2.displayName=t2;var $B="RadioBubbleInput",s2=x.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:o=!0,...a},l)=>{const c=x.useRef(null),d=gt(c,l),f=$g(n),p=Qp(t);return x.useEffect(()=>{const m=c.current;if(!m)return;const g=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==n&&j){const C=new Event("click",{bubbles:o});j.call(m,n),m.dispatchEvent(C)}},[f,n,o]),s.jsx(tt.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:d,style:{...a.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});s2.displayName=$B;function r2(e){return e?"checked":"unchecked"}var VB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zd="RadioGroup",[BB]=gs(zd,[Od,Zk]),o2=Od(),i2=Zk(),[UB,WB]=BB(zd),a2=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:o,defaultValue:a,value:l,required:c=!1,disabled:d=!1,orientation:f,dir:p,loop:m=!0,onValueChange:g,...v}=e,j=o2(n),C=Rd(p),[N,S]=Xr({prop:l,defaultProp:a??null,onChange:g,caller:zd});return s.jsx(UB,{scope:n,name:o,required:c,disabled:d,value:N,onValueChange:S,children:s.jsx(sk,{asChild:!0,...j,orientation:f,dir:C,loop:m,children:s.jsx(tt.div,{role:"radiogroup","aria-required":c,"aria-orientation":f,"data-disabled":d?"":void 0,dir:C,...v,ref:t})})})});a2.displayName=zd;var l2="RadioGroupItem",c2=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:o,...a}=e,l=WB(l2,n),c=l.disabled||o,d=o2(n),f=i2(n),p=x.useRef(null),m=gt(t,p),g=l.value===a.value,v=x.useRef(!1);return x.useEffect(()=>{const j=N=>{VB.includes(N.key)&&(v.current=!0)},C=()=>v.current=!1;return document.addEventListener("keydown",j),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",j),document.removeEventListener("keyup",C)}},[]),s.jsx(rk,{asChild:!0,...d,focusable:!c,active:g,children:s.jsx(e2,{disabled:c,required:l.required,checked:g,...f,...a,name:l.name,ref:m,onCheck:()=>l.onValueChange(a.value),onKeyDown:Ye(j=>{j.key==="Enter"&&j.preventDefault()}),onFocus:Ye(a.onFocus,()=>{var j;v.current&&((j=p.current)==null||j.click())})})})});c2.displayName=l2;var qB="RadioGroupIndicator",u2=x.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...o}=e,a=i2(n);return s.jsx(n2,{...a,...o,ref:t})});u2.displayName=qB;var d2=a2,f2=c2,HB=u2;const yp=x.forwardRef(({className:e,...t},n)=>s.jsx(d2,{className:Ce("grid gap-2",e),...t,ref:n}));yp.displayName=d2.displayName;const Po=x.forwardRef(({className:e,...t},n)=>s.jsx(f2,{ref:n,className:Ce("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(HB,{className:"flex items-center justify-center",children:s.jsx(Hw,{className:"h-3.5 w-3.5 fill-primary"})})}));Po.displayName=f2.displayName;function h2(){const[e,t]=x.useState(""),[n,o]=x.useState(()=>{const H=localStorage.getItem("cassaCart");return H?JSON.parse(H):[]}),{data:a=[]}=Je({queryKey:["reservations"],queryFn:()=>ue.entities.Reservation.list()});Kn.useEffect(()=>{const ze=new URLSearchParams(window.location.search).get("reservation");if(ze&&a.length>0){const Ne=a.find(Ae=>Ae.id===ze);if(Ne&&Ne.status==="active"){const Ae=Ne.items.map(rt=>({id:rt.product_id,type:rt.product_type,name:rt.product_name,price:rt.price,quantity:rt.quantity,id_univoco:rt.product_id,hasDiscount:!1,discountApplied:!1}));o(Ae),window.history.replaceState({},"",window.location.pathname)}}},[a]);const[l,c]=x.useState("contanti"),[d,f]=x.useState(0),[p,m]=x.useState(!1),[g,v]=x.useState(!1),[j,C]=x.useState(!1),[N,S]=x.useState(""),[T,P]=x.useState(""),[k,E]=x.useState(""),[I,L]=x.useState(!1),[R,_]=x.useState(""),[W,$]=x.useState("paypal"),[M,D]=x.useState(!1),[B,V]=x.useState({customer_name:"",customer_surname:"",customer_contact:"",deposit:0}),[Y,ne]=x.useState(""),[G,w]=x.useState({autore:"",editore:"",lingua:"",condizione:"",minPrezzo:"",maxPrezzo:"",disponibilita:"all",collocazione:"",tipo_oggetto:""}),[F,q]=x.useState("-created_date"),O=ln(),{data:Q=[]}=Je({queryKey:["books"],queryFn:()=>ue.entities.Book.list()}),{data:xe=[]}=Je({queryKey:["otherItems"],queryFn:()=>ue.entities.OtherItem.list()}),he=Ke({mutationFn:({id:H,data:ze})=>ue.entities.Book.update(H,ze),onSuccess:()=>O.invalidateQueries({queryKey:["books"]})}),je=Ke({mutationFn:({id:H,data:ze})=>ue.entities.OtherItem.update(H,ze),onSuccess:()=>O.invalidateQueries({queryKey:["otherItems"]})}),_e=Ke({mutationFn:H=>ue.entities.SaleLog.create(H),onSuccess:()=>O.invalidateQueries({queryKey:["saleLogs"]})}),{data:le=[]}=Je({queryKey:["dailyAccounting"],queryFn:()=>ue.entities.DailyAccounting.list()}),{data:ve=[]}=Je({queryKey:["catalogedBooks"],queryFn:()=>ue.entities.CatalogedBooks.list()}),{data:we=[]}=Je({queryKey:["onlinePurchases"],queryFn:()=>ue.entities.OnlinePurchase.list()}),Ie=Ke({mutationFn:({id:H,data:ze})=>ue.entities.DailyAccounting.update(H,ze),onSuccess:()=>O.invalidateQueries({queryKey:["dailyAccounting"]})}),ce=Ke({mutationFn:H=>ue.entities.DailyAccounting.create(H),onSuccess:()=>O.invalidateQueries({queryKey:["dailyAccounting"]})}),Ee=Ke({mutationFn:({id:H,data:ze})=>ue.entities.CatalogedBooks.update(H,ze),onSuccess:()=>O.invalidateQueries({queryKey:["catalogedBooks"]})}),re=Ke({mutationFn:H=>ue.entities.CatalogedBooks.create(H),onSuccess:()=>O.invalidateQueries({queryKey:["catalogedBooks"]})}),se=Ke({mutationFn:H=>ue.entities.OnlinePurchase.create(H),onSuccess:()=>O.invalidateQueries({queryKey:["onlinePurchases"]})}),Pe=Ke({mutationFn:H=>ue.entities.Reservation.create(H),onSuccess:()=>{O.invalidateQueries({queryKey:["reservations"]}),o([]),f(0),V({customer_name:"",customer_surname:"",customer_contact:"",deposit:0}),D(!1),alert("Prenotazione creata con successo!")}}),me=Ke({mutationFn:H=>ue.entities.Desiderata.create(H),onSuccess:()=>{O.invalidateQueries({queryKey:["desiderata"]})}}),Be=H=>{if(!H)return null;if(H.includes("drive.google.com")&&H.includes("/file/d/")){const ze=H.match(/\/file\/d\/([^/]+)/);if(ze)return`https://drive.google.com/uc?export=view&id=${ze[1]}`}return H},ie=x.useMemo(()=>{const H=Q.filter(Ne=>Ne.stock>0).map(Ne=>{var Ae;return{...Ne,type:"book",name:Ne.titolo_composto,price:Ne.prezzo_online,imageUrl:Be(((Ae=Ne.image_urls)==null?void 0:Ae[0])||Ne.photo_url||Ne.cover_image_url)}}),ze=xe.filter(Ne=>(Ne.stock||0)-(Ne.venduto||0)>0).map(Ne=>{var Ae;return{...Ne,type:"item",name:Ne.oggetto,price:Ne.prezzo_pubblico,imageUrl:Be(((Ae=Ne.image_urls)==null?void 0:Ae[0])||Ne.photo_url||Ne.cover_image_url)}});return[...H,...ze]},[Q,xe]),[Se,it]=x.useState(!1),Xe=H=>H?H.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[]/g,"c").replace(/[]/g,"s").replace(/[]/g,"z").replace(//g,"d").replace(//g,"n").replace(//g,"l").replace(//g,"o").replace(//g,"ae").replace(//g,"oe").replace(//g,"ss"):"",{data:xt=[]}=Je({queryKey:["customers"],queryFn:()=>ue.entities.Customer.list()}),tn=x.useMemo(()=>{if(!Y.trim())return[];const H=Xe(Y);return xt.filter(ze=>Xe(ze.nome).includes(H)||Xe(ze.cognome).includes(H)||Xe(`${ze.nome} ${ze.cognome}`).includes(H)).slice(0,10)},[xt,Y]),lt=x.useMemo(()=>ie.filter(H=>{const ze=H.type==="book"?H.stock>0:(H.stock||0)-(H.venduto||0)>0;if(!Se&&!ze)return!1;const Ne=Xe(e),Ae=e===""||Xe(H.name).includes(Ne)||Xe(H.autore).includes(Ne)||Xe(H.id_univoco).includes(Ne)||Xe(H.editore).includes(Ne),rt=!G.autore||Xe(H.autore).includes(Xe(G.autore)),Ut=!G.editore||Xe(H.editore).includes(Xe(G.editore)),Ze=!G.lingua||H.lingua===G.lingua,ft=!G.condizione||H.condizione===G.condizione,Ot=!G.collocazione||Xe(H.collocazione).includes(Xe(G.collocazione)),vs=!G.tipo_oggetto||H.tipo_oggetto===G.tipo_oggetto,gr=(!G.minPrezzo||H.price>=parseFloat(G.minPrezzo))&&(!G.maxPrezzo||H.price<=parseFloat(G.maxPrezzo));return Ae&&rt&&Ut&&Ze&&ft&&gr&&Ot&&vs}),[ie,e,G,Se]),Rt=x.useMemo(()=>{const H=[...lt],ze=F.startsWith("-")?F.substring(1):F,Ne=F.startsWith("-");return H.sort((Ae,rt)=>{let Ut=ze==="name"?Ae.name:Ae[ze],Ze=ze==="name"?rt.name:rt[ze];if(Ut==null&&(Ut=""),Ze==null&&(Ze=""),typeof Ut=="string"){const ft=Ut.localeCompare(Ze);return Ne?-ft:ft}return Ne?Ze-Ut:Ut-Ze})},[lt,F]),bn=x.useMemo(()=>ie.filter(H=>H.type==="book"?H.stock===0:(H.stock||0)-(H.venduto||0)===0).length,[ie]);Kn.useEffect(()=>{localStorage.setItem("cassaCart",JSON.stringify(n))},[n]);const mr=(H,ze=1)=>{if(n.find(Ae=>Ae.id===H.id&&Ae.type===H.type))o(n.map(Ae=>Ae.id===H.id&&Ae.type===H.type?{...Ae,quantity:Ae.quantity+ze}:Ae));else{const Ae=H.condizione==="Nuovo";o([...n,{...H,quantity:ze,hasDiscount:Ae,discountApplied:Ae}])}},Zo=()=>{const H={id:`2euro-${Date.now()}`,type:"special",name:"Libro a 2",price:2,quantity:1,id_univoco:"2"};mr(H)},Hl=()=>{if(!N||parseFloat(N)<=0)return;const H={id:`manual-book-${Date.now()}`,type:"manual",name:"Libro non catalogato",price:parseFloat(N),quantity:1,id_univoco:"NC"};mr(H),S(""),v(!1)},lo=()=>{if(!T||!k||parseFloat(k)<=0)return;const H={id:`manual-other-${Date.now()}`,type:"manual",name:T,price:parseFloat(k),quantity:1,id_univoco:"ALT"};mr(H),P(""),E(""),C(!1)},co=(H,ze)=>{o(n.filter(Ne=>!(Ne.id===H&&Ne.type===ze)))},Kl=(H,ze,Ne)=>{o(n.map(Ae=>{if(Ae.id===H&&Ae.type===ze){const rt=Ae.quantity+Ne;return rt>0?{...Ae,quantity:rt}:Ae}return Ae}).filter(Ae=>Ae.quantity>0))},Gl=(H,ze)=>{o(n.map(Ne=>Ne.id===H&&Ne.type===ze?{...Ne,discountApplied:!Ne.discountApplied}:Ne))},$s=H=>{const ze=H.price*H.quantity;return H.hasDiscount&&H.discountApplied?ze*.7:ze},pr=()=>{const H=n.reduce((ze,Ne)=>ze+$s(Ne),0);return Math.max(0,H-(parseFloat(d)||0))},ei=(H,ze)=>{let Ne=0;const Ae=H;Ae<=500?Ne=ze==="paypal"?.105*Ae:.085*Ae:Ne=ze==="paypal"?.105*500+.035*(Ae-500):.085*500+.035*(Ae-500);let rt=0;H<=5?rt=.25:H<=10?rt=.5:H<=20?rt=1:H<=30?rt=1.5:H<=40?rt=2:H<=50?rt=2.5:H<=100?rt=4:H<=500?rt=10:rt=25;const Ut=Ne+rt,Ze=H-Ut;return{commission_percent:Ne,commission_fixed:rt,commission_total:Ut,net_revenue:Ze}},pa=async()=>{if(l==="online"){L(!0);return}await ti()},ti=async(H=null)=>{const ze=new Date().toISOString().split("T")[0],Ne=ze.substring(0,7),Ae=pr(),rt=l!=="altro"&&l!=="online",Ut=l==="altro";for(const Ze of n)if(Ze.type==="book"){const ft=Q.find(Ot=>Ot.id===Ze.id);ft&&await he.mutateAsync({id:Ze.id,data:{stock:ft.stock-Ze.quantity}})}else if(Ze.type==="item"){const ft=xe.find(Ot=>Ot.id===Ze.id);if(ft){const Ot=(ft.venduto||0)+Ze.quantity,vs=ft.stock-Ze.quantity,gr=(ft.da_pagare||0)+Ze.quantity,uo=vs-Ot,ni={stock:vs,venduto:Ot,giacenza:uo};ft.contovendita==="SI"&&(ni.da_pagare=gr),await je.mutateAsync({id:Ze.id,data:ni})}}if(await _e.mutateAsync({date:ze,items:n.map(Ze=>({product_id:Ze.id_univoco,product_name:Ze.name,product_type:Ze.type,quantity:Ze.quantity,price:Ze.price,discount:0,total:$s(Ze)})),total_amount:Ae}),Ut){const Ze=Number(Ae)||0,ft=ve.find(Ot=>Ot.date===ze);if(ft){const Ot={...ft,total:(ft.total||0)+Ze};await Ee.mutateAsync({id:ft.id,data:Ot})}else{const Ot=new Date(ze).toLocaleDateString("it-IT",{weekday:"long"});await re.mutateAsync({date:ze,day_of_week:Ot,month_year:Ne,is_open:!0,total:Ze})}}if(rt){const Ze=le.find(ft=>ft.date===ze);if(Ze){const ft={...Ze,[l]:(Ze[l]||0)+Ae};await Ie.mutateAsync({id:Ze.id,data:ft})}else await ce.mutateAsync({date:ze,month_year:Ne,is_open:!0,pos:l==="pos"?Ae:0,contanti:l==="contanti"?Ae:0})}if(l==="online"&&H){const Ze=n.reduce((ft,Ot)=>{const vs=$s(Ot),gr=ei(vs,W);return ft+gr.net_revenue},0);await se.mutateAsync({month_year:Ne,numero_ordine:H,libro:n.map(ft=>ft.name).join(", "),importo:Ze})}o([]),c("contanti"),f(0),_(""),L(!1)};return s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-black tracking-tight flex items-center gap-3",children:[s.jsx(Du,{className:"w-10 h-10",style:{color:"#45877F"}}),"Cassa"]}),s.jsx("p",{className:"text-slate-500 mt-2",children:"Gestione vendite in negozio"})]}),s.jsxs(ke,{className:"p-4 min-w-[200px]",children:[s.jsx("div",{className:"text-sm text-slate-600 mb-1",children:"Carrello"}),s.jsxs("div",{className:"text-3xl font-bold",style:{color:"#45877F"},children:["",pr().toFixed(2)]}),s.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[n.length," articoli"]})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[bn>0&&!Se&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 text-sm",children:s.jsxs("p",{className:"text-amber-800",children:[s.jsx("strong",{children:"Attenzione:"})," ",bn," prodotti hanno stock = 0."," ",s.jsx("button",{onClick:()=>it(!0),className:"underline font-semibold hover:text-amber-900",children:"Clicca qui per visualizzarli"})]})}),s.jsxs("div",{className:"relative",children:[s.jsx(Xn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),s.jsx(fe,{placeholder:"Cerca prodotto...",value:e,onChange:H=>t(H.target.value),className:"pl-12 h-12"})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(Z,{variant:"outline",onClick:()=>m(!p),children:[s.jsx(Rp,{className:"w-4 h-4 mr-2"}),p?"Nascondi":"Mostra"," Filtri"]}),s.jsxs(vt,{value:F,onValueChange:q,children:[s.jsx(ht,{className:"w-48",children:s.jsx(bt,{placeholder:"Ordina per..."})}),s.jsxs(mt,{children:[s.jsx(oe,{value:"-created_date",children:"Pi recenti"}),s.jsx(oe,{value:"name",children:"Nome A-Z"}),s.jsx(oe,{value:"-name",children:"Nome Z-A"}),s.jsx(oe,{value:"price",children:"Prezzo crescente"}),s.jsx(oe,{value:"-price",children:"Prezzo decrescente"}),s.jsx(oe,{value:"autore",children:"Autore A-Z"}),s.jsx(oe,{value:"-autore",children:"Autore Z-A"})]})]}),s.jsxs(Z,{onClick:Zo,style:{backgroundColor:"#45877F"},className:"text-white ml-auto",children:[s.jsx(an,{className:"w-4 h-4 mr-2"}),"Libro a 2"]}),s.jsxs(Z,{onClick:()=>{P("Altro"),E("5"),C(!0)},style:{backgroundColor:"#45877F"},className:"text-white",children:[s.jsx(an,{className:"w-4 h-4 mr-2"}),"Altro"]})]}),p&&s.jsx(ke,{className:"p-4",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[s.jsx(fe,{placeholder:"Autore",value:G.autore,onChange:H=>w({...G,autore:H.target.value})}),s.jsx(fe,{placeholder:"Editore",value:G.editore,onChange:H=>w({...G,editore:H.target.value})}),s.jsx(fe,{placeholder:"Collocazione",value:G.collocazione,onChange:H=>w({...G,collocazione:H.target.value})}),s.jsxs(vt,{value:G.lingua,onValueChange:H=>w({...G,lingua:H}),children:[s.jsx(ht,{children:s.jsx(bt,{placeholder:"Lingua"})}),s.jsxs(mt,{children:[s.jsx(oe,{value:null,children:"Tutte"}),s.jsx(oe,{value:"Italiano",children:"Italiano"}),s.jsx(oe,{value:"Inglese",children:"Inglese"}),s.jsx(oe,{value:"Francese",children:"Francese"})]})]}),s.jsxs(vt,{value:G.tipo_oggetto,onValueChange:H=>w({...G,tipo_oggetto:H}),children:[s.jsx(ht,{children:s.jsx(bt,{placeholder:"Tipo Oggetto"})}),s.jsxs(mt,{children:[s.jsx(oe,{value:null,children:"Tutti"}),s.jsx(oe,{value:"Opere",children:"Opere"}),s.jsx(oe,{value:"Vinili",children:"Vinili"}),s.jsx(oe,{value:"Giochi",children:"Giochi"}),s.jsx(oe,{value:"Oggetti",children:"Oggetti"})]})]}),s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>w({autore:"",editore:"",lingua:"",condizione:"",minPrezzo:"",maxPrezzo:"",disponibilita:"all",collocazione:"",tipo_oggetto:""}),children:"Azzera"})]})})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2",children:Rt.map(H=>s.jsx(ke,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>mr(H),children:s.jsx(Te,{className:"p-4",children:s.jsxs("div",{className:"flex gap-3",children:[H.imageUrl?s.jsx("img",{src:H.imageUrl,alt:H.name,className:"w-20 h-28 object-cover rounded",onError:ze=>ze.target.style.display="none"}):s.jsx("div",{className:"w-20 h-28 bg-slate-100 rounded flex items-center justify-center text-slate-400 text-xs",children:"No foto"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx($e,{style:{backgroundColor:"#45877F"},className:"text-white text-xs",children:H.id_univoco}),H.collocazione&&s.jsx($e,{variant:"outline",className:"text-xs",children:H.collocazione})]}),s.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:H.name}),H.autore&&s.jsx("p",{className:"text-xs text-slate-600 mb-1",children:H.autore}),H.editore&&s.jsx("p",{className:"text-xs text-slate-500 mb-1",children:H.editore}),H.edizione&&s.jsxs("p",{className:"text-xs text-slate-500 italic mb-1",children:["Ed: ",H.edizione]}),s.jsxs("p",{className:"text-lg font-bold",style:{color:"#45877F"},children:["",H.price.toFixed(2)]})]})]})})},`${H.type}-${H.id}`))})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(ke,{className:"sticky top-6",children:[s.jsx(ut,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Du,{className:"w-5 h-5"}),"Carrello"]})}),s.jsx(Te,{className:"space-y-4",children:n.length===0?s.jsx("p",{className:"text-slate-500 text-center py-8",children:"Carrello vuoto"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:n.map(H=>s.jsxs("div",{className:"p-2 bg-slate-50 rounded space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold line-clamp-1",children:H.name}),s.jsxs("p",{className:"text-xs text-slate-600",children:["",H.price.toFixed(2),"  ",H.quantity]}),H.hasDiscount&&s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"checkbox",checked:H.discountApplied,onChange:()=>Gl(H.id,H.type),className:"w-3 h-3"}),s.jsx("span",{className:"text-xs text-green-700 font-semibold",children:"Sconto 30%"})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Z,{size:"icon",variant:"ghost",onClick:()=>Kl(H.id,H.type,-1),children:s.jsx(Gw,{className:"w-4 h-4"})}),s.jsx("span",{className:"w-8 text-center",children:H.quantity}),s.jsx(Z,{size:"icon",variant:"ghost",onClick:()=>Kl(H.id,H.type,1),children:s.jsx(an,{className:"w-4 h-4"})}),s.jsx(Z,{size:"icon",variant:"ghost",onClick:()=>co(H.id,H.type),children:s.jsx(or,{className:"w-4 h-4 text-red-600"})})]})]}),H.hasDiscount&&H.discountApplied&&s.jsxs("div",{className:"text-xs text-right text-green-700",children:["Totale scontato: ",$s(H).toFixed(2)]})]},`${H.type}-${H.id}`))}),s.jsxs("div",{className:"border-t pt-4 space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{className:"text-sm font-semibold",children:"Sconto ()"}),s.jsx(fe,{type:"number",step:"0.01",value:d,onChange:H=>f(H.target.value),placeholder:"0.00",className:"h-10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ae,{className:"text-sm font-semibold",children:"Metodo di Pagamento"}),s.jsxs(yp,{value:l,onValueChange:c,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Po,{value:"contanti",id:"contanti"}),s.jsxs(ae,{htmlFor:"contanti",className:"cursor-pointer flex items-center gap-2",children:[s.jsx(sP,{className:"w-4 h-4"}),"Contanti"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Po,{value:"pos",id:"pos"}),s.jsxs(ae,{htmlFor:"pos",className:"cursor-pointer flex items-center gap-2",children:[s.jsx(CP,{className:"w-4 h-4"}),"POS"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Po,{value:"online",id:"online"}),s.jsxs(ae,{htmlFor:"online",className:"cursor-pointer flex items-center gap-2",children:[s.jsx(AP,{className:"w-4 h-4"}),"Online"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Po,{value:"altro",id:"altro"}),s.jsx(ae,{htmlFor:"altro",className:"cursor-pointer",children:"Altro (libri catalogati)"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xl font-bold pt-2",children:[s.jsx("span",{children:"Totale:"}),s.jsxs("span",{style:{color:"#45877F"},children:["",pr().toFixed(2)]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{onClick:pa,className:"w-full",style:{backgroundColor:"#45877F"},children:"Conferma Vendita"}),s.jsx(Z,{onClick:()=>D(!0),className:"w-full",variant:"outline",style:{borderColor:"#45877F",color:"#45877F"},children:"Prenota Articoli"})]})]})]})})]})})]}),s.jsx(As,{open:g,onOpenChange:v,children:s.jsxs(us,{children:[s.jsx(ds,{children:s.jsx(fs,{children:"Aggiungi Libro Non Catalogato"})}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{children:[s.jsx(ae,{children:"Prezzo ()"}),s.jsx(fe,{type:"number",step:"0.01",value:N,onChange:H=>S(H.target.value),placeholder:"0.00"})]})}),s.jsxs(Fo,{children:[s.jsx(Z,{variant:"outline",onClick:()=>v(!1),children:"Annulla"}),s.jsx(Z,{onClick:Hl,style:{backgroundColor:"#45877F"},children:"Aggiungi"})]})]})}),s.jsx(As,{open:j,onOpenChange:C,children:s.jsxs(us,{className:"bg-white",children:[s.jsx(ds,{className:"bg-white",children:s.jsx(fs,{children:"Aggiungi Altro"})}),s.jsxs("div",{className:"space-y-4 py-4 bg-white",children:[s.jsxs("div",{children:[s.jsx(ae,{children:"Nome Articolo"}),s.jsx(fe,{value:T,onChange:H=>P(H.target.value),placeholder:"Nome articolo",className:"bg-white"})]}),s.jsxs("div",{children:[s.jsx(ae,{children:"Prezzo ()"}),s.jsx(fe,{type:"number",step:"0.01",value:k,onChange:H=>E(H.target.value),placeholder:"0.00",className:"bg-white"})]})]}),s.jsxs(Fo,{className:"bg-white",children:[s.jsx(Z,{variant:"outline",onClick:()=>C(!1),children:"Annulla"}),s.jsx(Z,{onClick:lo,style:{backgroundColor:"#45877F"},children:"Aggiungi"})]})]})}),s.jsx(As,{open:I,onOpenChange:L,children:s.jsxs(us,{className:"bg-white",children:[s.jsx(ds,{className:"bg-white",children:s.jsx(fs,{children:"Ordine Online"})}),s.jsxs("div",{className:"space-y-4 py-4 bg-white",children:[s.jsxs("div",{children:[s.jsx(ae,{children:"Numero Ordine"}),s.jsx(fe,{value:R,onChange:H=>_(H.target.value),placeholder:"Es. ORD-12345",className:"bg-white"})]}),s.jsxs("div",{children:[s.jsx(ae,{children:"Metodo Pagamento Online"}),s.jsxs(yp,{value:W,onValueChange:$,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Po,{value:"paypal",id:"paypal"}),s.jsx(ae,{htmlFor:"paypal",className:"cursor-pointer",children:"PayPal"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Po,{value:"other",id:"other-online"}),s.jsx(ae,{htmlFor:"other-online",className:"cursor-pointer",children:"Altro"})]})]})]}),s.jsxs("div",{className:"text-sm text-slate-600",children:[s.jsx("p",{className:"font-semibold mb-2",children:"Riepilogo Commissioni:"}),n.map((H,ze)=>{const Ne=$s(H),Ae=ei(Ne,W);return s.jsxs("div",{className:"mb-2 p-2 bg-slate-50 rounded",children:[s.jsx("p",{className:"font-medium",children:H.name}),s.jsxs("p",{children:["Prezzo: ",Ne.toFixed(2)]}),s.jsxs("p",{children:["Commissioni: ",Ae.commission_total.toFixed(2)]}),s.jsxs("p",{className:"font-bold",style:{color:"#45877F"},children:["Netto: ",Ae.net_revenue.toFixed(2)]})]},ze)})]})]}),s.jsxs(Fo,{className:"bg-white",children:[s.jsx(Z,{variant:"outline",onClick:()=>L(!1),children:"Annulla"}),s.jsx(Z,{onClick:()=>ti(R),disabled:!R,style:{backgroundColor:"#45877F"},children:"Conferma"})]})]})}),s.jsx(As,{open:M,onOpenChange:D,children:s.jsxs(us,{className:"bg-white",children:[s.jsx(ds,{className:"bg-white",children:s.jsx(fs,{children:"Prenota Articoli"})}),s.jsxs("div",{className:"space-y-4 py-4 bg-white",children:[s.jsxs("div",{children:[s.jsx(ae,{children:"Cerca Cliente"}),s.jsx(fe,{value:Y,onChange:H=>ne(H.target.value),placeholder:"Cerca per nome o cognome...",className:"bg-white mb-2"}),tn.length>0&&s.jsx("div",{className:"border rounded-lg max-h-48 overflow-y-auto bg-white",children:tn.map(H=>s.jsxs("div",{className:"p-2 hover:bg-slate-100 cursor-pointer border-b last:border-0",onClick:()=>{V({...B,customer_name:H.nome,customer_surname:H.cognome,customer_contact:H.telefono||H.email||""}),ne("")},children:[s.jsxs("p",{className:"font-semibold",children:[H.nome," ",H.cognome]}),H.telefono&&s.jsx("p",{className:"text-xs text-slate-600",children:H.telefono})]},H.id))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(ae,{children:"Nome Cliente"}),s.jsx(fe,{value:B.customer_name,onChange:H=>V({...B,customer_name:H.target.value}),placeholder:"Nome",className:"bg-white"})]}),s.jsxs("div",{children:[s.jsx(ae,{children:"Cognome Cliente"}),s.jsx(fe,{value:B.customer_surname,onChange:H=>V({...B,customer_surname:H.target.value}),placeholder:"Cognome",className:"bg-white"})]})]}),s.jsxs("div",{children:[s.jsx(ae,{children:"Contatto (Tel/Email)"}),s.jsx(fe,{value:B.customer_contact,onChange:H=>V({...B,customer_contact:H.target.value}),placeholder:"Telefono o email",className:"bg-white"})]}),s.jsxs("div",{children:[s.jsx(ae,{children:"Acconto ()"}),s.jsx(fe,{type:"number",step:"0.01",value:B.deposit,onChange:H=>V({...B,deposit:parseFloat(H.target.value)||0}),placeholder:"0.00",className:"bg-white"})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"font-semibold",children:"Totale:"}),s.jsxs("span",{className:"font-bold",style:{color:"#45877F"},children:["",pr().toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{children:"Acconto:"}),s.jsxs("span",{children:["",(B.deposit||0).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"font-semibold",children:"Da pagare:"}),s.jsxs("span",{className:"font-bold text-orange-600",children:["",Math.max(0,pr()-(B.deposit||0)).toFixed(2)]})]})]})]}),s.jsxs(Fo,{className:"bg-white",children:[s.jsx(Z,{variant:"outline",onClick:()=>D(!1),children:"Annulla"}),s.jsx(Z,{onClick:async()=>{if(!B.customer_name||!B.customer_surname||!B.customer_contact){alert("Compila tutti i campi cliente");return}const H=pr(),ze=new Date().toISOString().split("T")[0];for(const Ne of n)if(Ne.type==="book"){const Ae=Q.find(rt=>rt.id===Ne.id);Ae&&await he.mutateAsync({id:Ne.id,data:{stock:Ae.stock-Ne.quantity}})}else if(Ne.type==="item"){const Ae=xe.find(rt=>rt.id===Ne.id);if(Ae){const rt=(Ae.venduto||0)+Ne.quantity,Ut=Ae.stock-Ne.quantity,Ze=(Ae.da_pagare||0)+Ne.quantity,ft=Ut-rt,Ot={stock:Ut,venduto:rt,giacenza:ft};Ae.contovendita==="SI"&&(Ot.da_pagare=Ze),await je.mutateAsync({id:Ne.id,data:Ot})}}await Pe.mutateAsync({...B,items:n.map(Ne=>({product_id:Ne.id_univoco,product_name:Ne.name,product_type:Ne.type,quantity:Ne.quantity,price:Ne.price,total:$s(Ne)})),total_amount:H,remaining:H-(B.deposit||0),reservation_date:ze,status:"active"}),await me.mutateAsync({nome:B.customer_name,cognome:B.customer_surname,tel_cliente:B.customer_contact,mail_cliente:"",prodotto:n.map(Ne=>`${Ne.name} (${Ne.quantity})`).join(", "),costo:0,prezzo_vendita:H,acconto:B.deposit||0,da_pagare:H-(B.deposit||0),ricavo:H,status:"ordinato",note:"Prenotazione creata da Cassa"})},disabled:!B.customer_name||!B.customer_surname||!B.customer_contact,style:{backgroundColor:"#45877F"},className:"text-white",children:"Conferma Prenotazione"})]})]})})]})}const yw={Dashboard:Wm,Books:OC,Authors:IC,Orders:zC,Inventory:QC,Sale:YC,Desiderata:XC,Gallery:vk,Accounting:bk,FidelityCard:wk,CatalogedBooks:jk,Customers:Nk,Suppliers:Sk,Shifts:Xk,Recommendations:Jk,Cassa:h2};function KB(e){e.endsWith("/")&&(e=e.slice(0,-1));let t=e.split("/").pop();return t.includes("?")&&(t=t.split("?")[0]),Object.keys(yw).find(o=>o.toLowerCase()===t.toLowerCase())||Object.keys(yw)[0]}function GB(){const e=ro(),t=KB(e.pathname);return s.jsx(hO,{currentPageName:t,children:s.jsxs(pT,{children:[s.jsx(Zt,{path:"/",element:s.jsx(Wm,{})}),s.jsx(Zt,{path:"/Dashboard",element:s.jsx(Wm,{})}),s.jsx(Zt,{path:"/Books",element:s.jsx(OC,{})}),s.jsx(Zt,{path:"/Authors",element:s.jsx(IC,{})}),s.jsx(Zt,{path:"/Orders",element:s.jsx(zC,{})}),s.jsx(Zt,{path:"/Inventory",element:s.jsx(QC,{})}),s.jsx(Zt,{path:"/Sale",element:s.jsx(YC,{})}),s.jsx(Zt,{path:"/Desiderata",element:s.jsx(XC,{})}),s.jsx(Zt,{path:"/Gallery",element:s.jsx(vk,{})}),s.jsx(Zt,{path:"/Accounting",element:s.jsx(bk,{})}),s.jsx(Zt,{path:"/FidelityCard",element:s.jsx(wk,{})}),s.jsx(Zt,{path:"/CatalogedBooks",element:s.jsx(jk,{})}),s.jsx(Zt,{path:"/Customers",element:s.jsx(Nk,{})}),s.jsx(Zt,{path:"/Suppliers",element:s.jsx(Sk,{})}),s.jsx(Zt,{path:"/Shifts",element:s.jsx(Xk,{})}),s.jsx(Zt,{path:"/Recommendations",element:s.jsx(Jk,{})}),s.jsx(Zt,{path:"/Cassa",element:s.jsx(h2,{})})]})})}function QB(){return s.jsx(zT,{children:s.jsx(GB,{})})}const YB=20,XB=1e6,er={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let im=0;function JB(){return im=(im+1)%Number.MAX_VALUE,im.toString()}const am=new Map,vw=e=>{if(am.has(e))return;const t=setTimeout(()=>{am.delete(e),dl({type:er.REMOVE_TOAST,toastId:e})},XB);am.set(e,t)},ZB=(e,t)=>{switch(t.type){case er.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,YB)};case er.UPDATE_TOAST:return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case er.DISMISS_TOAST:{const{toastId:n}=t;return n?vw(n):e.toasts.forEach(o=>{vw(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===n||n===void 0?{...o,open:!1}:o)}}case er.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Ru=[];let Au={toasts:[]};function dl(e){Au=ZB(Au,e),Ru.forEach(t=>{t(Au)})}function e8({...e}){const t=JB(),n=a=>dl({type:er.UPDATE_TOAST,toast:{...a,id:t}}),o=()=>dl({type:er.DISMISS_TOAST,toastId:t});return dl({type:er.ADD_TOAST,toast:{...e,id:t,open:!0,onOpenChange:a=>{a||o()}}}),{id:t,dismiss:o,update:n}}function t8(){const[e,t]=x.useState(Au);return x.useEffect(()=>(Ru.push(t),()=>{const n=Ru.indexOf(t);n>-1&&Ru.splice(n,1)}),[e]),{...e,toast:e8,dismiss:n=>dl({type:er.DISMISS_TOAST,toastId:n})}}const m2=x.forwardRef(({...e},t)=>s.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));m2.displayName="ToastProvider";const p2=x.forwardRef(({...e},t)=>s.jsx("div",{ref:t,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...e}));p2.displayName="ToastViewport";const n8=Jo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),g2=x.forwardRef(({className:e,variant:t,...n},o)=>s.jsx("div",{ref:o,className:Ce(n8({variant:t}),e),...n}));g2.displayName="Toast";const s8=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));s8.displayName="ToastAction";const x2=x.forwardRef(({className:e,...t},n)=>s.jsx("button",{ref:n,className:Ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Zn,{className:"h-4 w-4"})}));x2.displayName="ToastClose";const y2=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ce("text-sm font-semibold",e),...t}));y2.displayName="ToastTitle";const v2=x.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ce("text-sm opacity-90",e),...t}));v2.displayName="ToastDescription";function r8(){const{toasts:e}=t8();return s.jsxs(m2,{children:[e.map(function({id:t,title:n,description:o,action:a,...l}){return s.jsxs(g2,{...l,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(y2,{children:n}),o&&s.jsx(v2,{children:o})]}),a,s.jsx(x2,{})]},t)}),s.jsx(p2,{})]})}function o8(){return s.jsxs(s.Fragment,{children:[s.jsx(QB,{}),s.jsx(r8,{})]})}NE.createRoot(document.getElementById("root")).render(s.jsx(o8,{}));
